function isDomElement(t){return window.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType}window.u=window.u||{};var u=window.u;if(u.polyfill=!0,u._addClass=function(t,e){var i,n,s,o,a,r=/[\t\r\n\f]/g,l="string"==typeof e&&e,d=/\S+/g;if(l&&(i=(e||"").match(d)||[],n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(r," "):" "))){for(o=0;s=i[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=(n+"").trim(),t.className!==a&&(t.className=a)}return this},u._removeClass=function(t,e){var i,n,s,o,a,r=/\S+/g,l=/[\t\r\n\f]/g,d=0===arguments.length||"string"==typeof e&&e;if(d&&(i=(e||"").match(r)||[],n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(l," "):""))){for(o=0;s=i[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");a=e?(n+"").trim():"",t.className!==a&&(t.className=a)}return this},u._hasClass=function(t,e){var i=/[\t\r\n\f]/g;return 1===t.nodeType&&(" "+t.className+" ").replace(i," ").indexOf(e)>=0},u._toggleClass=function(t,e){u._hasClass(t,e)?u._removeClass(t,e):u._addClass(t,e)},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1}),Array.prototype.remove||(Array.prototype.remove=function(t){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,1)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var e=0,i=this.length;i>e;e++)t(this[e],e,this)}),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),!window.HTMLElement){var _querySelectorAll=Element.prototype.querySelectorAll;Element.prototype.querySelectorAll=function(t){var e=_querySelectorAll.call(this,t);if(!isDomElement(this))return e;for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i}}Element.prototype.addEventListener||(Element.prototype.addEventListener=function(t,e){var i=this;this.attachEvent("on"+t,function(){e.apply(i,arguments)})}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){for(var e=this,i=[],n=1,s=arguments.length;s>n;n++)i.push(arguments[n]);return function(){return e.apply(t,i.concat(Array.prototype.slice.call(arguments)))}}),window.getCurrentJsPath=function(){var t=document,e={},i=+new Date,n=/((?:http|https|file):\/\/.*?\/[^:]+)(?::\d+)?:\d+/,s=-1===(""+t.querySelector).indexOf("[native code]");if(t.currentScript)return t.currentScript.src;var o;try{e.b()}catch(a){o=a.fileName||a.sourceURL||a.stack||a.stacktrace}if(o){var r=n.exec(o)[1];if(r)return r}for(var l,d=t.scripts,h=d.length-1;l=d[h--];)if(l.className!==i&&"interactive"===l.readyState)return l.className=i,s?l.getAttribute("src",4):l.src},window.encodeBase64=function(t){for(var e,i,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=t.length,r="";a>o;){if(e=255&t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4),r+="==";break}if(i=t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2),r+="=";break}n=t[o++],r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2|(192&n)>>6),r+=s.charAt(63&n)}return r},+function(){function t(t){var e,i;for(e in t)i=t[e],J.Mutators.hasOwnProperty(e)?J.Mutators[e].call(this,i):this.prototype[e]=i}function i(e){return e.extend=J.extend,e.implement=t,e}function n(){}function s(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&-1===L(i,n))continue;"prototype"!==n&&(t[n]=e[n])}}function o(t,e){for(var i=0;i<et.registeredControls.length;i++)if(et.registeredControls[i].className===t)return"undefined"!=typeof e&&(et.registeredControls[i]=e),et.registeredControls[i];return!1}function a(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function r(t,e){var i=a(t);return-1!=i.indexOf(e)}function l(t,e){if(!("object"==typeof t&&t instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var i=a(t),n=[];if(e)r(t,e)||n.push(o(e));else for(var s=t.className,l=0;l<et.registeredControls.length;l++){var d=et.registeredControls[l];s.indexOf(d.cssClass)>-1&&-1===n.indexOf(d)&&!r(t,d.className)&&n.push(d)}for(var h,l=0,c=n.length;c>l;l++){if(h=n[l],!h)throw new Error("Unable to find a registered component for the given class.");if(!t[h.className]){i.push(h.className),t.setAttribute("data-upgraded",i.join(","));var u=new h.classConstructor(t);et.createdControls.push(u);for(var p=0,f=h.callbacks.length;f>p;p++)h.callbacks[p](t);t[h.className]=u}}}function d(t,e,i){if("undefined"==typeof t&&"undefined"==typeof e)for(var n=0;n<et.registeredControls.length;n++)d(et.registeredControls[n].className,registeredControls[n].cssClass,i);else{var s=t;if(!e){var a=o(s);a&&(e=a.cssClass)}for(var r=i?i:document,h=r.querySelectorAll("."+e),c=0;c<h.length;c++)l(h[c],s)}}function h(t){var e=dt,i=e.biDivideByRadixPower(t,this.k-1),n=e.biMultiply(i,this.mu),s=e.biDivideByRadixPower(n,this.k+1),o=e.biModuloByRadixPower(t,this.k+1),a=e.biMultiply(s,this.modulus),r=e.biModuloByRadixPower(a,this.k+1),l=e.biSubtract(o,r);l.isNeg&&(l=e.biAdd(l,this.bkplus1));for(var d=e.biCompare(l,this.modulus)>=0;d;)l=e.biSubtract(l,this.modulus),d=e.biCompare(l,this.modulus)>=0;return l}function c(t,e){var i=dt.biMultiply(t,e);return this.modulo(i)}function u(t,e){var i=new vt;i.digits[0]=1;for(var n=t,s=e;;){if(0!=(1&s.digits[0])&&(i=this.multiplyMod(i,n)),s=dt.biShiftRight(s,1),0==s.digits[0]&&0==dt.biHighIndex(s))break;n=this.multiplyMod(n,n)}return i}function p(){}function f(){}function m(t){this.update(t)}function v(t){this.update(t)}function g(t){this.update(t)}function _(t){this.update(t)}function C(t){this.update(t)}function y(t){this.update(t)}function b(){}function w(t){this.value=t}function x(t,e){this.value=t,this.color=e}function S(t){this.precision=t}function k(t){this.pattern=t}function D(t,e,i,n){function s(){var s=t.href.split("#")[1],o=n._content.querySelector("#"+s);n._resetTabState(e),n._resetPanelState(i),U.addClass(t,n._CssClasses.IS_ACTIVE),U.addClass(o,n._CssClasses.IS_ACTIVE)}var o=document.createElement("span");U.addClass(o,"u-ripple"),t.appendChild(o),new Dt(t),t.addEventListener("click",function(e){"#"===t.getAttribute("href").charAt(0)&&(e.preventDefault(),s())}),t.show=s,t.addEventListener("click",function(s){s.preventDefault();var o=t.href.split("#")[1],a=n._content.querySelector("#"+o);n._resetTabState(e),n._resetPanelState(i),U.addClass(t,n._CssClasses.IS_ACTIVE),U.addClass(a,n._CssClasses.IS_ACTIVE)})}function M(){var t,e={},i=navigator.userAgent.toLowerCase();return(t=i.match(/rv:([\d.]+)\) like gecko/))?e.ie=parseInt(t[1]):(t=i.match(/msie ([\d.]+)/))?e.ie=t[1]:(t=i.match(/firefox\/([\d.]+)/))?e.firefox=t[1]:(t=i.match(/chrome\/([\d.]+)/))?e.chrome=t[1]:(t=i.match(/opera.([\d.]+)/))?e.opera=t[1]:(t=i.match(/version\/([\d.]+).*safari/))?e.safari=t[1]:0,e}function E(t,e){U.addClass(t,".current"),e.browser.ie&&e.browser.ie<9||(t.style.transform="translate3d(0,0,0)")}function T(t,e,i){U.removeClass(t,"current"),e.browser.ie&&e.browser.ie<9||(t.style.transform="translate3d("+i+"px,0,0)")}function A(t,e){if(t){var i=document.createElement("span");U.addClass(i,e._CssClasses.U_RIPPLE_CONTAINER),U.addClass(i,e._CssClasses.U_JS_RIPPLE_EFFECT);var n=document.createElement("span");U.addClass(n,e._CssClasses.U_RIPPLE),i.appendChild(n),t.appendChild(i),t.ripple=new U.Ripple(t),t.addEventListener("click",function(i){U.stopEvent(i);var n=t.href.split("#")[1],s=e.element.querySelector("#"+n);e.resetTabState_(),e.resetPanelState_(),U.addClass(t,e._CssClasses.ACTIVE_CLASS),U.addClass(s,e._CssClasses.ACTIVE_CLASS)})}}function I(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{x:e,y:i}}function L(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1}function R(t,e){var i=t.getAttribute("time-change"),n=t.querySelector(".current");e.pickerDate[i](n._value),e._updateDate()}function O(t,e){t.style.transform="translateY("+(120-60*e)+"px)"}function N(t){return this.each(function(){var e=$(this),i=e.data("u.pagination"),n="object"==typeof t&&t;i?i.update(n):e.data("u.pagination",i=new Pagination(this,n))})}var F="i_languages",H="u_theme",P="u_locale",Y="usercode",W=!0,B={toString:1},j=Object.prototype.toString;for(var V in B)W=null;W&&(W=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),window.u=window.u||{};var U=window.u;if(U.enumerables=W,U.extend=function(t,e){var i,n=arguments;if(n.length>1)for(var s=1;s<n.length;s++)if(i=n[s],t&&i&&"object"==typeof i){var o,a,r;for(o in i)t[o]=i[o];if(W)for(a=W.length;a--;)r=W[a],i.hasOwnProperty&&i.hasOwnProperty(r)&&(t[r]=i[r])}return t},U.extend(U,{setCookie:function(t,e,i,n,s,o){var a=t+"="+encodeURIComponent(e);i&&(a+="; expires="+i.toGMTString()),n&&(a+="; path="+n),s&&(a+="; domain="+s),o&&(a+="; secure="+o),document.cookie=a},getCookie:function(t){var e="(?:; )?"+t+"=([^;]*);?",i=new RegExp(e);return i.test(document.cookie)?decodeURIComponent(RegExp.$1):null},createShellObject:function(t){var e=function(){};return e.prototype=t,new e},execIgnoreError:function(t,e,i){try{t.call(e,i)}catch(n){}},on:function(t,e,i,n){if(t){if(arguments.length<4)n=i,i=void 0;else var s=function(e){if(e){var s=t.querySelectorAll(i);s.forEach(function(t){t==e.target&&n.call(e.target,e)})}};if(t.uEvent||(t.uEvent={}),t.uEvent[e]){var o=i?s:n,a=!1;t.uEvent[e].forEach(function(t){t==o&&(a=!0)}),a||t.uEvent[e].push(i?s:n)}else t.uEvent[e]=[i?s:n],U.event&&U.event[e]&&U.event[e].setup&&U.event[e].setup.call(t),t.uEvent[e+"fn"]=function(i){i||(i="undefined"!=typeof event&&event?event:window.event),t.uEvent[e].forEach(function(e){i.target=i.target||i.srcElement,e&&e.call(t,i)})},t.addEventListener?t.addEventListener(e,t.uEvent[e+"fn"]):t.attachEvent?t.attachEvent("on"+e,t.uEvent[e+"fn"]):t["on"+e]=t.uEvent[e+"fn"]}},off:function(t,e,i){if(i)return void(t&&t.uEvent&&t.uEvent[e]&&t.uEvent[e].forEach(function(n,s){n==i&&t.uEvent[e].splice(s,1)}));var n=t.uEvent[e+"fn"];t.removeEventListener?t.removeEventListener(e,n):t.removeEvent?t.removeEvent("on"+e,n):delete t["on"+e],U.event&&U.event[e]&&U.event[e].teardown&&U.event[e].teardown.call(t),t.uEvent[e]=void 0,t.uEvent[e+"fn"]=void 0},trigger:function(t,e){t.uEvent&&t.uEvent[e]&&t.uEvent[e+"fn"]()},addClass:function(t,e){return"undefined"==typeof t.classList?U._addClass(t,e):t.classList.add(e),U},removeClass:function(t,e){return"undefined"==typeof t.classList?U._removeClass(t,e):t.classList.remove(e),U},hasClass:function(t,e){return"#text"===t.nodeName||"#comment"===t.nodeName?!1:"undefined"==typeof t.classList?U._hasClass(t,e):t.classList.contains(e)},toggleClass:function(t,e){return"undefined"==typeof t.classList?U._toggleClass(t,e):t.classList.toggle(e)},css:function(t,e,i){if(e instanceof Object)for(var n in e){var s=e[n];["width","height","top","bottom","left","right"].indexOf(n)>-1&&U.isNumber(s)&&(s+="px"),t.style[n]=s}else arguments.length>2?t.style[e]=i:U.getStyle(t,e)},wrap:function(t,e){var i=U.makeDOM(e);t.parentNode.insertBefore(i,t),i.appendChild(t)},getStyle:function(t,e){var i;return i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,void 0!==i[e]?i[e]:""},getZIndex:function(){return U.globalZIndex||(U.globalZIndex=2e3),U.globalZIndex++},makeDOM:function(t){var e=document.createElement("div");e.innerHTML=t;var i=e.children[0];return i},stopEvent:function(t){"undefined"!=typeof t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1)},getFunction:function(t,e){if(!e||"function"==typeof e)return e;if("function"==typeof t[e])return t[e];if("function"==typeof window[e])return window[e];if(-1!=e.indexOf(".")){var i=U.getJSObject(t,e);if("function"==typeof i)return i;if(i=U.getJSObject(window,e),"function"==typeof i)return i}return e},getJSObject:function(t,e){if(e){if("object"==typeof e)return e;for(var i=e.split("."),n=t,s=0;s<i.length;s++)if(n=n[i[s]],!n)return null;return n}},isDate:function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},isNumber:function(t){return t-parseFloat(t)+1>=0},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},inArray:function(t,e){if(!e instanceof Array)throw"arguments is not Array";for(var i=0,n=e.length;n>i;i++)if(t==e[i])return!0;return!1},each:function(t,e){if(t.forEach)t.forEach(function(t,i){e(i,t)});else{if(!(t instanceof Object))return;for(var i in t)e(i,t[i])}}}),function(){var t={},e={},i={},n={},s={"float":{precision:2},datetime:{format:"YYYY-MM-DD HH:mm:ss",metaType:"DateTimeFormatMeta",speratorSymbol:"-"},time:{format:"HH:mm"},date:{format:"YYYY-MM-DD"},currency:{precision:2,curSymbol:"￥"},percent:{}};n.getEnvironment=function(){return U.createShellObject(t)},n.getClientAttributes=function(){return U.createShellObject(e)},n.setContextPath=function(e){return t[IWEB_CONTEXT_PATH]=e},n.getContextPath=function(e){return t[IWEB_CONTEXT_PATH]},n.setClientAttribute=function(t,i){e[t]=i},n.getSessionAttributes=function(){return U.createShellObject(i)},n.setSessionAttribute=function(t,e){i[t]=e,setCookie("ISES_"+t,e)},n.removeClientAttribute=function(t){e[t]=null,execIgnoreError(function(){delete e[t]})},n.getLocale=function(){return this.getEnvironment().locale},n.getLanguages=function(){return this.getEnvironment().languages},n.collectEnvironment=function(){var t=this.getEnvironment(),i=this.getSessionAttributes();for(var n in e)i[n]=e[n];return t.clientAttributes=i,t},n.setMaskerMeta=function(t,e){if("function"==typeof t)getMetaFunc=t;else if(s[t])if("object"!=typeof e)s[t]=e;else for(var i in e)s[t][i]=e[i];else s[t]=e},n.getMaskerMeta=function(t){if("function"==typeof getMetaFunc){var e=getMetaFunc.call(this);return e[t]}return U.extend({},s[t])},t.languages=U.getCookie(F)?U.getCookie(F).split(","):navigator.language?navigator.language:"zh-CN",t.theme=U.getCookie(H),t.locale=U.getCookie(P),t.usercode=U.getCookie(Y),document.cookie.replace(/ISES_(\w*)=([^;]*);?/gi,function(t,e,n){i[e]=n});var o=function(){};o.prototype=n,U.core=new o}(),U.extend(U,{isIE:!1,isFF:!1,isOpera:!1,isChrome:!1,isSafari:!1,isWebkit:!1,isIE8_BEFORE:!1,isIE8:!1,isIE8_CORE:!1,isIE9:!1,isIE9_CORE:!1,isIE10:!1,isIE10_ABOVE:!1,isIE11:!1,isIOS:!1,isIphone:!1,isIPAD:!1,isStandard:!1,version:0,isWin:!1,isUnix:!1,isLinux:!1,isAndroid:!1,isMac:!1,hasTouch:!1}),function(){var t,e,i=navigator.userAgent,n=/(msie\s|trident.*rv:)([\w.]+)/,s=/(firefox)\/([\w.]+)/,o=/(opera).+version\/([\w.]+)/,a=/(chrome)\/([\w.]+)/,r=/version\/([\w.]+).*(safari)/,l=i.toLowerCase(),d={browser:"",version:""},h=n.exec(l);if(null!=h&&(d={browser:"IE",version:h[2]||"0"}),h=s.exec(l),null!=h&&(d={browser:h[1]||"",version:h[2]||"0"}),h=o.exec(l),null!=h&&(d={browser:h[1]||"",version:h[2]||"0"}),h=a.exec(l),null!=h&&(d={browser:h[1]||"",version:h[2]||"0"}),h=r.exec(l),null!=h&&(d={browser:h[2]||"",version:h[1]||"0"}),null!=h&&(d={browser:"",version:"0"}),(e=l.match(/opera.([\d.]+)/))?U.isOpera=!0:"IE"==d.browser&&11==d.version?(U.isIE11=!0,U.isIE=!0):(e=l.match(/chrome\/([\d.]+)/))?(U.isChrome=!0,U.isStandard=!0):(e=l.match(/version\/([\d.]+).*safari/))?(U.isSafari=!0,U.isStandard=!0):(e=l.match(/gecko/))?(U.isFF=!0,U.isStandard=!0):(e=l.match(/msie ([\d.]+)/))?U.isIE=!0:(e=l.match(/firefox\/([\d.]+)/))&&(U.isFF=!0,U.isStandard=!0),l.match(/webkit\/([\d.]+)/)&&(U.isWebkit=!0),l.match(/ipad/i)&&(U.isIOS=!0,U.isIPAD=!0,U.isStandard=!0),l.match(/iphone/i)&&(U.isIOS=!0,U.isIphone=!0),"Mac68K"!=navigator.platform&&"MacPPC"!=navigator.platform&&"Macintosh"!=navigator.platform&&"MacIntel"!=navigator.platform||(U.isMac=!0),"Win32"!=navigator.platform&&"Windows"!=navigator.platform||(U.isWin=!0),"X11"!=navigator.platform||U.isWin||U.isMac||(U.isUnix=!0),String(navigator.platform).indexOf("Linux")>-1&&(U.isLinux=!0),(l.indexOf("Android")>-1||l.indexOf("Adr")>-1)&&(U.isAndroid=!0),U.version=t&&d.version?d.version:0,U.isIE){var c=parseInt(U.version),u=document.documentMode;null==u?6!=c&&7!=c||(U.isIE8_BEFORE=!0):(7==u?U.isIE8_BEFORE=!0:8==u?U.isIE8=!0:9==u?(U.isIE9=!0,U.isSTANDARD=!0):10==u?(U.isIE10=!0,U.isSTANDARD=!0,U.isIE10_ABOVE=!0):U.isSTANDARD=!0,8==c?U.isIE8_CORE=!0:9==c?U.isIE9_CORE=!0:11==d.version&&(U.isIE11=!0))}"ontouchend"in document&&(U.hasTouch=!0)}(),U.isIE8_BEFORE)throw alert("uui 不支持IE8以前的浏览器版本，请更新IE浏览器或使用其它浏览器！"),new Error("uui 不支持IE8以前的浏览器版本，请更新IE浏览器或使用其它浏览器！");if(U.isIE8&&!U.polyfill)throw alert("IE8浏览器中使用uui 必须在u.js之前引入u-polyfill.js!"),new Error("IE8浏览器中使用uui 必须在uui之前引入u-polyfill.js!");window.iweb={},window.iweb.Core=U.core,window.iweb.browser={isIE:U.isIE,isFF:U.isFF,isOpera:U.isOpera,isChrome:U.isChrome,isSafari:U.isSafari,isWebkit:U.isWebkit,isIE8_BEFORE:U.isIE8_BEFORE,isIE8:U.isIE8,isIE8_CORE:U.isIE8_CORE,isIE9:U.isIE9,isIE9_CORE:U.isIE9_CORE,isIE10:U.isIE10,isIE10_ABOVE:U.isIE10_ABOVE,isIE11:U.isIE11,isIOS:U.isIOS,isIphone:U.isIphone,isIPAD:U.isIPAD,isStandard:U.isStandard,version:0,isWin:U.isWin,isUnix:U.isUnix,isLinux:U.isLinux,isAndroid:U.isAndroid,isMac:U.isMac,hasTouch:U.hasTouch},U.isDomElement=function(t){return window.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType},U.event={};var z=U.hasTouch?"touchstart":"mousedown",G=U.hasTouch?"touchend":"mouseup",X=U.hasTouch?"touchmove":"mousemove";U.event.tap={tapholdThreshold:750,emitTapOnTaphold:!0,touchstartFun:function(){U.trigger(this,"vmousedown")},touchendFun:function(){U.trigger(this,"vmouseup"),U.trigger(this,"vclick")},setup:function(){var t=this,e=!1;U.on(t,"vmousedown",function(i){function n(){clearTimeout(a)}function s(){n(),U.off(t,"vclick"),U.off(t,"vmouseup"),U.off(document,"vmousecancel")}function o(i){s(),e||r!==i.target?e&&i.preventDefault():U.trigger(t,"tap")}if(e=!1,i.which&&1!==i.which)return!1;var a,r=i.target;U.on(t,"vmouseup",n),U.on(t,"vclick",o),U.on(document,"vmousecancel",s),a=setTimeout(function(){U.event.tap.emitTapOnTaphold||(e=!0),U.trigger(t,"taphold"),s()},U.event.tap.tapholdThreshold)}),U.on(t,"touchstart",U.event.tap.touchstartFun),U.on(t,"touchend",U.event.tap.touchendFun)},teardown:function(){U.off(thisObject,"vmousedown"),U.off(thisObject,"vclick"),U.off(thisObject,"vmouseup"),U.off(document,"vmousecancel")}},U.event.taphold=U.event.tap,U.event.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var e=window.pageXOffset,i=window.pageYOffset,n=t.clientX,s=t.clientY;return 0===t.pageY&&Math.floor(s)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(n)>Math.floor(t.pageX)?(n-=e,s-=i):(s<t.pageY-i||n<t.pageX-e)&&(n=t.pageX-e,s=t.pageY-i),{x:n,y:s}},start:function(t){var e=t.touches?t.touches[0]:t,i=U.event.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:t.target}},stop:function(t){var e=t.touches?t.touches[0]:t,i=U.event.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,e,i,n){if(e.time-t.time<U.event.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>U.event.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<U.event.swipe.verticalDistanceThreshold){var s=t.coords[0]>e.coords[0]?"swipeleft":"swiperight";return U.trigger(i,"swipe"),U.trigger(i,s),!0}return!1},eventInProgress:!1,setup:function(){var t,e=this,i={};t=e["mobile-events"],t||(t={length:0},e["mobile-events"]=t),t.length++,t.swipe=i,i.start=function(t){if(!U.event.swipe.eventInProgress){U.event.swipe.eventInProgress=!0;var n,s=U.event.swipe.start(t),o=t.target,a=!1;i.move=function(t){s&&(n=U.event.swipe.stop(t),a||(a=U.event.swipe.handleSwipe(s,n,e,o),a&&(U.event.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-n.coords[0])>U.event.swipe.scrollSupressionThreshold&&t.preventDefault())},i.stop=function(){a=!0,U.event.swipe.eventInProgress=!1,U.off(document,X,i.move),i.move=null},U.on(document,X,i.move),U.on(document,G,i.stop)}},U.on(e,z,i.start)},teardown:function(){var t,e;t=thisObject["mobile-events"],t&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&(thisObject["mobile-events"]=null)),e&&(e.start&&U.off(thisObject,z,e.start),e.move&&U.off(document,X,e.move),e.stop&&U.off(document,G,e.stop))}},U.event.swipeleft=U.event.swipe,U.event.swiperight=U.event.swipe,NodeList.prototype.forEach=Array.prototype.forEach,String.prototype.lengthb=function(){var t=this.replace(/[^\x00-\xff]/g,"**");return t.length},String.prototype.replaceAll=function(t,e){var i=new RegExp(t,"g");return this.replace(i,e)};var K={get:"get",post:"post",reqCount:4,createXhr:function(){var t=null;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},ajax:function(t){var e=t.url,i=t.success,n=void 0==t.async?!0:t.async,s=t.error,o=t.data,a=(void 0==t.type?K.post:t.type).toLowerCase(),r=o.compressType;e=K.serializeUrl(e),o=K.serializeParams(o),"gzip"==r&&(o=o.replace(/\+/g,"%2B").replace(/\"/g,"%22").replace(/\'/g,"%27").replace(/\//g,"%2F")),a==K.get&&null!=o&&(e+="&"+o,o=null);var l=K.createXhr();l.open(a,e,n),a==K.post&&l.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset=UTF-8");var d=0;n?(l.onreadystatechange=function(){d++,this.readyState==K.reqCount&&K.execBack(l,i,s)},"gzip"==r?l.send(o):a==K.post?l.send(encodeURI(o)):l.send(o)):("gzip"==r?l.send(o):a==K.post?l.send(encodeURI(o)):l.send(o),K.execBack(l,i,s))},execBack:function(t,e,i){if(200==t.status||304==t.status)e(t.responseText,t.status,t);else if(i)i(t.responseText,t.status,t);else{var n="no error callback function!";t.responseText&&(n=t.responseText),alert(n)}},serializeUrl:function(t){var e="cache="+Math.random();return t+=t.indexOf("?")>0?"&"+e:"?"+e},serializeParams:function(t){var e=void 0;if(e==t||null==t||""==t)return null;if(t.constructor==Object){var i="";for(var n in t)i+=n+"="+t[n]+"&";return i.substring(0,i.length-1)}return t}};U.ajax=K.ajax;var J=function(t){return this instanceof J||!tt(t)?void 0:i(t)};J.create=function(e,n){function o(){e.apply(this,arguments),this.constructor===o&&this.initialize&&this.initialize.apply(this,arguments)}return tt(e)||(n=e,e=null),n||(n={}),e||(e=n.Extends||J),n.Extends=e,e!==J&&s(o,e,e.StaticsWhiteList),t.call(o,n),i(o)},J.extend=function(t){return t||(t={}),t.Extends=this,J.create(t)},J.Mutators={Extends:function(t){var e=this.prototype,i=Z(t.prototype);s(i,e),i.constructor=this,this.prototype=i,this.superclass=t.prototype},Implements:function(t){Q(t)||(t=[t]);for(var e,i=this.prototype;e=t.shift();)s(i,e.prototype||e)},Statics:function(t){s(this,t)}};var Z=Object.__proto__?function(t){return{__proto__:t}}:function(t){return n.prototype=t,new n},j=Object.prototype.toString,Q=Array.isArray||function(t){return"[object Array]"===j.call(t)},tt=function(t){return"[object Function]"===j.call(t)},L=function(t,e){if(Array.prototype.indexOf&&t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};U.Class=J;var et={plugs:{},dataAdapters:{},registeredControls:[],createdControls:[],apply:function(t){if(t)var e=t.el||document.body,i=t.model;"string"==typeof e&&(e=document.body.querySelector(e)),null!=e&&"object"==typeof e||(e=document.body);var n=e.querySelectorAll("[u-meta]");n.forEach(function(t){if(!t.comp){var e=JSON.parse(t.getAttribute("u-meta"));if(e&&e.type){var n=et.createDataAdapter({el:t,options:e,model:i});n&&(t.adpt=n,t["u-meta"]=n)}}})},addPlug:function(t){var e=t.plug,i=t.name;if(this.plugs||(this.plugs={}),this.plugs[i])throw new Error("plug has exist:"+i);e.compType=i,this.plugs[i]=e},addDataAdapter:function(t){var e=t.adapter,i=t.name;if(this.dataAdapters||(dataAdapters={}),this.dataAdapters[i])throw new Error("dataAdapter has exist:"+i);this.dataAdapters[i]=e},getDataAdapter:function(t){return t?(this.dataAdapters||(dataAdapters={}),this.dataAdapters[t]):void 0},createDataAdapter:function(t){var e=t.options,i=e.type,n=this.dataAdapters[i];if(!n)return null;var s=new n(t);return s.type=i,s},_createComp:function(t){var e=t.options,i=e.type,n=this.plugs[i];if(!n)return null;var s=new n(t);return s.type=i,s},regComp:function(t){for(var e={classConstructor:t.comp,className:t.compAsString||t.compAsString,cssClass:t.css||t.css,callbacks:[]},i=0;i<this.registeredControls.length;i++){var n=this.registeredControls[i];if(n.cssClass===e.cssClass)throw new Error("The provided cssClass has already been registered: "+n.cssClass);if(n.className===e.className)throw new Error("The provided className has already been registered")}this.registeredControls.push(e)},updateComp:function(t){for(var e=0;e<this.registeredControls.length;e++)d(this.registeredControls[e].className,null,t)}};if(U.compMgr=et,window.i18n){var it=getCurrentJsPath(),nt=it.substr(0,it.lastIndexOf("/")),st=nt.substr(0,nt.lastIndexOf("/"));U.uuii18n=U.extend({},window.i18n),U.uuii18n.init({postAsync:!1,getAsync:!1,fallbackLng:!1,ns:{namespaces:["uui-trans"]},resGetPath:st+"/locales/__lng__/__ns__.json"})}window.trans=U.trans=function(t,e){return U.uuii18n?U.uuii18n.t("uui-trans:"+t):e},"undefined"==typeof U.RSAUtils&&(U.RSAUtils={});var ot,at,rt,lt,dt=U.RSAUtils,ht=16,ct=ht,ut=65536,pt=ut>>>1,ft=ut*ut,mt=ut-1,vt=U.BigInt=function(t){"boolean"==typeof t&&1==t?this.digits=null:this.digits=at.slice(0),this.isNeg=!1};dt.setMaxDigits=function(t){ot=t,at=new Array(ot);for(var e=0;e<at.length;e++)at[e]=0;rt=new vt,lt=new vt,lt.digits[0]=1},dt.setMaxDigits(20);var gt=15;dt.biFromNumber=function(t){var e=new vt;e.isNeg=0>t,t=Math.abs(t);for(var i=0;t>0;)e.digits[i++]=t&mt,t=Math.floor(t/ut);return e};var _t=dt.biFromNumber(1e15);dt.biFromDecimal=function(t){for(var e,i="-"==t.charAt(0),n=i?1:0;n<t.length&&"0"==t.charAt(n);)++n;if(n==t.length)e=new vt;else{var s=t.length-n,o=s%gt;for(0==o&&(o=gt),e=dt.biFromNumber(Number(t.substr(n,o))),n+=o;n<t.length;)e=dt.biAdd(dt.biMultiply(e,_t),dt.biFromNumber(Number(t.substr(n,gt)))),n+=gt;e.isNeg=i}return e},dt.biCopy=function(t){var e=new vt(!0);return e.digits=t.digits.slice(0),e.isNeg=t.isNeg,e},dt.reverseStr=function(t){for(var e="",i=t.length-1;i>-1;--i)e+=t.charAt(i);return e};var Ct=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];dt.biToString=function(t,e){var i=new vt;i.digits[0]=e;for(var n=dt.biDivideModulo(t,i),s=Ct[n[1].digits[0]];1==dt.biCompare(n[0],rt);)n=dt.biDivideModulo(n[0],i),digit=n[1].digits[0],s+=Ct[n[1].digits[0]];return(t.isNeg?"-":"")+dt.reverseStr(s)},dt.biToDecimal=function(t){var e=new vt;e.digits[0]=10;for(var i=dt.biDivideModulo(t,e),n=String(i[1].digits[0]);1==dt.biCompare(i[0],rt);)i=dt.biDivideModulo(i[0],e),n+=String(i[1].digits[0]);return(t.isNeg?"-":"")+dt.reverseStr(n)};var yt=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];dt.digitToHex=function(t){for(var e=15,i="",n=0;4>n;++n)i+=yt[t&e],t>>>=4;return dt.reverseStr(i)},dt.biToHex=function(t){for(var e="",i=(dt.biHighIndex(t),dt.biHighIndex(t));i>-1;--i)e+=dt.digitToHex(t.digits[i]);return e},dt.charToHex=function(t){var e,i=48,n=i+9,s=97,o=s+25,a=65,r=90;return e=t>=i&&n>=t?t-i:t>=a&&r>=t?10+t-a:t>=s&&o>=t?10+t-s:0},dt.hexToDigit=function(t){for(var e=0,i=Math.min(t.length,4),n=0;i>n;++n)e<<=4,e|=dt.charToHex(t.charCodeAt(n));return e},dt.biFromHex=function(t){for(var e=new vt,i=t.length,n=i,s=0;n>0;n-=4,++s)e.digits[s]=dt.hexToDigit(t.substr(Math.max(n-4,0),Math.min(n,4)));return e},dt.biFromString=function(t,e){var i="-"==t.charAt(0),n=i?1:0,s=new vt,o=new vt;o.digits[0]=1;for(var a=t.length-1;a>=n;a--){var r=t.charCodeAt(a),l=dt.charToHex(r),d=dt.biMultiplyDigit(o,l);s=dt.biAdd(s,d),o=dt.biMultiplyDigit(o,e)}return s.isNeg=i,s},dt.biDump=function(t){return(t.isNeg?"-":"")+t.digits.join(" ")},dt.biAdd=function(t,e){var i;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,i=dt.biSubtract(t,e),e.isNeg=!e.isNeg;else{i=new vt;for(var n,s=0,o=0;o<t.digits.length;++o)n=t.digits[o]+e.digits[o]+s,i.digits[o]=n%ut,s=Number(n>=ut);i.isNeg=t.isNeg}return i},dt.biSubtract=function(t,e){var i;if(t.isNeg!=e.isNeg)e.isNeg=!e.isNeg,i=dt.biAdd(t,e),e.isNeg=!e.isNeg;else{i=new vt;var n,s;s=0;for(var o=0;o<t.digits.length;++o)n=t.digits[o]-e.digits[o]+s,i.digits[o]=n%ut,i.digits[o]<0&&(i.digits[o]+=ut),s=0-Number(0>n);if(-1==s){s=0;for(var o=0;o<t.digits.length;++o)n=0-i.digits[o]+s,i.digits[o]=n%ut,i.digits[o]<0&&(i.digits[o]+=ut),s=0-Number(0>n);i.isNeg=!t.isNeg}else i.isNeg=t.isNeg}return i},dt.biHighIndex=function(t){for(var e=t.digits.length-1;e>0&&0==t.digits[e];)--e;return e},dt.biNumBits=function(t){var e,i=dt.biHighIndex(t),n=t.digits[i],s=(i+1)*ct;for(e=s;e>s-ct&&0==(32768&n);--e)n<<=1;return e},dt.biMultiply=function(t,e){for(var i,n,s,o=new vt,a=dt.biHighIndex(t),r=dt.biHighIndex(e),l=0;r>=l;++l){i=0,s=l;for(var d=0;a>=d;++d,++s)n=o.digits[s]+t.digits[d]*e.digits[l]+i,o.digits[s]=n&mt,i=n>>>ht;o.digits[l+a+1]=i}return o.isNeg=t.isNeg!=e.isNeg,o},dt.biMultiplyDigit=function(t,e){var i,n,s,o=new vt;i=dt.biHighIndex(t),n=0;for(var a=0;i>=a;++a)s=o.digits[a]+t.digits[a]*e+n,o.digits[a]=s&mt,n=s>>>ht;return o.digits[1+i]=n,o},dt.arrayCopy=function(t,e,i,n,s){for(var o=Math.min(e+s,t.length),a=e,r=n;o>a;++a,++r)i[r]=t[a]};var bt=[0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535];dt.biShiftLeft=function(t,e){var i=Math.floor(e/ct),n=new vt;dt.arrayCopy(t.digits,0,n.digits,i,n.digits.length-i);for(var s=e%ct,o=ct-s,a=n.digits.length-1,r=a-1;a>0;--a,--r)n.digits[a]=n.digits[a]<<s&mt|(n.digits[r]&bt[s])>>>o;return n.digits[0]=n.digits[a]<<s&mt,n.isNeg=t.isNeg,n};var wt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];dt.biShiftRight=function(t,e){var i=Math.floor(e/ct),n=new vt;dt.arrayCopy(t.digits,i,n.digits,0,t.digits.length-i);for(var s=e%ct,o=ct-s,a=0,r=a+1;a<n.digits.length-1;++a,++r)n.digits[a]=n.digits[a]>>>s|(n.digits[r]&wt[s])<<o;return n.digits[n.digits.length-1]>>>=s,n.isNeg=t.isNeg,n},dt.biMultiplyByRadixPower=function(t,e){var i=new vt;return dt.arrayCopy(t.digits,0,i.digits,e,i.digits.length-e),i},dt.biDivideByRadixPower=function(t,e){var i=new vt;return dt.arrayCopy(t.digits,e,i.digits,0,i.digits.length-e),i},dt.biModuloByRadixPower=function(t,e){var i=new vt;return dt.arrayCopy(t.digits,0,i.digits,0,e),i},dt.biCompare=function(t,e){if(t.isNeg!=e.isNeg)return 1-2*Number(t.isNeg);for(var i=t.digits.length-1;i>=0;--i)if(t.digits[i]!=e.digits[i])return t.isNeg?1-2*Number(t.digits[i]>e.digits[i]):1-2*Number(t.digits[i]<e.digits[i]);return 0},dt.biDivideModulo=function(t,e){var i,n,s=dt.biNumBits(t),o=dt.biNumBits(e),a=e.isNeg;if(o>s)return t.isNeg?(i=dt.biCopy(lt),i.isNeg=!e.isNeg,t.isNeg=!1,e.isNeg=!1,n=biSubtract(e,t),t.isNeg=!0,e.isNeg=a):(i=new vt,n=dt.biCopy(t)),[i,n];i=new vt,n=t;for(var r=Math.ceil(o/ct)-1,l=0;e.digits[r]<pt;)e=dt.biShiftLeft(e,1),++l,++o,r=Math.ceil(o/ct)-1;n=dt.biShiftLeft(n,l),s+=l;for(var d=Math.ceil(s/ct)-1,h=dt.biMultiplyByRadixPower(e,d-r);-1!=dt.biCompare(n,h);)++i.digits[d-r],n=dt.biSubtract(n,h);for(var c=d;c>r;--c){var u=c>=n.digits.length?0:n.digits[c],p=c-1>=n.digits.length?0:n.digits[c-1],f=c-2>=n.digits.length?0:n.digits[c-2],m=r>=e.digits.length?0:e.digits[r],v=r-1>=e.digits.length?0:e.digits[r-1];u==m?i.digits[c-r-1]=mt:i.digits[c-r-1]=Math.floor((u*ut+p)/m);for(var g=i.digits[c-r-1]*(m*ut+v),_=u*ft+(p*ut+f);g>_;)--i.digits[c-r-1],g=i.digits[c-r-1]*(m*ut|v),_=u*ut*ut+(p*ut+f);h=dt.biMultiplyByRadixPower(e,c-r-1),n=dt.biSubtract(n,dt.biMultiplyDigit(h,i.digits[c-r-1])),n.isNeg&&(n=dt.biAdd(n,h),--i.digits[c-r-1])}return n=dt.biShiftRight(n,l),i.isNeg=t.isNeg!=a,t.isNeg&&(i=a?dt.biAdd(i,lt):dt.biSubtract(i,lt),e=dt.biShiftRight(e,l),n=dt.biSubtract(e,n)),0==n.digits[0]&&0==dt.biHighIndex(n)&&(n.isNeg=!1),[i,n]},dt.biDivide=function(t,e){return dt.biDivideModulo(t,e)[0]},dt.biModulo=function(t,e){return dt.biDivideModulo(t,e)[1]},dt.biMultiplyMod=function(t,e,i){return dt.biModulo(dt.biMultiply(t,e),i)},dt.biPow=function(t,e){for(var i=lt,n=t;;){
if(0!=(1&e)&&(i=dt.biMultiply(i,n)),e>>=1,0==e)break;n=dt.biMultiply(n,n)}return i},dt.biPowMod=function(t,e,i){for(var n=lt,s=t,o=e;;){if(0!=(1&o.digits[0])&&(n=dt.biMultiplyMod(n,s,i)),o=dt.biShiftRight(o,1),0==o.digits[0]&&0==dt.biHighIndex(o))break;s=dt.biMultiplyMod(s,s,i)}return n},U.BarrettMu=function(t){this.modulus=dt.biCopy(t),this.k=dt.biHighIndex(this.modulus)+1;var e=new vt;e.digits[2*this.k]=1,this.mu=dt.biDivide(e,this.modulus),this.bkplus1=new vt,this.bkplus1.digits[this.k+1]=1,this.modulo=h,this.multiplyMod=c,this.powMod=u};var xt=function(t,e,i){var n=dt;this.e=n.biFromHex(t),this.d=n.biFromHex(e),this.m=n.biFromHex(i),this.chunkSize=2*n.biHighIndex(this.m),this.radix=16,this.barrett=new U.BarrettMu(this.m)};dt.getKeyPair=function(t,e,i){return new xt(t,e,i)},"undefined"==typeof U.twoDigit&&(U.twoDigit=function(t){return(10>t?"0":"")+String(t)}),dt._encryptedString=function(t,e){for(var i=[],n=e.length,s=0;n>s;)i[s]=e.charCodeAt(s),s++;for(;i.length%t.chunkSize!=0;)i[s++]=0;var o,a,r,l=i.length,d="";for(s=0;l>s;s+=t.chunkSize){for(r=new vt,o=0,a=s;a<s+t.chunkSize;++o,a++)r.digits[o]=i[a],r.digits[o]+=i[a]<<8;var h=t.barrett.powMod(r,t.e),c=16==t.radix?dt.biToHex(h):dt.biToString(h,t.radix);d+=c+" "}return d.substring(0,d.length-1)},dt._decryptedString=function(t,e){var i,n,s,o=e.split(" "),a="";for(i=0;i<o.length;++i){var r;for(r=16==t.radix?dt.biFromHex(o[i]):dt.biFromString(o[i],t.radix),s=t.barrett.powMod(r,t.d),n=0;n<=dt.biHighIndex(s);++n)a+=String.fromCharCode(255&s.digits[n],s.digits[n]>>8)}return 0==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},dt.setMaxDigits(130),dt.encryptedString=function(t){var e=t.text;if(t.exponent&&t.modulus){var i=dt.getKeyPair(t.exponent,"",t.modulus);e=dt._encryptedString(i,t.text)}return e},dt.decryptedString=function(t){var e=t.text;if(t.exponent&&t.modulus){var i=dt.getKeyPair("",t.exponent,t.modulus);e=dt._decryptedString(i,t.text)}return e},p.prototype.format=function(t){if(null==t)return null;var e=this.formatArgument(t);return this.innerFormat(e)},p.prototype.formatArgument=function(t){},p.prototype.innerFormat=function(t){},f.prototype=new p,f.prototype.elements=new Array,f.prototype.format=function(t){if(null==t)return null;var e=this.formatArgument(t);return this.innerFormat(e)},f.prototype.formatArgument=function(t){return t},f.prototype.innerFormat=function(t){if(null==t||""==t)return new x(t);this.doSplit();var e="";return e=this.getElementsValue(this.elements,t),new x(e)},f.prototype.getElementsValue=function(t,e){var i="";if(t instanceof Array)for(var n=0;n<t.length;n++)i+=this.getElementsValue(t[n],e);else t.getValue&&(i=t.getValue(e));return i},f.prototype.getExpress=function(){},f.prototype.doSplit=function(){var t=this.getExpress();null!=this.elements&&0!=this.elements.length||(this.elements=this.doQuotation(t,this.getSeperators(),this.getReplaceds(),0))},f.prototype.doQuotation=function(t,e,i,n){if(0==t.length)return null;var s,o=new Array,a=new RegExp('".*?"',"g"),r=0;do if(s=a.exec(t),null!=s){var l=s.index,d=a.lastIndex;if(l!=d&&l>r){var h=this.doSeperator(t.substring(r,l),e,i,n);null!=h&&h.length>0&&o.push(h)}o.push(new w(t.substring(l+1,d-1))),r=d}while(null!=s);if(r<t.length){var h=this.doSeperator(t.substring(r,t.length),e,i,n);null!=h&&h.length>0&&o.push(h)}return o},f.prototype.doSeperator=function(t,e,i,n){if(n>=e.length){var s=new Array;return s.push(this.getVarElement(t)),s}if(0==t.length)return null;var o,a=0,s=new Array,r=new RegExp(e[n],"g");do if(o=r.exec(t),null!=o){var l=o.index,d=r.lastIndex;if(l!=d){if(l>a){var h=this.doSeperator(t.substring(a,l),e,i,n+1);null!=h&&h.length>0&&s.push(h)}null!=i[n]?s.push(new w(i[n])):s.push(new w(t.substring(l,d))),a=d}}while(null!=o);if(a<t.length){var h=this.doSeperator(t.substring(a,t.length),e,i,n+1);null!=h&&h.length>0&&s.push(h)}return s},m.prototype=new f,m.prototype.update=function(t){this.formatMeta=U.extend({},m.DefaultFormatMeta,t)},m.prototype.getExpress=function(){return this.formatMeta.express},m.prototype.getReplaceds=function(){return[this.formatMeta.separator]},m.prototype.getSeperators=function(){return["(\\s)+?"]},m.prototype.getVarElement=function(t){var e={};return"C"==t&&(e.getValue=function(t){return t.country}),"S"==t&&(e.getValue=function(t){return t.state}),"T"==t&&(e.getValue=function(t){return t.city}),"D"==t&&(e.getValue=function(t){return t.section}),"R"==t&&(e.getValue=function(t){return t.road}),"P"==t&&(e.getValue=function(t){return t.postcode}),void 0==typeof e.getValue?new w(t):e},m.prototype.formatArgument=function(t){return t},v.prototype=new p,v.prototype.formatMeta=null,v.prototype.update=function(t){this.formatMeta=U.extend({},v.DefaultFormatMeta,t)},v.prototype.innerFormat=function(t){var e,i,n,s;e=t.value,e>0?(i=this.formatMeta.positiveFormat,s=e+""):0>e?(i=this.formatMeta.negativeFormat,s=(e+"").substr(1,(e+"").length-1)):(i=this.formatMeta.positiveFormat,s=e+""),n=s.indexOf("."),s=this.setTheSeperator(s,n),s=this.setTheMark(s,n);var o=null;return 0>e&&this.formatMeta.isNegRed&&(o="FF0000"),new x(i.replaceAll("n",s),o)},v.prototype.setTheMark=function(t,e){var i,n,s;if(!this.formatMeta.isMarkEnable)return t;for(0>=e&&(e=t.length),n=t.charCodeAt(0),i=0,45==n&&(i=1),s=e-3;s>i;)t=t.substr(0,s-0)+this.formatMeta.markSymbol+t.substr(s,t.length-s),s-=3;return t},v.prototype.setTheSeperator=function(t,e){var i;return e>0&&(i=v.toCharArray(t),i[e]=this.formatMeta.pointSymbol,t=i.join("")),t},v.toCharArray=function(t){for(var t=t.split(""),e=new Array,i=0;i<t.length;i++)e.push(t[i]);return e},v.prototype.formatArgument=function(t){var e={};return e.value=t,e},g.prototype=new v,g.prototype.formatMeta=null,g.prototype.update=function(t){this.formatMeta=U.extend({},g.DefaultFormatMeta,t)},g.prototype.innerFormat=function(t){if(!t.value)return{value:""};var e=new v(this.formatMeta).innerFormat(t);return e.value=this.formatMeta.curSymbol+e.value,e},_.prototype=new f,_.prototype.formatMeta=null,_.prototype.update=function(t){this.formatMeta=U.extend({},_.DefaultFormatMeta,t)},_.enShortMonth=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_.enLongMonth=["January","February","March","April","May","June","July","August","September","October","November","December"],_.prototype.doOne=function(t){if(0==t.length)return"";var e=new Object;return"yyyy"==t.toLowerCase()&&(e.getValue=function(t){return _.getyyyy(t)}),"yy"==t.toLowerCase()&&(e.getValue=function(t){return _.getyy(t)}),"MMMM"==t&&(e.getValue=function(t){return _.getMMMM(t)}),"MMM"==t&&(e.getValue=function(t){return _.getMMM(t)}),"MM"==t&&(e.getValue=function(t){return _.getMM(t)}),"M"==t&&(e.getValue=function(t){return _.getM(t)}),"dd"==t.toLowerCase()&&(e.getValue=function(t){return _.getdd(t)}),"d"==t.toLowerCase()&&(e.getValue=function(t){return _.getd(t)}),"hh"==t&&(e.getValue=function(t){return _.gethh(t)}),"h"==t&&(e.getValue=function(t){return _.geth(t)}),"mm"==t&&(e.getValue=function(t){return _.getmm(t)}),"m"==t&&(e.getValue=function(t){return _.getm(t)}),"ss"==t&&(e.getValue=function(t){return _.getss(t)}),"s"==t&&(e.getValue=function(t){return _.gets(t)}),"HH"==t&&(e.getValue=function(t){return _.getHH(t)}),"H"==t&&(e.getValue=function(t){return _.getH(t)}),"t"==t&&(e.getValue=function(t){return _.gett(t)}),"st"==t&&(e.getValue=function(t){return _.gets(t)+_.gett(t)}),"mt"==t&&(e.getValue=function(t){return _.getm(t)+_.gett(t)}),"yyyyMMdd"==t&&(e.getValue=function(t){return _.getyyyy(t)+_.getMM(t)+_.getdd(t)}),"undefined"==typeof e.getValue&&(e.getValue=function(t){return _.getyyyy(t)+"-"+_.getMM(t)+"-"+_.getdd(t)}),e},_.getyyyy=function(t){return t.getFullYear()},_.getyy=function(t){return(""+t.getFullYear()).substring(2)},_.getM=function(t){return""+(t.getMonth()+1)},_.getMM=function(t){var e=t.getMonth()+1;return 10>e?"0"+e:e},_.getMMM=function(t){return this.enShortMonth[t.getMonth()]},_.getMMMM=function(t){return this.enLongMonth[t.getMonth()]},_.getdd=function(t){var e=t.getDate();return 10>e?"0"+e:t.getDate()+""},_.getd=function(t){return t.getDate()+""},_.gethh=function(t){var e=t.getHours();return 10>e?"0"+e:t.getHours()+""},_.geth=function(t){return t.getHours()+""},_.getHH=function(t){var e=t.getHours();return e>=12&&(e-=12),10>e?"0"+e:e+""},_.getH=function(t){var e=t.getHours();return e>=12&&(e-=12),e+""},_.getmm=function(t){var e=t.getMinutes();return 10>e?"0"+e:t.getMinutes()+""},_.getm=function(t){return""+t.getMinutes()},_.getss=function(t){var e=t.getSeconds();return 10>e?"0"+e:e+""},_.gets=function(t){return t.getSeconds()+""},_.gett=function(t){var e=t.getHours();return 12>=e?"AM":"PM"},_.prototype.getExpress=function(){return this.formatMeta.format},_.prototype.getReplaceds=function(){return[" ",this.formatMeta.speratorSymbol,":"]},_.prototype.getSeperators=function(){return["(\\s)+?","-",":"]},_.prototype.getVarElement=function(t){return this.doOne(t)},_.prototype.formatArgument=function(t){if(0==t)return"";if(null==t||""==t)return t;if("string"==typeof t){var e=t.split(" "),i=new Date;if(e.length>0)if(e[0].indexOf("-")>0){var n=e[0].split("-");if(i.setDate(1),i.setFullYear(parseInt(n[0],10)),i.setMonth(parseInt(n[1],10)-1),i.setDate(parseInt(n[2],10)),2==e.length&&void 0!=e[1]){var s=e[1].split(":");i.setHours(parseInt(s[0],10)),i.setMinutes(parseInt(s[1],10)),i.setSeconds(parseInt(s[2],10)),s.length>3&&i.setMilliseconds(parseInt(s[3],10))}}else{var s=e[0].split(":");i.setHours(parseInt(s[0],10)),i.setMinutes(parseInt(s[1],10)),i.setSeconds(parseInt(s[2],10)),s.length>3&&i.setMilliseconds(parseInt(s[3],10))}return i}return t},C.prototype=new _,C.DefaultFormatMeta=U.extend({},_.DefaultFormatMeta,{format:"yyyy-MM-dd"}),C.prototype.update=function(t){this.formatMeta=U.extend({},C.DefaultFormatMeta,t)},y.prototype=new _,y.DefaultFormatMeta=U.extend({},_.DefaultFormatMeta,{format:"hh:mm:ss"}),y.prototype.update=function(t){this.formatMeta=U.extend({},y.DefaultFormatMeta,t)},b.prototype=new p,b.prototype.formatArgument=function(t){return t},b.prototype.innerFormat=function(t){var e="";if(""!=t){var i=String(t),n=i.length-i.indexOf(".")-1,s=n-2;0>s&&(s=0),e=100*parseFloat(t),e=(e*Math.pow(10,s)/Math.pow(10,s)).toFixed(s),e+="%"}return{value:e}},w.prototype=new Object,w.prototype.value="",w.prototype.getValue=function(t){return this.value},x.prototype=new Object,v.DefaultFormatMeta={isNegRed:!0,isMarkEnable:!0,markSymbol:",",pointSymbol:".",positiveFormat:"n",negativeFormat:"-n"},g.DefaultFormatMeta=U.extend({},v.DefaultFormatMeta,{positiveFormat:"n",negativeFormat:"-n"}),m.defaultFormatMeta={express:"C S T R P",separator:" "},_.DefaultFormatMeta={format:"yyyy-MM-dd hh:mm:ss",speratorSymbol:"-"},U.AddressMasker=m,U.NumberMasker=v,U.CurrencyMasker=g,U.DateTimeMasker=_,U.DateMasker=C,U.TimeMasker=y,U.PercentMasker=b,S.prototype.update=function(t){this.precision=t},S.prototype.format=function(t){if(!U.isNumber(t))return"";for(;"0"==(t+"").charAt(0)&&t.length>1;)t=t.substring(1);var e=t;if(U.isNumber(this.precision)){if(window.BigNumber)e=new BigNumber(t).toFixed(this.precision);else{var i=parseFloat(t);e=(Math.round(i*Math.pow(10,this.precision))/Math.pow(10,this.precision)).toFixed(this.precision)}if("NaN"==e)return""}return e},k.prototype.update=function(t){this.pattern=t},k.prototype.format=function(t){return moment(t).format(this.pattern)},U.NumberFormater=S,U.DateFormater=k,U.date={_dateLocale:{"zh-CN":{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_")},"en-US":{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thurday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"S_M_T_W_T_F_S".split("_")}},_formattingTokens:/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,leftZeroFill:function(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n},_formats:{YY:function(t){return U.date.leftZeroFill(t.getFullYear()%100,2)},YYYY:function(t){return t.getFullYear()},M:function(t){return t.getMonth()+1},MM:function(t){var e=U.date._formats.M(t);return U.date.leftZeroFill(e,2)},MMM:function(t,e){var i=t.getMonth();return U.date._dateLocale[e].monthsShort[i]},MMMM:function(t,e){var i=t.getMonth();return U.date._dateLocale[e].months[i]},D:function(t){return t.getDate()},DD:function(t){var e=U.date._formats.D(t);return U.date.leftZeroFill(e,2)},d:function(t){return t.getDay()},dd:function(t,e){var i=U.date._formats.d(t);return U.date._dateLocale[e].weekdaysMin[i]},ddd:function(t,e){var i=U.date._formats.d(t);return U.date._dateLocale[e].weekdaysShort[i]},dddd:function(t,e){var i=U.date._formats.d(t);return U.date._dateLocale[e].weekdays[i]},a:function(t){return t.getHours()>12?"pm":"am"},h:function(t){var e=t.getHours();return e=e>12?e-12:e},hh:function(t){var e=U.date._formats.h(t);return U.date.leftZeroFill(e,2)},H:function(t){return t.getHours()},HH:function(t){return U.date.leftZeroFill(t.getHours(),2)},m:function(t){return t.getMinutes()},mm:function(t){return U.date.leftZeroFill(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return U.date.leftZeroFill(t.getSeconds(),2)}},format:function(t,e,i){var n,s,o=e.match(U.date._formattingTokens),a="";for(i=i||U.core.getLanguages(),n=0,s=o.length;s>n;n++)a+=U.date._formats[o[n]]?U.date._formats[o[n]](t,i):o[n];return a},_addOrSubtract:function(t,e,i,n){var s=t.getTime(),o=t.getDate(),a=t.getMonth(),r=new Date(t);return"ms"===e?(s+=i*n,r.setTime(s)):"s"==e?(s+=1e3*i*n,r.setTime(s)):"m"==e?(s+=6e4*i*n,r.setTime(s)):"h"==e?(s+=36e5*i*n,r.setTime(s)):"d"==e?(o+=i*n,r.setDate(o)):"w"==e?(o+=7*i*n,r.setDate(o)):"M"==e?(a+=i*n,r.setMonth(o)):"y"==e&&(a+=12*i*n,r.setMonth(o)),r},add:function(t,e,i){return U.date._addOrSubtract(t,e,i,1)},sub:function(t,e,i){return U.date._addOrSubtract(t,e,i,-1)},getDateObj:function(t){var e=!1,i=new Date(t);if(isNaN(i)){var n,s,o,a,r,l;if(n=t.indexOf("-"),s=t.indexOf(":"),o=t.indexOf(" "),n>0||s>0||o>0)i=new Date,o>0?(l=t.split(" "),a=l[0].split("-"),r=l[1].split(":")):n>0?a=t.split("-"):s>0&&(r=t.split(":")),a&&a.length>0&&(i.setYear(a[0]),i.setMonth(parseInt(a[1]-1)),i.setDate(a[2]),e=!0),r&&r.length>0&&(i.setHours(r[0]),i.setMinutes(r[1]),i.setSeconds(r[2]),e=!0);else{if(i=new Date(parseInt(t)),isNaN(i))throw new TypeError("invalid Date parameter");e=!0}}else e=!0;return e?i:null}},U.floatRender=function(t,e){var i=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(i=t());var n=U.core.getMaskerMeta("float")||{};"number"==typeof e&&(n.precision=e);var s=new $.NumberFormater(n.precision),o=new v(n);return o.format(s.format(i)).value},U.integerRender=function(t){var e=t;return"undefined"==typeof t||null===t?t:("function"==typeof t&&(e=t()),e)},U.dateRender=function(t,e){var i=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(i=t());var n=U.core.getMaskerMeta("date")||{};"undefined"!=typeof e&&(n.format=e);var s=new C(n),o=s.format(i);return o&&o.value?o.value:""},U.dateTimeRender=function(t,e){var i=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(i=t());var n=U.core.getMaskerMeta("datetime")||{};"undefined"!=typeof e&&(n.format=e);var s=new _(n),o=s.format(i);return o&&o.value?o.value:""},U.timeRender=function(t,e){var i=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(i=t());var n=U.core.getMaskerMeta("time")||{};"undefined"!=typeof e&&(n.format=e);var s=new y(n),o=s.format(i);return o&&o.value?o.value:""},U.percentRender=function(t){var e=t;if("undefined"==typeof t||null===t)return t;"function"==typeof t&&(e=t());var i=U.core.getMaskerMeta("percent")||{},n=new b(i),s=n.format(e);return s&&s.value?s.value:""},U.dateToUTCString=function(t){if(!t)return"";t.indexOf("-")>-1&&(t=t.replace(/\-/g,"/"));var e=Date.parse(t);return isNaN(e)?"":e};var St={};St.special_keys={27:"esc",9:"tab",32:"space",13:"enter",8:"backspace",145:"scroll",20:"capslock",144:"numlock",19:"pause",45:"insert",36:"home",46:"del",35:"end",33:"pageup",34:"pagedown",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},St.shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},St.add=function(t,e,i){U.isFunction(e)&&(i=e,e={});var n={},s={type:"keydown",propagate:!1,disableInInput:!1,target:document.body,checkParent:!0},o=this;n=U.extend(n,s,e||{}),t=t.toLowerCase();var a=function(t){var e=this;if(e=3==e.nodeType?e.parentNode:e,n.disableInInput){var i=e;if("INPUT"==i.tagName||"TEXTAREA"==i.tagName)return}var s=t.which,a=t.type,r=String.fromCharCode(s).toLowerCase(),l=o.special_keys[s],d=t.shiftKey,h=t.ctrlKey,c=t.altKey,u=null;if(n.checkParent)for(;!e["u.hotkeys"]&&e.parentNode;)e=e.parentNode;var p=e["u.hotkeys"].events[a].callbackMap;if(d||h||c){var f="";c&&(f+="alt+"),h&&(f+="ctrl+"),d&&(f+="shift+"),u=p[f+l]||p[f+r]||p[f+o.shift_nums[r]]}else u=p[l]||p[r];return u&&(u.cb(t),!u.propagate)?(t.stopPropagation(),t.preventDefault(),!1):void 0},r=n.target["u.hotkeys"];return r||(n.target["u.hotkeys"]=r={events:{}}),r.events[n.type]||(r.events[n.type]={callbackMap:{}},U.on(n.target,n.type,a)),r.events[n.type].callbackMap[t]={cb:i,propagate:n.propagate},U.hotkeys},St.remove=function(t,e){e=e||{},target=e.target||document.body,type=e.type||"keydown",t=t.toLowerCase(),delete target["u.hotkeys"].events[type].callbackMap[t]},St.scan=function(t,e){t=t||document.body,t.querySelectorAll("[u-enter]").forEach(function(i){var n=i.getAttribute("u-enter");if(n)if("#"==n.substring(0,1))U.hotkeys.add("enter",{target:this},function(){var e=t.querySelector(n);e&&e.focus()});else{e=e||window;var s=U.getFunction(e,n);U.hotkeys.add("enter",{target:this},function(){s.call(this)})}}),t.querySelectorAll("[u-hotkey]").forEach(function(t){var e=t.getAttribute("u-hotkey");e&&U.hotkeys.add(e,function(){t.click()})})},U.hotkeys=St;var kt=U.Class.create({initialize:function(t){U.isDomElement(t)?(this.element=t,this.options={}):(this.element=t.el,this.options=t),this.element="string"==typeof this.element?document.querySelector(this.element):this.element,this.element.ucomp=this,this.compType=this.constructor.compType,this.init()},on:function(t,e){t=t.toLowerCase(),this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e}),this},trigger:function(t){if(t=t.toLowerCase(),!this._events||!this._events[t])return this;for(var e=Array.prototype.slice.call(arguments,1),i=this._events[t],n=0,s=i.length;s>n;n++)i[n].callback.apply(this,e);return this},init:function(){},render:function(){},destroy:function(){delete this.element.comp,this.element.innerHTML=""},addDomEvent:function(t,e){return U.on(this.element,t,e),this},removeDomEvent:function(t,e){return U.off(this.element,t,e),this},setEnable:function(t){return this},isDomEvent:function(t){return void 0!==this.element["on"+t]},createDateAdapter:function(t){var e=t.options,i=(t.model,U.compMgr.getDataAdapter(this.compType,e.dataType));i&&(this.dataAdapter=new i(this,t))},Statics:{compName:"",EVENT_VALUE_CHANGE:"valueChange",getName:function(){return this.compName}}});U.BaseComponent=kt;var Dt=function(t){U.isIE8||(this._element=t,this.init())};Dt.prototype._down=function(t){if(!this._rippleElement.style.width&&!this._rippleElement.style.height){var e=this._element.getBoundingClientRect();this.rippleSize_=2*Math.sqrt(e.width*e.width+e.height*e.height)+2,this._rippleElement.style.width=this.rippleSize_+"px",this._rippleElement.style.height=this.rippleSize_+"px"}if(U.addClass(this._rippleElement,"is-visible"),"mousedown"===t.type&&this._ignoringMouseDown)this._ignoringMouseDown=!1;else{"touchstart"===t.type&&(this._ignoringMouseDown=!0);var i=this.getFrameCount();if(i>0)return;this.setFrameCount(1);var n,s,o=t.currentTarget||t.target||t.srcElement,a=o.getBoundingClientRect();if(0===t.clientX&&0===t.clientY)n=Math.round(a.width/2),s=Math.round(a.height/2);else{var r=t.clientX?t.clientX:t.touches[0].clientX,l=t.clientY?t.clientY:t.touches[0].clientY;n=Math.round(r-a.left),s=Math.round(l-a.top)}this.setRippleXY(n,s),this.setRippleStyles(!0),window.requestAnimationFrame&&window.requestAnimationFrame(this.animFrameHandler.bind(this))}},Dt.prototype._up=function(t){var e=this;t&&2!==t.detail&&U.removeClass(this._rippleElement,"is-visible"),window.setTimeout(function(){U.removeClass(e._rippleElement,"is-visible")},0)},Dt.prototype.init=function(){var t=this;this._element&&(this._rippleElement=this._element.querySelector(".u-ripple"),this._rippleElement||(this._rippleElement=document.createElement("span"),U.addClass(this._rippleElement,"u-ripple"),this._element.appendChild(this._rippleElement),this._element.style.overflow="hidden",this._element.style.position="relative"),this.frameCount_=0,this.rippleSize_=0,this.x_=0,this.y_=0,this._ignoringMouseDown=!1,U.on(this._element,"mousedown",function(e){t._down(e)}),U.on(this._element,"touchstart",function(e){t._down(e)}),U.on(this._element,"mouseup",function(e){t._up(e)}),U.on(this._element,"mouseleave",function(e){t._up(e)}),U.on(this._element,"touchend",function(e){t._up(e)}),U.on(this._element,"blur",function(e){t._up(e)}),this.getFrameCount=function(){return this.frameCount_},this.setFrameCount=function(t){this.frameCount_=t},this.getRippleElement=function(){return this._rippleElement},this.setRippleXY=function(t,e){this.x_=t,this.y_=e},this.setRippleStyles=function(t){if(null!==this._rippleElement){var e,i,n,s="translate("+this.x_+"px, "+this.y_+"px)";t?(i="scale(0.0001, 0.0001)",n="1px"):(i="",n=this.rippleSize_+"px"),e="translate(-50%, -50%) "+s+i,this._rippleElement.style.webkitTransform=e,this._rippleElement.style.msTransform=e,this._rippleElement.style.transform=e,t?U.removeClass(this._rippleElement,"is-animating"):U.addClass(this._rippleElement,"is-animating")}},this.animFrameHandler=function(){this.frameCount_-- >0?window.requestAnimationFrame(this.animFrameHandler.bind(this)):this.setRippleStyles(!1)})},U.Ripple=Dt,U.Button=U.BaseComponent.extend({init:function(){var t=document.createElement("span");U.addClass(t,"u-button-container"),this._rippleElement=document.createElement("span"),U.addClass(this._rippleElement,"u-ripple"),U.isIE8&&U.addClass(this._rippleElement,"oldIE"),t.appendChild(this._rippleElement),U.on(this._rippleElement,"mouseup",this.element.blur),this.element.appendChild(t),U.on(this.element,"mouseup",this.element.blur),U.on(this.element,"mouseleave",this.element.blur),this.ripple=new U.Ripple(this.element)}}),U.compMgr.regComp({comp:U.Button,compAsString:"u.Button",css:"u-button"}),U.NavLayout=U.BaseComponent.extend({_Constant:{MAX_WIDTH:"(max-width: 1024px)",TAB_SCROLL_PIXELS:100,MENU_ICON:"menu",CHEVRON_LEFT:"chevron_left",CHEVRON_RIGHT:"chevron_right"},_Mode:{STANDARD:0,SEAMED:1,WATERFALL:2,SCROLL:3},_CssClasses:{CONTAINER:"u-navlayout-container",HEADER:"u-navlayout-header",DRAWER:"u-navlayout-drawer",CONTENT:"u-navlayout-content",DRAWER_BTN:"u-navlayout-drawer-button",ICON:"fa",HEADER_SEAMED:"seamed",HEADER_WATERFALL:"waterfall",HEADER_SCROLL:"scroll",FIXED_HEADER:"fixed",OBFUSCATOR:"u-navlayout-obfuscator",TAB_BAR:"u-navlayout-tab-bar",TAB_CONTAINER:"u-navlayout-tab-bar-container",TAB:"u-navlayout-tab",TAB_BAR_BUTTON:"u-navlayout-tab-bar-button",TAB_BAR_LEFT_BUTTON:"u-navlayout-tab-bar-left-button",TAB_BAR_RIGHT_BUTTON:"u-navlayout-tab-bar-right-button",PANEL:"u-navlayout-tab-panel",HAS_DRAWER:"has-drawer",HAS_TABS:"has-tabs",HAS_SCROLLING_HEADER:"has-scrolling-header",CASTING_SHADOW:"is-casting-shadow",IS_COMPACT:"is-compact",IS_SMALL_SCREEN:"is-small-screen",IS_DRAWER_OPEN:"is-visible",IS_ACTIVE:"is-active",IS_UPGRADED:"is-upgraded",IS_ANIMATING:"is-animating",ON_LARGE_SCREEN:"u-navlayout-large-screen-only",ON_SMALL_SCREEN:"u-navlayout-small-screen-only"},init:function(){var t=document.createElement("div");U.addClass(t,this._CssClasses.CONTAINER),this.element.parentElement.insertBefore(t,this.element),this.element.parentElement.removeChild(this.element),t.appendChild(this.element);for(var e=this.element.childNodes,i=e.length,n=0;i>n;n++){var s=e[n];if(U.hasClass(s,this._CssClasses.HEADER)&&(this._header=s),U.hasClass(s,this._CssClasses.DRAWER)&&(this._drawer=s),U.hasClass(s,this._CssClasses.CONTENT)){this._content=s;var o=this.element.offsetHeight,a="undefined"==typeof this._header?0:this._header.offsetHeight;this._content.style.height=o-a+"px";var r=this;window.addEventListener("resize",function(){var t=r.element.offsetHeight,e="undefined"==typeof r._header?0:r._header.offsetHeight;r._content.style.height=t-e+"px"})}}this._header&&(this._tabBar=this._header.querySelector("."+this._CssClasses.TAB_BAR));var l=this._Mode.STANDARD;if(this._header&&(U.hasClass(this._header,this._CssClasses.HEADER_SEAMED)?l=this._Mode.SEAMED:U.hasClass(this._header,this._CssClasses.HEADER_SEAMED)?(l=this._Mode.WATERFALL,this._header.addEventListener("transitionend",this._headerTransitionEndHandler.bind(this)),this._header.addEventListener("click",this._headerClickHandler.bind(this))):U.hasClass(this._header,this._CssClasses.HEADER_SCROLL)&&(l=this._Mode.SCROLL,U.addClass(t,this._CssClasses.HAS_SCROLLING_HEADER)),l===this._Mode.STANDARD?(U.addClass(this._header,this._CssClasses.CASTING_SHADOW),this._tabBar&&U.addClass(this._tabBar,this._CssClasses.CASTING_SHADOW)):l===this._Mode.SEAMED||l===this._Mode.SCROLL?(U.removeClass(this._header,this._CssClasses.CASTING_SHADOW),this._tabBar&&U.removeClass(this._tabBar,this._CssClasses.CASTING_SHADOW)):l===this._Mode.WATERFALL&&(this._content.addEventListener("scroll",this._contentScrollHandler.bind(this)),this._contentScrollHandler())),this._drawer){var d=this.element.querySelector("."+this._CssClasses.DRAWER_BTN);if(!d){d=document.createElement("div"),U.addClass(d,this._CssClasses.DRAWER_BTN);var h=document.createElement("i");h.className="fa fa-bars",d.appendChild(h)}U.hasClass(this._drawer,this._CssClasses.ON_LARGE_SCREEN)?U.addClass(d,this._CssClasses.ON_LARGE_SCREEN):U.hasClass(this._drawer,this._CssClasses.ON_SMALL_SCREEN)&&U.addClass(d,this._CssClasses.ON_SMALL_SCREEN),d.addEventListener("click",this._drawerToggleHandler.bind(this)),U.addClass(this.element,this._CssClasses.HAS_DRAWER),U.hasClass(this.element,this._CssClasses.FIXED_HEADER)?this._header.insertBefore(d,this._header.firstChild):this.element.insertBefore(d,this._content),this.drawerButton=d;var c=document.createElement("div");U.addClass(c,this._CssClasses.OBFUSCATOR),this.element.appendChild(c),c.addEventListener("click",this._drawerToggleHandler.bind(this)),this._obfuscator=c}if(this._screenSizeMediaQuery=window.matchMedia(this._Constant.MAX_WIDTH),this._screenSizeMediaQuery.addListener(this._screenSizeHandler.bind(this)),this._screenSizeHandler(),this._header&&this._tabBar){U.addClass(this.element,this._CssClasses.HAS_TABS);var u=document.createElement("div");U.addClass(u,this._CssClasses.TAB_CONTAINER),this._header.insertBefore(u,this._tabBar),this._header.removeChild(this._tabBar);var p=document.createElement("div");U.addClass(p,this._CssClasses.TAB_BAR_BUTTON),U.addClass(p,this._CssClasses.TAB_BAR_LEFT_BUTTON);var f=document.createElement("i");U.addClass(f,this._CssClasses.ICON),f.textContent=this._Constant.CHEVRON_LEFT,p.appendChild(f),p.addEventListener("click",function(){this._tabBar.scrollLeft-=this._Constant.TAB_SCROLL_PIXELS}.bind(this));var m=document.createElement("div");U.addClass(m,this._CssClasses.TAB_BAR_BUTTON),U.addClass(m,this._CssClasses.TAB_BAR_RIGHT_BUTTON);var v=document.createElement("i");U.addClass(v,this._CssClasses.ICON),v.textContent=this._Constant.CHEVRON_RIGHT,m.appendChild(v),m.addEventListener("click",function(){this._tabBar.scrollLeft+=this._Constant.TAB_SCROLL_PIXELS}.bind(this)),u.appendChild(p),u.appendChild(this._tabBar),u.appendChild(m);var g=function(){this._tabBar.scrollLeft>0?U.addClass(p,this._CssClasses.IS_ACTIVE):U.removeClass(p,this._CssClasses.IS_ACTIVE),this._tabBar.scrollLeft<this._tabBar.scrollWidth-this._tabBar.offsetWidth?U.addClass(m,this._CssClasses.IS_ACTIVE):U.removeClass(m,this._CssClasses.IS_ACTIVE)}.bind(this);this._tabBar.addEventListener("scroll",g),g(),U.hasClass(this._tabBar,this._CssClasses.JS_RIPPLE_EFFECT)&&U.addClass(this._tabBar,this._CssClasses.RIPPLE_IGNORE_EVENTS);for(var _=this._tabBar.querySelectorAll("."+this._CssClasses.TAB),C=this._content.querySelectorAll("."+this._CssClasses.PANEL),y=0;y<_.length;y++)new D(_[y],_,C,this)}U.addClass(this.element,this._CssClasses.IS_UPGRADED)},_contentScrollHandler:function(){U.hasClass(this._header,this._CssClasses.IS_ANIMATING)||(this._content.scrollTop>0&&!U.hasClass(this._header,this._CssClasses.IS_COMPACT)?U.addClass(this._header,this._CssClasses.CASTING_SHADOW).addClass(this._header,this._CssClasses.IS_COMPACT).addClass(this._header,this._CssClasses.IS_ANIMATING):this._content.scrollTop<=0&&U.hasClass(this._header,this._CssClasses.IS_COMPACT)&&U.removeClass(this._header,this._CssClasses.CASTING_SHADOW).removeClass(this._header,this._CssClasses.IS_COMPACT).addClass(this._header,this._CssClasses.IS_ANIMATING))},_screenSizeHandler:function(){this._screenSizeMediaQuery.matches?U.addClass(this.element,this._CssClasses.IS_SMALL_SCREEN):(U.removeClass(this.element,this._CssClasses.IS_SMALL_SCREEN),this._drawer&&(U.removeClass(this._drawer,this._CssClasses.IS_DRAWER_OPEN),U.removeClass(this._obfuscator,this._CssClasses.IS_DRAWER_OPEN)))},_drawerToggleHandler:function(){U.toggleClass(this._drawer,this._CssClasses.IS_DRAWER_OPEN),U.toggleClass(this._obfuscator,this._CssClasses.IS_DRAWER_OPEN)},_headerTransitionEndHandler:function(){U.removeClass(this._header,this._CssClasses.IS_ANIMATING)},_headerClickHandler:function(){U.hasClass(this._header,this._CssClasses.IS_COMPACT)&&(U.removeClass(this._header,this._CssClasses.IS_COMPACT),U.addClass(this._header,this._CssClasses.IS_ANIMATING))},_resetTabState:function(t){for(var e=0;e<t.length;e++)U.removeClass(t[e],this._CssClasses.IS_ACTIVE)},_resetPanelState:function(t){for(var e=0;e<t.length;e++)U.removeClass(t[e],this._CssClasses.IS_ACTIVE)}}),U.NavLayoutTab=D,U.compMgr.regComp({comp:U.NavLayout,compAsString:"u.NavLayout",css:"u-navlayout"}),U.Text=U.BaseComponent.extend({_Constant:{NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},_CssClasses:{LABEL:"u-label",INPUT:"u-input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded"},init:function(){if(this.maxRows=this._Constant.NO_MAX_ROWS,this.label_=this.element.querySelector("."+this._CssClasses.LABEL),this._input=this.element.querySelector("input"),this._input){this._input.hasAttribute(this._Constant.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this._input.getAttribute(this._Constant.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this._Constant.NO_MAX_ROWS)),this.boundUpdateClassesHandler=this._updateClasses.bind(this),this.boundFocusHandler=this._focus.bind(this),this.boundBlurHandler=this._blur.bind(this),this.boundResetHandler=this._reset.bind(this),this._input.addEventListener("input",this.boundUpdateClassesHandler),U.isIE8&&this._input.addEventListener("propertychange",this.boundUpdateClassesHandler),this._input.addEventListener("focus",this.boundFocusHandler),this._input.addEventListener("blur",this.boundBlurHandler),this._input.addEventListener("reset",this.boundResetHandler),this.maxRows!==this._Constant.NO_MAX_ROWS&&(this.boundKeyDownHandler=this._down.bind(this),this._input.addEventListener("keydown",this.boundKeyDownHandler));var t=U.hasClass(this.element,this._CssClasses.IS_INVALID);this._updateClasses(),
U.addClass(this.element,this._CssClasses.IS_UPGRADED),t&&U.addClass(this.element,this._CssClasses.IS_INVALID)}},_down:function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},_focus:function(t){U.addClass(this.element,this._CssClasses.IS_FOCUSED)},_blur:function(t){U.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_reset:function(t){this._updateClasses()},_updateClasses:function(){this.checkDisabled(),this.checkValidity(),this.checkDirty()},checkDisabled:function(){this._input.disabled?U.addClass(this.element,this._CssClasses.IS_DISABLED):U.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkValidity:function(){this._input.validity&&(this._input.validity.valid?U.removeClass(this.element,this._CssClasses.IS_INVALID):U.addClass(this.element,this._CssClasses.IS_INVALID))},checkDirty:function(){this._input.value&&this._input.value.length>0?U.addClass(this.element,this._CssClasses.IS_DIRTY):U.removeClass(this.element,this._CssClasses.IS_DIRTY)},disable:function(){this._input.disabled=!0,this._updateClasses()},enable:function(){this._input.disabled=!1,this._updateClasses()},change:function(t){this._input.value=t||"",this._updateClasses()}}),U.compMgr.regComp({comp:U.Text,compAsString:"u.Text",css:"u-text"}),U.Menu=U.BaseComponent.extend({_Keycodes:{ENTER:13,ESCAPE:27,SPACE:32,UP_ARROW:38,DOWN_ARROW:40},_CssClasses:{BOTTOM_LEFT:"u-menu-bottom-left",BOTTOM_RIGHT:"u-menu-bottom-right",TOP_LEFT:"u-menu-top-left",TOP_RIGHT:"u-menu-top-right",UNALIGNED:"u-menu-unaligned"},init:function(){var t=document.createElement("div");U.addClass(t,"u-menu-container"),this.element.parentElement.insertBefore(t,this.element),this.element.parentElement.removeChild(this.element),t.appendChild(this.element),this._container=t;var e=document.createElement("div");U.addClass(e,"u-menu-outline"),this._outline=e,t.insertBefore(e,this.element);var i=this.element.getAttribute("for")||this.element.getAttribute("data-u-for"),n=null;i&&(n=document.getElementById(i),n&&(this.for_element=n,U.on(n,"click",this._handleForClick.bind(this)),U.on(n,"keydown",this._handleForKeyboardEvent.bind(this))));var s=this.element.querySelectorAll(".u-menu-item");this._boundItemKeydown=this._handleItemKeyboardEvent.bind(this),this._boundItemClick=this._handleItemClick.bind(this);for(var o=0;o<s.length;o++)U.on(s[o],"click",this._boundItemClick),s[o].tabIndex="-1",U.on(s[o],"keydown",this._boundItemKeydown);for(o=0;o<s.length;o++){var a=s[o],r=document.createElement("span");U.addClass(r,"u-ripple"),a.appendChild(r),new Dt(a)}U.hasClass(this.element,"u-menu-bottom-left")&&U.addClass(this._outline,"u-menu-bottom-left"),U.hasClass(this.element,"u-menu-bottom-right")&&U.addClass(this._outline,"u-menu-bottom-right"),U.hasClass(this.element,"u-menu-top-left")&&U.addClass(this._outline,"u-menu-top-left"),U.hasClass(this.element,"u-menu-top-right")&&U.addClass(this._outline,"u-menu-top-right"),U.hasClass(this.element,"u-menu-unaligned")&&U.addClass(this._outline,"u-menu-unaligned"),U.addClass(t,"is-upgraded")},_handleForClick:function(t){if(this.element&&this.for_element){var e=this.for_element.getBoundingClientRect(),i=this.for_element.parentElement.getBoundingClientRect();U.hasClass(this.element,"u-menu-unaligned")||(U.hasClass(this.element,"u-menu-bottom-right")?(this._container.style.right=i.right-e.right+"px",this._container.style.top=this.for_element.offsetTop+this.for_element.offsetHeight+"px"):U.hasClass(this.element,"u-menu-top-left")?(this._container.style.left=this.for_element.offsetLeft+"px",this._container.style.bottom=i.bottom-e.top+"px"):U.hasClass(this.element,"u-menu-top-right")?(this._container.style.right=i.right-e.right+"px",this._container.style.bottom=i.bottom-e.top+"px"):(this._container.style.left=this.for_element.offsetLeft+"px",this._container.style.top=this.for_element.offsetTop+this.for_element.offsetHeight+"px"))}this.toggle(t)},_handleForKeyboardEvent:function(t){if(this.element&&this._container&&this.for_element){var e=this.element.querySelectorAll(".u-menu-item:not([disabled])");e&&e.length>0&&U.hasClass(this._container,"is-visible")&&(t.keyCode===this._Keycodes.UP_ARROW?(U.stopEvent(t),e[e.length-1].focus()):t.keyCode===this._Keycodes.DOWN_ARROW&&(U.stopEvent(t),e[0].focus()))}},_handleItemKeyboardEvent:function(t){if(this.element&&this._container){var e=this.element.querySelectorAll(".u-menu-item:not([disabled])");if(e&&e.length>0&&U.hasClass(this._container,"is-visible")){var i=Array.prototype.slice.call(e).indexOf(t.target);if(t.keyCode===this._Keycodes.UP_ARROW)U.stopEvent(t),i>0?e[i-1].focus():e[e.length-1].focus();else if(t.keyCode===this._Keycodes.DOWN_ARROW)U.stopEvent(t),e.length>i+1?e[i+1].focus():e[0].focus();else if(t.keyCode===this._Keycodes.SPACE||t.keyCode===this._Keycodes.ENTER){U.stopEvent(t);var n=new MouseEvent("mousedown");t.target.dispatchEvent(n),n=new MouseEvent("mouseup"),t.target.dispatchEvent(n),t.target.click()}else t.keyCode===this._Keycodes.ESCAPE&&(U.stopEvent(t),this.hide())}}},_handleItemClick:function(t){t.target.hasAttribute("disabled")?U.stopEvent(t):(this._closing=!0,window.setTimeout(function(t){this.hide(),this._closing=!1}.bind(this),150))},_applyClip:function(t,e){U.hasClass(this.element,"u-menu-unaligned")?this.element.style.clip="":U.hasClass(this.element,"u-menu-bottom-right")?this.element.style.clip="rect(0 "+e+"px 0 "+e+"px)":U.hasClass(this.element,"u-menu-top-left")?this.element.style.clip="rect("+t+"px 0 "+t+"px 0)":U.hasClass(this.element,"u-menu-top-right")?this.element.style.clip="rect("+t+"px "+e+"px "+t+"px "+e+"px)":this.element.style.clip="rect(0px 0px 0px 0px)"},_addAnimationEndListener:function(){var t=function(){U.off(this.element,"transitionend",t),U.off(this.element,"webkitTransitionEnd",t),U.removeClass(this.element,"is-animating")}.bind(this);U.on(this.element,"transitionend",t),U.on(this.element,"webkitTransitionEnd",t)},show:function(t){if(this.element&&this._container&&this._outline){var e=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;if(!i){var n=this.element.getBoundingClientRect().left,s=this.element.getBoundingClientRect().right;i=s-n}if(!e){var o=this.element.getBoundingClientRect().top,a=this.element.getBoundingClientRect().bottom;e=a-o}this._container.style.width=i+"px",this._container.style.height=e+"px",this._outline.style.width=i+"px",this._outline.style.height=e+"px";for(var r=.24,l=this.element.querySelectorAll(".u-menu-item"),d=0;d<l.length;d++){var h=null;h=U.hasClass(this.element,"u-menu-top-left")||U.hasClass(this.element,"u-menu-top-right")?(e-l[d].offsetTop-l[d].offsetHeight)/e*r+"s":l[d].offsetTop/e*r+"s",l[d].style.transitionDelay=h}this._applyClip(e,i),window.requestAnimationFrame?window.requestAnimationFrame(function(){U.addClass(this.element,"is-animating"),this.element.style.clip="rect(0 "+i+"px "+e+"px 0)",U.addClass(this._container,"is-visible")}.bind(this)):(U.addClass(this.element,"is-animating"),this.element.style.clip="rect(0 "+i+"px "+e+"px 0)",U.addClass(this._container,"is-visible")),this._addAnimationEndListener();var c=!0,u=function(e){return U.isIE8&&c?void(c=!1):void(e===t||this._closing||e.target.parentNode===this.element||(U.off(document,"click",u),this.hide()))}.bind(this);U.on(document,"click",u)}},hide:function(){if(this.element&&this._container&&this._outline){for(var t=this.element.querySelectorAll(".u-menu-item"),e=0;e<t.length;e++)t[e].style.transitionDelay=null;var i=this.element.getBoundingClientRect(),n=i.height,s=i.width;if(!s){var o=i.left,a=i.right;s=a-o}if(!n){var r=i.top,l=i.bottom;n=l-r}U.addClass(this.element,"is-animating"),this._applyClip(n,s),U.removeClass(this._container,"is-visible"),this._addAnimationEndListener()}},toggle:function(t){U.hasClass(this._container,"is-visible")?this.hide():this.show(t)}}),U.compMgr.regComp({comp:U.Menu,compAsString:"u.Menu",css:"u-menu"}),U.MDLayout=U.BaseComponent.extend({_CssClasses:{MASTER:"u-mdlayout-master",DETAIL:"u-mdlayout-detail",PAGE:"u-mdlayout-page",PAGE_HEADER:"u-mdlayout-page-header",PAGE_SECTION:"u-mdlayout-page-section",PAGE_FOOTER:"u-mdlayout-page-footer"},init:function(){this.browser=M();var t=this;this.minWidth=600,this._master=this.element.querySelector("."+this._CssClasses.MASTER),this._detail=this.element.querySelector("."+this._CssClasses.DETAIL),this.masterWidth=this._master.offsetWidth,this.detailWidth=this._detail.offsetWidth,this.mPages=this._master.querySelectorAll("."+this._CssClasses.PAGE),this.dPages=this._detail.querySelectorAll("."+this._CssClasses.PAGE),this.mPageMap={},this.dPageMap={},this.initPages(this.mPages,"master"),this.initPages(this.dPages,"detail"),this.mHistory=[],this.dHistory=[],this.isNarrow=null,this.response(),U.on(window,"resize",function(){t.response()})},initPages:function(t,e){var i,n;"master"===e?(i=this.mPageMap,n=this.masterWidth):(i=this.dPageMap,n=this.detailWidth);for(var s=0;s<t.length;s++){var o=t[s].getAttribute("id");if(!o)throw new Error("u-mdlayout-page mast have id attribute");i[o]=t[s],0===s?("master"===e?this.current_m_pageId=o:this.current_d_pageId=o,U.addClass(t[s],"current"),t[s].style.transform="translate3d(0,0,0)"):t[s].style.transform="translate3d("+n+"px,0,0)",this.browser.ie&&this.browser.ie<9&&U.addClass(t[s],"let-ie9")}},response:function(){var t=this.element.offsetWidth;t<this.minWidth?(null!=this.isNarrow&&0!=this.isNarrow||(this.isNarrow=!0),this.hideMaster()):(null!=this.isNarrow&&1!=this.isNarrow||(this.isNarrow=!1),this.showMaster()),this.calcWidth()},calcWidth:function(){if(!this.browser.ie||this.browser.ie>8){this.detailWidth=this._detail.offsetWidth,this.masterWidth=this._master.offsetWidth;for(var t=0;t<this.dPages.length;t++){var e=this.dPages[t].getAttribute("id");e!==this.current_d_pageId&&(this.dPages[t].style.transform="translate3d("+this.detailWidth+"px,0,0)")}}},mGo:function(t){this.current_m_pageId!=t&&(this.mHistory.push(this.current_m_pageId),T(this.mPageMap[this.current_m_pageId],this,"-"+this.masterWidth),this.current_m_pageId=t,E(this.mPageMap[this.current_m_pageId],this))},mBack:function(){0!=this.mHistory.length&&(T(this.mPageMap[this.current_m_pageId],this,this.masterWidth),this.current_m_pageId=this.mHistory.pop(),E(this.mPageMap[this.current_m_pageId],this))},dGo:function(t){this.current_d_pageId!=t&&(this.dHistory.push(this.current_d_pageId),T(this.dPageMap[this.current_d_pageId],this,"-"+this.detailWidth),this.current_d_pageId=t,E(this.dPageMap[this.current_d_pageId],this))},dBack:function(){0!=this.dHistory.length&&(T(this.dPageMap[this.current_d_pageId],this,this.detailWidth),this.current_d_pageId=this.dHistory.pop(),E(this.dPageMap[this.current_d_pageId],this))},showMaster:function(){this.browser.ie&&this.browser.ie<9?this._master.style.display="block":this._master.style.transform="translate3d(0,0,0)",this.isNarrow||(this._master.style.position="relative")},hideMaster:function(){this._master.offsetLeft<0||"none"==this._master.style.display||(this.browser.ie&&this.browser.ie<9?this._master.style.display="none":this._master.style.transform="translate3d(-"+this.masterWidth+"px,0,0)",this._master.style.position="absolute",this._master.style.zIndex=5,this.calcWidth())}}),U.compMgr.regComp({comp:U.MDLayout,compAsString:"u.MDLayout",css:"u-mdlayout"}),U.Tabs=U.BaseComponent.extend({_Constant:{},_CssClasses:{TAB_CLASS:"u-tabs__tab",PANEL_CLASS:"u-tabs__panel",ACTIVE_CLASS:"is-active",UPGRADED_CLASS:"is-upgraded",U_JS_RIPPLE_EFFECT:"u-js-ripple-effect",U_RIPPLE_CONTAINER:"u-tabs__ripple-container",U_RIPPLE:"u-ripple",U_JS_RIPPLE_EFFECT_IGNORE_EVENTS:"u-js-ripple-effect--ignore-events"},initTabs_:function(){U.addClass(this.element,this._CssClasses.U_JS_RIPPLE_EFFECT_IGNORE_EVENTS),this.tabs_=this.element.querySelectorAll("."+this._CssClasses.TAB_CLASS),this.panels_=this.element.querySelectorAll("."+this._CssClasses.PANEL_CLASS);for(var t=0;t<this.tabs_.length;t++)new A(this.tabs_[t],this);U.addClass(this.element,this._CssClasses.UPGRADED_CLASS)},resetTabState_:function(){for(var t=0;t<this.tabs_.length;t++)U.removeClass(this.tabs_[t],this._CssClasses.ACTIVE_CLASS)},resetPanelState_:function(){for(var t=0;t<this.panels_.length;t++)U.removeClass(this.panels_[t],this._CssClasses.ACTIVE_CLASS)},init:function(){this.element&&this.initTabs_()}}),U.compMgr.regComp({comp:U.Tabs,compAsString:"u.Tabs",css:"u-tabs"}),U.Checkbox=U.BaseComponent.extend({_Constant:{TINY_TIMEOUT:.001},_CssClasses:{INPUT:"u-checkbox-input",BOX_OUTLINE:"u-checkbox-outline",FOCUS_HELPER:"u-checkbox-focus-helper",TICK_OUTLINE:"u-checkbox-tick-outline",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded"},init:function(){this._inputElement=this.element.querySelector("input");var t=document.createElement("span");U.addClass(t,this._CssClasses.BOX_OUTLINE);var e=document.createElement("span");U.addClass(e,this._CssClasses.FOCUS_HELPER);var i=document.createElement("span");U.addClass(i,this._CssClasses.TICK_OUTLINE),t.appendChild(i),this.element.appendChild(e),this.element.appendChild(t),this.rippleContainerElement_=document.createElement("span"),this.boundRippleMouseUp=this._onMouseUp.bind(this),this.rippleContainerElement_.addEventListener("mouseup",this.boundRippleMouseUp),this.element.appendChild(this.rippleContainerElement_),new Dt(this.rippleContainerElement_),this.boundInputOnChange=this._onChange.bind(this),this.boundInputOnFocus=this._onFocus.bind(this),this.boundInputOnBlur=this._onBlur.bind(this),this.boundElementMouseUp=this._onMouseUp.bind(this),U.hasClass(this.element,"only-style")||U.on(this.element,"click",function(t){this.toggle(),U.stopEvent(t)}.bind(this)),this._updateClasses(),U.addClass(this.element,this._CssClasses.IS_UPGRADED)},_onChange:function(t){this._updateClasses(),this.trigger("change",{isChecked:this._inputElement.checked})},_onFocus:function(){U.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(){U.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseUp:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._inputElement.blur()}.bind(this),this._Constant.TINY_TIMEOUT)},checkToggleState:function(){this._inputElement.checked?U.addClass(this.element,this._CssClasses.IS_CHECKED):U.removeClass(this.element,this._CssClasses.IS_CHECKED)},checkDisabled:function(){this._inputElement.disabled?U.addClass(this.element,this._CssClasses.IS_DISABLED):U.removeClass(this.element,this._CssClasses.IS_DISABLED)},isChecked:function(){return this._inputElement.checked},toggle:function(){this.isChecked()?this.uncheck():this.check()},disable:function(){this._inputElement.disabled=!0,this._updateClasses()},enable:function(){this._inputElement.disabled=!1,this._updateClasses()},check:function(){this._inputElement.checked=!0,this._updateClasses(),this.boundInputOnChange()},uncheck:function(){this._inputElement.checked=!1,this._updateClasses(),this.boundInputOnChange()}}),U.compMgr&&U.compMgr.regComp({comp:U.Checkbox,compAsString:"u.Checkbox",css:"u-checkbox"}),U.Radio=U.BaseComponent.extend({Constant_:{TINY_TIMEOUT:.001},_CssClasses:{IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked",IS_UPGRADED:"is-upgraded",JS_RADIO:"u-radio",RADIO_BTN:"u-radio-button",RADIO_OUTER_CIRCLE:"u-radio-outer-circle",RADIO_INNER_CIRCLE:"u-radio-inner-circle"},init:function(){this._btnElement=this.element.querySelector("input"),this._boundChangeHandler=this._onChange.bind(this),this._boundFocusHandler=this._onChange.bind(this),this._boundBlurHandler=this._onBlur.bind(this),this._boundMouseUpHandler=this._onMouseup.bind(this);var t=document.createElement("span");U.addClass(t,this._CssClasses.RADIO_OUTER_CIRCLE);var e=document.createElement("span");U.addClass(e,this._CssClasses.RADIO_INNER_CIRCLE),this.element.appendChild(t),this.element.appendChild(e);var i;i=document.createElement("span"),i.addEventListener("mouseup",this._boundMouseUpHandler),this.element.appendChild(i),new Dt(i),this._btnElement.addEventListener("change",this._boundChangeHandler),this._btnElement.addEventListener("focus",this._boundFocusHandler),this._btnElement.addEventListener("blur",this._boundBlurHandler),this.element.addEventListener("mouseup",this._boundMouseUpHandler),this._updateClasses(),U.addClass(this.element,this._CssClasses.IS_UPGRADED)},_onChange:function(t){for(var e=document.querySelectorAll("."+this._CssClasses.JS_RADIO),i=0;i<e.length;i++){var n=e[i].querySelector("."+this._CssClasses.RADIO_BTN);n.getAttribute("name")===this._btnElement.getAttribute("name")&&e[i].ucomp._updateClasses()}this.trigger("change",{isChecked:this._btnElement.checked})},_onFocus:function(t){U.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(t){U.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseup:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._btnElement.blur()}.bind(this),this.Constant_.TINY_TIMEOUT)},checkDisabled:function(){this._btnElement.disabled?U.addClass(this.element,this._CssClasses.IS_DISABLED):U.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkToggleState:function(){this._btnElement.checked?U.addClass(this.element,this._CssClasses.IS_CHECKED):U.removeClass(this.element,this._CssClasses.IS_CHECKED)},disable:function(){this._btnElement.disabled=!0,this._updateClasses()},enable:function(){this._btnElement.disabled=!1,this._updateClasses()},check:function(){this._btnElement.checked=!0,this._updateClasses()},uncheck:function(){this._btnElement.checked=!1,this._updateClasses()}}),U.compMgr.regComp({comp:U.Radio,compAsString:"u.Radio",css:"u-radio"}),U.Switch=U.BaseComponent.extend({_Constant:{TINY_TIMEOUT:.001},_CssClasses:{INPUT:"u-switch-input",TRACK:"u-switch-track",THUMB:"u-switch-thumb",FOCUS_HELPER:"u-switch-focus-helper",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_CHECKED:"is-checked"},init:function(){this._inputElement=this.element.querySelector("."+this._CssClasses.INPUT);var t=document.createElement("div");U.addClass(t,this._CssClasses.TRACK);var e=document.createElement("div");U.addClass(e,this._CssClasses.THUMB);var i=document.createElement("span");U.addClass(i,this._CssClasses.FOCUS_HELPER),e.appendChild(i),this.element.appendChild(t),this.element.appendChild(e),this.boundMouseUpHandler=this._onMouseUp.bind(this),this._rippleContainerElement=document.createElement("span"),this._rippleContainerElement.addEventListener("mouseup",this.boundMouseUpHandler),this.element.appendChild(this._rippleContainerElement),new Dt(this._rippleContainerElement),this.boundChangeHandler=this._onChange.bind(this),this.boundFocusHandler=this._onFocus.bind(this),this.boundBlurHandler=this._onBlur.bind(this),this._inputElement.addEventListener("change",this.boundChangeHandler),this._inputElement.addEventListener("focus",this.boundFocusHandler),this._inputElement.addEventListener("blur",this.boundBlurHandler),this.element.addEventListener("mouseup",this.boundMouseUpHandler),this._updateClasses(),U.addClass(this.element,"is-upgraded")},_onChange:function(t){this._updateClasses(),this.trigger("change",{isChecked:this._inputElement.checked})},_onFocus:function(t){U.addClass(this.element,this._CssClasses.IS_FOCUSED)},_onBlur:function(t){U.removeClass(this.element,this._CssClasses.IS_FOCUSED)},_onMouseUp:function(t){this._blur()},_updateClasses:function(){this.checkDisabled(),this.checkToggleState()},_blur:function(){window.setTimeout(function(){this._inputElement.blur()}.bind(this),this._Constant.TINY_TIMEOUT)},checkDisabled:function(){this._inputElement.disabled?U.addClass(this.element,this._CssClasses.IS_DISABLED):U.removeClass(this.element,this._CssClasses.IS_DISABLED)},checkToggleState:function(){this._inputElement.checked?U.addClass(this.element,this._CssClasses.IS_CHECKED):U.removeClass(this.element,this._CssClasses.IS_CHECKED)},isChecked:function(){return this._inputElement.checked},toggle:function(){this.isChecked()?this.uncheck():this.check()},disable:function(){this._inputElement.disabled=!0,this._updateClasses()},enable:function(){this._inputElement.disabled=!1,this._updateClasses()},check:function(){this._inputElement.checked=!0,this._updateClasses()},uncheck:function(){this._inputElement.checked=!1,this._updateClasses()}}),U.compMgr.regComp({comp:U.Switch,compAsString:"u.Switch",css:"u-switch"}),U.Loading=U.BaseComponent.extend({_Constant:{U_LOADING_LAYER_COUNT:4},_CssClasses:{U_LOADING_LAYER:"u-loading-layer",U_LOADING_CIRCLE_CLIPPER:"u-loading-circle-clipper",U_LOADING_CIRCLE:"u-loading-circle",U_LOADING_GAP_PATCH:"u-loading-gap-patch",U_LOADING_LEFT:"u-loading-left",U_LOADING_RIGHT:"u-loading-right"},init:function(){for(var t=1;t<=this._Constant.U_LOADING_LAYER_COUNT;t++)this.createLayer(t);U.addClass(this.element,"is-upgraded")},createLayer:function(t){var e=document.createElement("div");U.addClass(e,this._CssClasses.U_LOADING_LAYER),U.addClass(e,this._CssClasses.U_LOADING_LAYER+"-"+t);var i=document.createElement("div");U.addClass(i,this._CssClasses.U_LOADING_CIRCLE_CLIPPER),U.addClass(i,this._CssClasses.U_LOADING_LEFT);var n=document.createElement("div");U.addClass(n,this._CssClasses.U_LOADING_GAP_PATCH);var s=document.createElement("div");U.addClass(s,this._CssClasses.U_LOADING_CIRCLE_CLIPPER),U.addClass(s,this._CssClasses.U_LOADING_RIGHT);for(var o=[i,n,s],a=0;a<o.length;a++){var r=document.createElement("div");U.addClass(r,this._CssClasses.U_LOADING_CIRCLE),o[a].appendChild(r)}e.appendChild(i),e.appendChild(n),e.appendChild(s),this.element.appendChild(e)},stop:function(){U.removeClass(this.element,"is-active")},start:function(){U.addClass(this.element,"is-active")}}),U.compMgr.regComp({comp:U.Loading,compAsString:"u.Loading",css:"u-loading"}),U.showLoading=function(t){var e='<div class="alert alert-waiting"><i class="fa fa-spinner fa-spin"></i></div>';document.body.appendChild(U.makeDOM(e)),e='<div class="alert-backdrop" role="waiting-backdrop"></div>',document.body.appendChild(U.makeDOM(e))},U.hideLoading=function(){for(var t=document.querySelectorAll(".alert,.alert-backdrop"),e=0;e<t.length;e++)document.body.removeChild(t[e])},U.showWaiting=U.showLoading,U.removeWaiting=U.hideLoading,U.Progress=U.BaseComponent.extend({_Constant:{},_CssClasses:{INDETERMINATE_CLASS:"u-progress__indeterminate"},setProgress:function(t){return U.hasClass(this.element,this._CssClasses.INDETERMINATE_CLASS)?void 0:(this.progressbar_.style.width=t+"%",this)},setBuffer:function(t){return this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%",this},init:function(){var t=document.createElement("div");t.className="progressbar bar bar1",this.element.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",U.addClass(this.element,"is-upgraded")}}),U.compMgr.regComp({comp:U.Progress,compAsString:"u.Progress",css:"u-progress"}),U.messageTemplate='<div class="u-message"><button type="button" class="u-msg-close u-button floating  mini"><span class="">X</span></button>{msg}</div>',U.showMessage=function(t){var e,i,n,s,o,a,r;"string"==typeof t&&(t={msg:t}),e=t.msg||"",i=t.position||"bottom-right",n=t.width||"300px",s=t.height||"100px",o=parseInt(t.showSeconds)||0,a=t.msgType||"info",r=t.template||U.messageTemplate,r=r.replace("{msg}",e);var l=U.makeDOM(r);U.addClass(l,"u-"+a);var d=l.querySelector(".u-msg-close");U.on(d,"click",function(){U.removeClass(l,"active"),setTimeout(function(){document.body.removeChild(l)},500)}),document.body.appendChild(l),o>0&&setTimeout(function(){d.click()},1e3*o),setTimeout(function(){U.addClass(l,"active")},1*o)},U.showMessageDialog=U.showMessage,U.makeModal=function(t){var e=document.createElement("div");return U.addClass(e,"u-overlay"),e.style.zIndex=U.getZIndex(),document.body.appendChild(e),t.style.zIndex=U.getZIndex(),U.on(e,"click",function(t){U.stopEvent(t)}),e},U.messageDialogTemplate='<div class="u-msg-dialog"><div class="u-msg-title"><h4>{title}</h4></div><div class="u-msg-content"><p>{msg}</p></div><div class="u-msg-footer"><button class="u-msg-button u-button">{btnText}</button></div></div>',U.messageDialog=function(t){var e,i,n,s;"string"==typeof t&&(t={msg:t}),i=t.msg||"",e=t.title||"提示",n=t.btnText||"确定",s=t.template||U.messageDialogTemplate,s=s.replace("{msg}",i),s=s.replace("{title}",e),s=s.replace("{btnText}",n);var o=U.makeDOM(s),a=o.querySelector(".u-msg-button");new U.Button({el:a}),U.on(a,"click",function(){document.body.removeChild(o),document.body.removeChild(r)});var r=U.makeModal(o);document.body.appendChild(o),this.resizeFun=function(){var t=o.querySelector(".u-msg-content");if(t){t.style.height="";var e=o.offsetHeight,i=o.scrollHeight;i>e&&t&&(t.style.height=e-102+"px")}}.bind(this),this.resizeFun(),U.on(window,"resize",this.resizeFun)},U.confirmDialogTemplate='<div class="u-msg-dialog"><div class="u-msg-title"><h4>{title}</h4></div><div class="u-msg-content"><p>{msg}</p></div><div class="u-msg-footer"><button class="u-msg-ok u-button">{okText}</button><button class="u-msg-cancel u-button">{cancelText}</button></div></div>',U.confirmDialog=function(t){var e,i,n,s,o,a,r;i=t.msg||"",e=t.title||"确认",n=t.okText||"确定",s=t.cancelText||"取消",a=t.onOk||function(){},r=t.onCancel||function(){},o=t.template||U.confirmDialogTemplate,o=o.replace("{msg}",i),o=o.replace("{title}",e),o=o.replace("{okText}",n),o=o.replace("{cancelText}",s);var l=U.makeDOM(o),d=l.querySelector(".u-msg-ok"),h=l.querySelector(".u-msg-cancel");new U.Button({el:d}),new U.Button({el:h}),U.on(d,"click",function(){a()!==!1&&(document.body.removeChild(l),document.body.removeChild(c))}),U.on(h,"click",function(){r()!==!1&&(document.body.removeChild(l),document.body.removeChild(c))});var c=U.makeModal(l);document.body.appendChild(l),this.resizeFun=function(){var t=l.querySelector(".u-msg-content");if(t){t.style.height="";var e=l.offsetHeight,i=l.scrollHeight;i>e&&t&&(t.style.height=e-102+"px")}}.bind(this),this.resizeFun(),U.on(window,"resize",this.resizeFun)},U.threeBtnDialog=function(){},U.dialogTemplate='<div class="u-msg-dialog" id="{id}" style="{width}{height}">{close}</div>';var Mt=function(t){"string"==typeof t&&(t={content:t});var e={id:"",content:"",hasCloseMenu:!0,template:U.dialogTemplate,width:"",height:""};t=U.extend(e,t),this.id=t.id,this.hasCloseMenu=t.hasCloseMenu,this.content=t.content,this.template=t.template,this.width=t.width,this.height=t.height,this.create(),this.resizeFun=function(){var t=this.contentDom.querySelector(".u-msg-content");t.style.height="";var e=this.templateDom.offsetHeight,i=this.contentDom.offsetHeight;i>e&&t&&(t.style.height=e-102+"px")}.bind(this),this.resizeFun(),U.on(window,"resize",this.resizeFun)};Mt.prototype.create=function(){var t="",e=this;if(this.hasCloseMenu)var t='<div class="u-msg-close"> <span aria-hidden="true">&times;</span></div>';var i=this.template.replace("{id}",this.id);i=i.replace("{close}",t),i=i.replace("{width}",this.width?"width:"+this.width+";":""),i=i.replace("{height}",this.height?"height:"+this.height+";":""),this.contentDom=document.querySelector(this.content),this.templateDom=U.makeDOM(i),this.contentDom?(this.contentDomParent=this.contentDom.parentNode,this.contentDom.style.display="block"):this.contentDom=U.makeDOM('<div><div class="u-msg-content"><p>'+this.content+"</p></div></div>"),this.templateDom.appendChild(this.contentDom),this.overlayDiv=U.makeModal(this.templateDom),this.hasCloseMenu&&(this.closeDiv=this.templateDom.querySelector(".u-msg-close"),U.on(this.closeDiv,"click",function(){e.close()})),document.body.appendChild(this.templateDom)},Mt.prototype.close=function(){this.contentDom&&(this.contentDom.style.display="none",this.contentDomParent.appendChild(this.contentDom)),document.body.removeChild(this.templateDom),document.body.removeChild(this.overlayDiv)},U.dialog=function(t){return new Mt(t)},U.Combobox=U.BaseComponent.extend({DEFAULTS:{dataSource:{},mutil:!1,enable:!0,single:!0,onSelect:function(){}},init:function(){var t=this,e=this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.items=[],this.mutilPks=[],this.oDiv=null,Object.defineProperty(e,"value",{get:function(){return this.trueValue},set:function(i){var n=t.items,s=t.oDiv.childNodes;if("true"==t.options.single||1==t.options.single)for(var o=0,a=n.length;a>o;o++){var r=n[o].pk;if(r==i){this.innerHTML=n[o].name,this.trueValue=i;break}this.trueValue="",this.innerHTML=""}else if("true"==t.options.mutil||1==t.options.mutil){if(!U.isArray(i)){if("string"!=typeof i||""===i)return;i=i.split(","),t.mutilPks=i}0==t.mutilPks.length&&(t.mutilPks=i),this.innerHTML="";for(var l=[],d=0;d<i.length;d++)for(var o=0,a=s.length;a>o;o++){var r=s[o].item.pk;if(i[d]==r){l.push(i[d]),s[o].style.display="none";var h=document.createElement("Div");h.className="mutil-select-div";var c="<i class='itemName'>"+n[o].name+"</i>",u="<i class='fa fa-close'></i>";h.insertAdjacentHTML("beforeEnd",u+c),this.appendChild(h),U.on(h.querySelector(".fa-close"),"mousedown",function(){for(var i=t.oDiv.childNodes,n=0,s=i.length;s>n;n++)if(i[n].item.name==this.nextSibling.innerHTML){i[n].style.display="block";for(var o=0;o<t.mutilPks.length;o++)t.mutilPks[o]==i[n].item.pk&&(t.mutilPks.splice(o,1),o--);for(var a=0;a<l.length;a++)l[a]==i[n].item.pk&&(l.splice(a,1),a--)}h.removeChild(this.parentNode),e.trueValue="",e.trueValue=l.toString(),U.trigger(e,"mutilSelect",l.toString())})}}this.trueValue=l.toString()}}}),"readonly"!==this.options.readonly&&("true"!=this.options.single&&1!=this.options.single||this.singleSelect(),"true"!=this.options.mutil&&1!=this.options.mutil||this.mutilSelect(),this.clickEvent(),this.blurEvent(),this.comboFilter(),this.comboFilterClean())}}),U.Combobox.fn=U.Combobox.prototype,U.Combobox.fn.createDom=function(){var t=this.options.dataSource;if(U.isEmptyObject(t))throw new Error("dataSource为空！");var e=document.createElement("div");e.className="select-list-div",this.oDiv=e;var i=document.createElement("div");i.className="select-search";var n=document.createElement("input");i.appendChild(n),e.appendChild(i),this.options.readchange&&(i.style.display="none");var s=document.createElement("ul");s.className="select-list-ul";for(var o=0;o<t.length;o++){var a={pk:t[o].pk,name:t[o].name};this.items.push(a);var r=document.createElement("li");r.item=a,r.innerHTML=t[o].name,s.appendChild(r)}e.appendChild(s),e.style.display="none",document.body.appendChild(e)},U.Combobox.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){if(1!=t.options.readchange){var i=t.show();1!==i&&(t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}})},U.Combobox.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(),t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Combobox.fn.blurEvent=function(){var t=this;U.on(this.element,"keyup",function(e){var i=e.which||e.keyCode;9==i&&t.show()}),U.on(this.element,"keydown",function(e){var i=e.which||e.keyCode;9==i&&t.hide()})},U.Combobox.fn.floatLayer=function(){if(!document.querySelector(".select-floatDiv")){var t=document.createElement("div");t.className="select-floatDiv",document.body.appendChild(t)}},U.Combobox.fn.floatLayerEvent=function(){var t=this;U.on(document.querySelector(".select-floatDiv"),"click",function(e){t.hide(),this.parentNode.removeChild(this),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Combobox.fn.show=function(){for(var t=this.oDiv.querySelector("ul").childNodes,e=0,i=0,n=t.length;n>i;i++)"none"==t[i].style.display&&e++;if(e===n)return 1;var s=this.element.offsetLeft,o=this.element.offsetTop,a=30*this.options.dataSource.length+10+10,r=o+U.getStyle(this.element,"height")+a-(window.outerHeight+window.scrollY),l=this.oDiv;
r>0?(l.style.left=s+"px",l.style.top=o-a+"px"):(l.style.left=s+"px",l.style.top=o+U.getStyle(this.element,"height")+"px"),l.style.display="block"},U.Combobox.fn.hide=function(){this.oDiv.style.display="none"},U.Combobox.fn.singleDivValue=function(){for(var t=this,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)U.on(e[i],"click",function(){var e=this.item;t.element.value=e.pk,t.oDiv.style.display="none",t.options.onSelect(e),U.trigger(t.element,"change")})},U.Combobox.fn.mutilDivValue=function(){for(var t=this,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)U.on(e[i],"click",function(){var e=this.item.pk,i=t.mutilPks,n=i.length;if(n>0)for(var s=0;n>s;s++)e==i[s]&&(i.splice(s,1),s--);i.push(e),t.element.value=i,U.trigger(t.element,"mutilSelect",i.toString()),t.oDiv.style.display="none",this.style.display="none",U.trigger(t.element,"change")})},U.Combobox.fn.singleSelect=function(){this.createDom(),this.focusEvent(),this.singleDivValue()},U.Combobox.fn.mutilSelect=function(){this.createDom(),this.mutilDivValue(),this.focusEvent()},U.Combobox.fn.comboFilter=function(){U.on(this.oDiv,"keyup",function(){for(var t=this.querySelector(".select-search input").value,e=this.oDiv.querySelector("ul").childNodes,i=0;i<e.length;i++)-1!=e[i].item.name.indexOf(t)?e[i].style.display="block":e[i].style.display="none"})},U.Combobox.fn.comboFilterClean=function(){var t=this;U.on(t.element,"click",function(){t.oDiv.querySelector(".select-search input").value="";var e=this.oDiv.querySelector("ul").childNodes;if("true"==t.options.single||1==t.options.single)for(var i=0;i<e.length;i++)e[i].style.display="block";else if("true"==t.options.mutil||1==t.options.mutil){for(var n=[],s=this.querySelector(".mutil-select-div .itemName"),i=0;i<s.length;i++)for(var o=0;o<e.length;o++)s[i].innerHTML==e[o].item.name&&n.push(o);for(var a=0;a<e.length;a++){e[a].style.display="block";for(var r=0;r<n.length;r++)a==n[r]&&(e[a].style.display="none")}}})},U.compMgr&&U.compMgr.regComp({comp:U.Combobox,compAsString:"u.Combobox",css:"u-combobox"}),U.Multilang=U.BaseComponent.extend({DEFAULTS:{dataSource:{},onSelect:function(){}},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.multinfo(this.options.multinfo),this.addData(this.options.multidata)}}),U.Multilang.fn=U.Multilang.prototype,U.Multilang.fn.addData=function(t){var e,i=this.element,n=i.parentNode;e="object"==typeof t?t:t.split(","),n.value=e,U.each(e,function(t,e){n.querySelectorAll(".m_context")[t].innerHTML=e})},U.Multilang.fn.multinfo=function(t){var e=this.element,i=this,n="",s=!0,o="name";if(t.lang_name&&(o=t.lang_name),U.isArray(t)){U.wrap(e,"<div class='multilang_body'><input class='lang_value' contenteditable='true'><span class='fa fa-sort-desc lang_icon'><span class='m_icon'></span></span>"),U.css(e,"display","none"),U.each(t,function(t,e){n+=t?"<label attr='"+o+(t+1)+"'><span class='m_context'></span><span class='m_icon'>"+e+"</span></label>":"<label attr='"+o+"'><span class='m_context'></span><span class='m_icon'>"+e+"</span></label>"});var a=e.parentNode;a.insertAdjacentHTML("beforeEnd","<div class='multilang_menu '>"+n+"</div>");var r=a.querySelector(".lang_icon"),l=a.querySelector(".multilang_menu"),d=a.querySelector(".lang_value");U.on(r,"click",function(){a.querySelector(".lang_value").focus(),"block"==U.css(l,"display")?U.css(l,"display","none"):U.css(l,"display","block")}),U.on(l,"mouseenter",function(){s=!1}),U.on(l,"mouseleave",function(){s=!0}),U.on(d,"blur",function(){e=this,tmpkey=e.className.split(" ")[2],tmptext=e.value,U.hasClass(e,"ready_change")&&i.changeData(a,tmpkey,tmptext),s&&U.css(l,"display","none")}),U.on(l,"click","label",function(){var t=this,e=t.getAttribute("attr"),i=t.querySelector(".m_context").innerHTML,n=t.querySelector(".m_icon").cloneNode(!0);d.setAttribute("class","ready_change lang_value "+e),d.value=i,d.focus();var s=a.querySelector(".lang_icon"),o=a.querySelector(".m_icon");U.removeClass(s,"fa-sort-desc"),s.replaceChild(n,o)})}else console.error("Not object")},U.Multilang.fn.changeData=function(t,e,i){var n=t.value;tmplabel=t.querySelector("label[attr='"+e+"']"),tmpcontext=tmplabel.querySelector(".m_context"),tmpcontext.innerHTML=i,tmpcontext.value=i,U.each(t.querySelectorAll(".m_context"),function(t,e){n[t]=e.innerHTML}),U.trigger(this.element,"change.u.multilang",{newValue:i,field:e})},U.Multilang.fn.getData=function(){var t=$(multilang.target).next(".multilang_body")[0],e=t.value;return e},U.compMgr&&U.compMgr.regComp({comp:U.Multilang,compAsString:"u.Multilang",css:"u-multilang"}),U.Autocomplete=U.BaseComponent.extend({defaults:{inputClass:"ac_input",resultsClass:"ac_results",lineSeparator:"\n",cellSeparator:"|",minChars:1,delay:400,matchCase:0,matchSubset:1,matchContains:0,cacheLength:1,mustMatch:0,extraParams:{},loadingClass:"ac_loading",selectFirst:!1,selectOnly:!1,maxItemsToShow:-1,autoFill:!1,width:0,source:null,select:null},init:function(){var t=this;this.options=U.extend({},this.defaults,this.options),this.requestIndex=0,this.pending=0,this.options.inputClass&&U.addClass(this.element,this.options.inputClass),this._results=document.querySelector("#autocompdiv"),this._results||(this._results=U.makeDOM('<div id="autocompdiv"></div>'),document.body.appendChild(this._results)),this._results.style.display="none",this._results.style.position="absolute",U.addClass(this._results,this.options.resultsClass),this.options.width&&(this._results.style.width=this.options.width),this.timeout=null,this.prev="",this.active=-1,this.cache={},this.keyb=!1,this.hasFocus=!1,this.lastKeyPressCode=null,this._initSource(),U.on(this.element,"keydown",function(e){switch(t.lastKeyPressCode=e.keyCode,e.keyCode){case 38:e.preventDefault(),t.moveSelect(-1);break;case 40:e.preventDefault(),t.moveSelect(1);break;case 9:case 13:t.selectCurrent()&&(t.element.blur(),e.preventDefault());break;default:t.active=-1,t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.onChange()},t.options.delay)}}),U.on(this.element,"focus",function(){t.hasFocus=!0}),U.on(this.element,"blur",function(){t.hasFocus=!1,t.hideResults()}),this.hideResultsNow()},flushCache:function(){this.cache={},this.cache.data={},this.cache.length=0},_initSource:function(){var t,e,i=this;U.isArray(this.options.source)?(t=this.options.source,this.source=function(e,n){n(i.filterData(e.term,t))}):"string"==typeof this.options.source?(e=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=U.ajax({url:e,data:t,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_response:function(){var t=this,e=++this.requestIndex;return function(i){e===t.requestIndex&&t.__response(i),t.pending--,!t.pending}},__response:function(t){t&&this.receiveData2(t),this.showResults()},onChange:function(){if(46==this.lastKeyPressCode||this.lastKeyPressCode>8&&this.lastKeyPressCode<32)return this._results.style.disply="none";var t=this.element.value;t!=this.prev&&(this.prev=t,t.length>=this.options.minChars?(U.addClass(this.element,this.options.loadingClass),this.pending++,this.source({term:t},this._response())):(U.removeClass(this.element,this.options.loadingClass),this._results.style.display="none"))},moveSelect:function(t){var e=this._results.querySelectorAll("li");e&&(this.active+=t,this.active<0?this.active=0:this.active>=e.length&&(this.active=e.length-1),e.forEach(function(t){U.removeClass(t,"ac_over")}),U.addClass(e[this.active],"ac_over"))},selectCurrent:function(){var t=this._results.querySelector("li.ac_over");if(!t){var e=this._results.querySelectorAll("li");this.options.selectOnly?1==e.length&&(t=e[0]):this.options.selectFirst&&(t=e[0])}return t?(this.selectItem(t),!0):!1},selectItem:function(t){var e=this;t||(t=document.createElement("li"),t.selectValue="");var i=t.selectValue?t.selectValue:t.innerHTML;this.lastSelected=i,this.prev=i,this._results.innerHTML="",this.element.value=i,this.hideResultsNow(),this.options.select&&setTimeout(function(){e.options.select(t._item)},1)},createSelection:function(t,e){var i=this.element;if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()}else i.setSelectionRange?i.setSelectionRange(t,e):i.selectionStart&&(i.selectionStart=t,i.selectionEnd=e);i.focus()},autoFill:function(t){8!=this.lastKeyPressCode&&(this.element.value=this.element.value+t.substring(this.prev.length),this.createSelection(this.prev.length,t.length))},showResults:function(){var t=I(this.element),e=this.options.width>0?this.options.width:this.element.offsetWidth;"100%"===this.options.width?(this._results.style.top=t.y+this.element.offsetHeight+"px",this._results.style.left=t.x+"px",this._results.style.display="block"):(this._results.style.width=parseInt(e)+"px",this._results.style.top=t.y+this.element.offsetHeight+"px",this._results.style.left=t.x+"px",this._results.style.display="block")},hideResults:function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.hideResultsNow()},200)},hideResultsNow:function(){if(this.timeout&&clearTimeout(this.timeout),U.removeClass(this.element,this.options.loadingClass),this._results.style.display="none",this.options.mustMatch){var t=this.element.value;t!=this.lastSelected&&this.selectItem(null)}},receiveData:function(t,e){if(e){if(U.removeClass(this.element,this.options.loadingClass),this._results.innerHTML="",!this.hasFocus||0==e.length)return this.hideResultsNow();this._results.appendChild(this.dataToDom(e)),this.options.autoFill&&this.element.value.toLowerCase()==t.toLowerCase()&&this.autoFill(e[0][0]),this.showResults()}else this.hideResultsNow()},filterData:function(t,e){if(!t)return e;for(var i=[],n=0,s=e.length;s>n;n++){var o=e[n].label;0==o.indexOf(t)&&i.push(e[n])}return i},receiveData2:function(t){if(t){if(U.removeClass(this.element,this.options.loadingClass),this._results.innerHTML="",!this.hasFocus||0==t.length)return this.hideResultsNow();this._results.appendChild(this.dataToDom2(t)),this.showResults()}else this.hideResultsNow()},dataToDom2:function(t){var e=document.createElement("ul"),i=t.length,n=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<i&&(i=this.options.maxItemsToShow);for(var s=0;i>s;s++){var o=t[s];if(o){var a=document.createElement("li");this.options.formatItem?a.innerHTML=this.options.formatItem(o,s,i):a.innerHTML=o.label,a.selectValue=o.label,a._item=o,e.appendChild(a),U.on(a,"mouseenter",function(){var t=e.querySelector("li.ac_over");t&&U.removeClass(t,"ac_over"),U.addClass(this,"ac_over"),n.active=L(e.querySelectorAll("li"),this)}),U.on(a,"mouseleave",function(){U.removeClass(this,"ac_over")}),U.on(a,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),n.selectItem(this)})}}return e},parseData:function(){if(!data)return null;for(var t=[],e=data.split(this.options.lineSeparator),i=0;i<e.length;i++){var n=e[i];n&&(t[t.length]=n.split(this.options.cellSeparator))}return t},dataToDom:function(t){var i=document.createElement("ul"),n=t.length,s=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<n&&(n=this.options.maxItemsToShow);for(var o=0;n>o;o++){var a=t[o];if(a){var r=document.createElement("li");this.options.formatItem?(r.innerHTML=this.options.formatItem(a,o,n),r.selectValue=a[0]):(r.innerHTML=a[0],r.selectValue=a[0]);var l=null;if(a.length>1){l=[];for(var d=1;d<a.length;d++)l[l.length]=a[d]}r.extra=l,i.appendChild(r),U.on(r,"mouseenter",function(){var t=i.querySelector("li.ac_over");t&&U.removeClass(t,"ac_over"),U.addClass(this,"ac_over"),s.active=L(i.querySelectorAll("li"),this)}),U.on(r,"mouseleave",function(){U.removeClass(this,"ac_over")}),U.on(r,"mousedown",function(){e.preventDefault(),e.stopPropagation(),s.selectItem(this)})}}return i},requestData:function(){var t=this;this.options.matchCase||(q=q.toLowerCase());var e=this.options.cacheLength?this.loadFromCache(q):null;e?this.receiveData(q,e):"string"==typeof this.options.url&&this.options.url.length>0?U.ajax({url:this.makeUrl(q),success:function(e){e=t.parseData(e),t.addToCache(q,e),t.receiveData(q,e)}}):U.removeClass(this.element,this.options.loadingClass)},makeUrl:function(t){var e=this.options.url+"?q="+encodeURI(t);for(var i in this.options.extraParams)e+="&"+i+"="+encodeURI(this.options.extraParams[i]);return e},loadFromCache:function(){if(!q)return null;if(this.cache.data[q])return this.cache.data[q];if(this.options.matchSubset)for(var t=q.length-1;t>=this.options.minChars;t--){var e=q.substr(0,t),i=this.cache.data[e];if(i){for(var n=[],s=0;s<i.length;s++){var o=i[s],a=o[0];this.matchSubset(a,q)&&(n[n.length]=o)}return n}}return null},matchSubset:function(t,e){this.options.matchCase||(t=t.toLowerCase());var i=t.indexOf(e);return-1==i?!1:0==i||this.options.matchContains},addToCache:function(t,e){e&&t&&this.options.cacheLength&&(!this.cache.length||this.cache.length>this.options.cacheLength?(this.flushCache(),this.cache.length++):this.cache[t]||this.cache.length++,this.cache.data[t]=e)}}),U.compMgr.regComp({comp:U.Autocomplete,compAsString:"u.Autocomplete",css:"u-autocomplete"}),U.DateTimePicker=U.BaseComponent.extend({}),U.DateTimePicker.fn=U.DateTimePicker.prototype,U.DateTimePicker.fn.init=function(){var t,e,i=this;this._element=this.element,U.addClass(this._element,"u-text"),this._element.style.display="inline-table",this._input=this._element.querySelector("input"),U.on(this._input,"focus",function(t){i.isShow!==!0&&i.show(t),U.stopEvent(t)}),this._span=this._element.querySelector("span"),this._span&&U.on(this._span,"click",function(t){i.isShow!==!0&&i.show(t),U.stopEvent(t)}),U.hasClass(this._element,"time")?(this.type="datetime",e="YYYY-MM-DD hh:mm:ss"):(this.type="date",e="YYYY-MM-DD"),t=this._element.getAttribute("format"),this.format=t||this.options.format||e,this.isShow=!1},U.DateTimePicker.fn._carousel=function(t,e){"left"==e?U.addClass(t,"right-page"):U.addClass(t,"left-page"),this._dateContent.appendChild(t);var i=function(){t.removeEventListener("transitionend",i),t.removeEventListener("webkitTransitionEnd",i),this._dateContent.removeChild(this.contentPage),this.contentPage=t}.bind(this);t.addEventListener("transitionend",i),t.addEventListener("webkitTransitionEnd",i),window.requestAnimationFrame&&window.requestAnimationFrame(function(){"left"==e?(U.addClass(this.contentPage,"left-page"),U.removeClass(t,"right-page")):(U.addClass(this.contentPage,"right-page"),U.removeClass(t,"left-page"))}.bind(this))},U.DateTimePicker.fn._zoomIn=function(t){if(!this.contentPage)return this._dateContent.appendChild(t),void(this.contentPage=t);if(U.addClass(t,"zoom-in"),this._dateContent.appendChild(t),U.isIE8)this._dateContent.removeChild(this.contentPage),this.contentPage=t;else{var e=function(){t.removeEventListener("transitionend",e),t.removeEventListener("webkitTransitionEnd",e),this._dateContent.removeChild(this.contentPage),this.contentPage=t}.bind(this);this.contentPage&&(t.addEventListener("transitionend",e),t.addEventListener("webkitTransitionEnd",e)),window.requestAnimationFrame&&window.requestAnimationFrame(function(){U.addClass(this.contentPage,"is-hidden"),U.removeClass(t,"zoom-in")}.bind(this))}},U.DateTimePicker.fn._fillYear=function(t){var e,i,n,s,o,a,r;for(e=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),t=t||"current",o=this.pickerDate.getFullYear(),"current"===t?this.startYear=o-o%10-1:"preivous"===t?this.startYear=this.startYear-10:this.startYear=this.startYear+10,i=U.makeDOM(e),n=i.querySelector(".u-date-content-title"),n.innerHTML=this.startYear-1+"-"+(this.startYear+11),s=i.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=U.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new Dt(r),this.startYear+a==o&&U.addClass(r,"current"),r._value=this.startYear+a,s.appendChild(r);U.on(s,"click",function(t){var e=t.target._value;this.pickerDate.setYear(e),this._updateDate(),this._fillMonth()}.bind(this)),"current"===t?this._zoomIn(i):"next"===t?this._carousel(i,"left"):"preivous"===t&&this._carousel(i,"right"),this.currentPanel="year"},U.DateTimePicker.fn._fillMonth=function(){var t,e,i,n,s;for(i=this.pickerDate.getMonth()+1,t=['<div class="u-date-content-page">','<div class="u-date-content-title">'+i+"月</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),e=U.makeDOM(t),n=e.querySelectorAll(".u-date-content-year-cell"),s=0;s<n.length;s++)i-1==s&&U.addClass(n[s],"current"),n[s]._value=s,new Dt(n[s]);U.on(e,"click",function(t){var e=t.target._value;this.pickerDate.setMonth(e),this._updateDate(),this._fillDate()}.bind(this)),this._zoomIn(e),this.currentPanel="month"},U.DateTimePicker.fn._getPickerStartDate=function(t){var e=new Date(t);e.setDate(1);var i=e.getDay();return e=U.date.sub(e,"d",i)},U.DateTimePicker.fn._getPickerEndDate=function(t){var e=new Date(t);e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(0);var i=e.getDay();return e=U.date.add(e,"d",6-i)},U.DateTimePicker.fn._dateMobileScroll=function(t){var e,i,n,s,o,a,r,l=this;t=t||"current",s="current"===t?this.pickerDate:"preivous"===t?U.date.sub(this.startDate,"d",1):U.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(s),this.endDate=this._getPickerEndDate(s),n=U.core.getLanguages(),e=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"><div class="scroll-box"><div class="scroll-shadow"></div>','<div class="scroll-touch"><div></div><dl time-change="setYear" class="u-date-year  u-scroll"></dl></div>','<div class="scroll-touch"><div></div><dl time-change="setMonth" class="u-date-month u-scroll"></dl></div>','<div class="scroll-touch"><div></div><dl time-change="setDate" class="u-date-day u-scroll"></dl></div>',"</div></div>"].join(""),i=U.makeDOM(e);var d=i.querySelector(".u-date-year"),h=i.querySelector(".u-date-month"),c=i.querySelector(".u-date-day");for(this.startYear=this.pickerDate.getFullYear()-10,o=0;20>o;o++)a=U.makeDOM('<dd class="u-date-li">'+(this.startYear+o)+"</dd>"),this.startYear+o==this.pickerDate.getFullYear()&&(U.addClass(a,"current"),O(d,o)),a._value=this.startYear+o,d.appendChild(a);for(o=0;12>o;o++)a=U.makeDOM('<dd class="u-date-li">'+(1+o)+"月</dd>"),this.pickerDate.getMonth()==o&&(U.addClass(a,"current"),O(h,o)),a._value=o,h.appendChild(a);var u=new Date(this.pickerDate.getFullYear(),this.pickerDate.getMonth()+1,0).getDate();for(o=1;u>o;o++)a=U.makeDOM('<dd class="u-date-li">'+o+"日</dd>"),o==this.pickerDate.getDate()&&(U.addClass(a,"current"),O(c,o-1)),a._value=o,c.appendChild(a);r=60,U.on(i.querySelector(".scroll-shadow"),"touchstart",function(t){var e,n,s,o=this.clientWidth;console.dir(),n=t.touches[0].pageY,s=t.touches[0].pageX-this.getClientRects()[0].left,.33*o>s?e=i.querySelector(".u-date-year"):s>.33*o&&.66*o>s?e=i.querySelector(".u-date-month"):s>.66*o&&(e=i.querySelector(".u-date-day")),U.on(document.body,"touchmove",function(t){var i=t.touches[0].pageY-n,s=parseInt(e.style.transform.match(/\((\S+)px\)/)[1]);e.style.transform="translateY("+(s+i)+"px)",n=t.touches[0].pageY});var a=(e.querySelectorAll("dd").length-3)*-r;U.on(document.body,"touchend",function(t){var i=parseInt(e.style.transform.match(/\((\S+)px\)/)[1]),n=i-i%60;n>2*r?n=2*r:a>n&&(n=a),tmpdd=e.querySelectorAll("dd"),U.removeClass(e.querySelector(".current"),"current"),U.addClass(tmpdd[2-n/r],"current"),e.style.transform="translateY("+n+"px)",R(e,l),U.off(document.body,"touchmove"),U.off(document.body,"touched")})}),"current"===t?this._zoomIn(i):"next"===t?this._carousel(i,"left"):"preivous"===t&&this._carousel(i,"right"),this.currentPanel="mobile_date"},U.DateTimePicker.fn._timeMobileScroll=function(t){var e,i,n,s,o,a,r,l=this;t=t||"current",s="current"===t?this.pickerDate:"preivous"===t?U.date.sub(this.startDate,"d",1):U.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(s),this.endDate=this._getPickerEndDate(s),n=U.core.getLanguages(),e=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"><div class="scroll-box"><div class="scroll-shadow"></div>','<div class="scroll-touch"><div></div><dl time-change="setHours" class="u-date-hour  u-scroll"></dl></div>','<div class="scroll-touch"><div></div><dl time-change="setMinutes" class="u-date-minute u-scroll"></dl></div>','<div class="scroll-touch"><div></div><dl time-change="setSeconds" class="u-date-second u-scroll"></dl></div>',"</div></div>"].join(""),i=U.makeDOM(e);var d=i.querySelector(".u-date-hour"),h=i.querySelector(".u-date-minute"),c=i.querySelector(".u-date-second");for(o=0;24>o;o++)a=U.makeDOM('<dd class="u-date-li">'+(10>o?"0"+o:o)+"</dd>"),this.pickerDate.getHours()==o&&(U.addClass(a,"current"),O(d,o)),a._value=o,d.appendChild(a);for(o=0;60>o;o++)a=U.makeDOM('<dd class="u-date-li">'+(10>o?"0"+o:o)+"</dd>"),this.pickerDate.getMinutes()==o&&(U.addClass(a,"current"),O(h,o)),a._value=o,h.appendChild(a);for(o=0;60>o;o++)a=U.makeDOM('<dd class="u-date-li">'+(10>o?"0"+o:o)+"</dd>"),this.pickerDate.getSeconds()==o&&(U.addClass(a,"current"),O(c,o)),a._value=o,c.appendChild(a);r=60,U.on(i.querySelector(".scroll-shadow"),"touchstart",function(t){var e,n,s,o=this.clientWidth;n=t.touches[0].pageY,s=t.touches[0].pageX-this.getClientRects()[0].left,.33*o>s?e=i.querySelector(".u-date-hour"):s>.33*o&&.66*o>s?e=i.querySelector(".u-date-minute"):s>.66*o&&(e=i.querySelector(".u-date-second")),U.on(document.body,"touchmove",function(t){var i=t.touches[0].pageY-n,s=parseInt(e.style.transform.match(/\((\S+)px\)/)[1]);e.style.transform="translateY("+(s+i)+"px)",n=t.touches[0].pageY});var a=(e.querySelectorAll("dd").length-3)*-r;U.on(document.body,"touchend",function(t){var i=parseInt(e.style.transform.match(/\((\S+)px\)/)[1]),n=i-i%60;n>2*r?n=2*r:a>n&&(n=a),tmpdd=e.querySelectorAll("dd"),U.removeClass(e.querySelector(".current"),"current"),U.addClass(tmpdd[2-n/r],"current"),e.style.transform="translateY("+n+"px)",R(e,l),U.off(document.body,"touchmove"),U.off(document.body,"touched")})}),"current"===t?this._zoomIn(i):"next"===t?this._carousel(i,"left"):"preivous"===t&&this._carousel(i,"right"),this.currentPanel="mobile_time"},U.DateTimePicker.fn._fillDate=function(t){if(U.isIOS)return void this._dateMobileScroll();var e,i,n,s,o,a,r,l,d,h,c;for(t=t||"current",d="current"===t?this.pickerDate:"preivous"===t?U.date.sub(this.startDate,"d",1):U.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(d),this.endDate=this._getPickerEndDate(d),l=U.core.getLanguages(),e=U.date._formats.YYYY(d),i=U.date._formats.MMM(d,l),n=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-week"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),s=U.makeDOM(n),o=s.querySelector(".u-date-content-title"),o.innerHTML=e+" "+i,r=s.querySelectorAll(".u-date-week span"),h=0;7>h;h++)r[h].innerHTML=U.date._dateLocale[l].weekdaysMin[h];for(a=s.querySelector(".u-date-content-panel"),d=this.startDate;d<=this.endDate;)c=U.makeDOM('<div class="u-date-cell" unselectable="on" onselectstart="return false;">'+d.getDate()+"</div>"),d.getFullYear()==this.pickerDate.getFullYear()&&d.getMonth()==this.pickerDate.getMonth()&&d.getDate()==this.pickerDate.getDate()&&U.addClass(c,"current"),c._value=d.getDate(),c._month=d.getMonth(),c._year=d.getFullYear(),new Dt(c),a.appendChild(c),d=U.date.add(d,"d",1);U.on(a,"click",function(t){var e=t.target._value;if(e){this.pickerDate.setFullYear(t.target._year),this.pickerDate.setMonth(t.target._month),this.pickerDate.setDate(e);var i=t.target.parentNode.querySelector(".u-date-cell.current");i&&(U.removeClass(i,"current"),U.isIE8&&(i.style.backgroundColor="#fff")),U.addClass(t.target,"current"),U.isIE8&&(t.target.style.backgroundColor="#3f51b5"),this._updateDate(),"date"===this.type&&this.onOk()}}.bind(this)),"current"===t?this._zoomIn(s):"next"===t?this._carousel(s,"left"):"preivous"===t&&this._carousel(s,"right"),this.currentPanel="date"},U.DateTimePicker.fn._fillTime=function(t){if(U.isIOS)return void this._timeMobileScroll();var e,i,n,s,o,a,r,l,d,h,c=this;t=t||"current",d="current"===t?this.pickerDate:"preivous"===t?U.date.sub(this.startDate,"d",1):U.date.add(this.endDate,"d",1),this.startDate=this._getPickerStartDate(d),this.endDate=this._getPickerEndDate(d),l=U.core.getLanguages(),e=U.date._formats.YYYY(d),i=U.date._formats.MMM(d,l),n=U.date._formats.DD(d,l),s=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),o=U.makeDOM(s),a=o.querySelector(".u-date-content-title"),a.innerHTML=e+" "+i+" "+n,r=o.querySelector(".u-date-content-panel"),timetemplate=['<div class="u_time_box">','<div class="u_time_cell">','<div class="add_hour_cell"><i class="add_hour_cell icon-angle-up"></i></div>','<div class="show_hour_cell">'+U.date._formats.HH(d)+"</div>",'<div class="subtract_hour_cell"><i class="subtract_hour_cell icon-angle-down"></i></div>',"</div>",'<div class="u_time_cell">','<div class="add_min_cell"><i class="add_min_cell icon-angle-up"></i></div>','<div class="show_min_cell">'+U.date._formats.mm(d)+"</div>",'<div class="subtract_min_cell"><i class="subtract_min_cell icon-angle-down"></i></div>',"</div>",'<div class="u_time_cell">','<div class="add_sec_cell"><i class="add_sec_cell icon-angle-up"></i></div>','<div class="show_sec_cell">'+U.date._formats.ss(d)+"</div>",'<div class="subtract_sec_cell"><i class="subtract_sec_cell icon-angle-down"></i></div>',"</div>","</div>"].join(""),h=U.makeDOM(timetemplate),r.appendChild(h),U.on(r,"click",function(t){var e=t.target.getAttribute("class").split("_");if("add"==e[0]){if("hour"==e[1]){var i=Number(U.date._formats.HH(this.pickerDate));23>i?i++:i=0,this.pickerDate.setHours(i),r.querySelector(".show_hour_cell").innerHTML=i}else if("min"==e[1]){var n=Number(U.date._formats.mm(this.pickerDate));59>n?n++:n=0,this.pickerDate.setMinutes(n)}else if("sec"==e[1]){var s=Number(U.date._formats.ss(this.pickerDate));59>s?s++:s=0,this.pickerDate.setSeconds(s)}}else{if("subtract"!=e[0]){if("show"==e[0]){var o=t.target,a=U.makeDOM("<input type='text' class='u-input'>");if(o.querySelector(".u-input"))return;if(this._updateDate(),a.value=o.textContent,o.innerHTML="",o.appendChild(a),"hour"==e[1]){var l=new U.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:23});U.on(a,"blur",function(){l.passed&&(c.pickerDate.setHours(a.value),c._updateDate())})}else if("min"==e[1]){var l=new U.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:59});U.on(a,"blur",function(){l.passed&&(c.pickerDate.setMinutes(a.value),c._updateDate())})}else if("sec"==e[1]){var l=new U.Validate(a,{validType:"integer",minLength:0,maxLength:2,min:0,max:59});U.on(a,"blur",function(){l.passed&&(c.pickerDate.setSeconds(a.value),c._updateDate())})}return void a.focus()}return!1}if("hour"==e[1]){var i=Number(U.date._formats.HH(this.pickerDate));i>0?i--:i=23,this.pickerDate.setHours(i)}else if("min"==e[1]){var n=Number(U.date._formats.mm(this.pickerDate));n>0?n--:n=59,this.pickerDate.setMinutes(n)}else if("sec"==e[1]){var s=Number(U.date._formats.ss(this.pickerDate));s>0?s--:s=59,this.pickerDate.setSeconds(s)}}this._updateDate()}.bind(this)),this._zoomIn(o),this.currentPanel="time",r.onselectstart=new Function("return false")},U.DateTimePicker.fn._updateDate=function(){var t,e,i,n,s,o;o=U.core.getLanguages(),t=U.date._formats.YYYY(this.pickerDate),i=U.date._formats.ddd(this.pickerDate,o),e=U.date._formats.MMM(this.pickerDate,o),s=U.date._formats.HH(this.pickerDate,o)+":"+U.date._formats.mm(this.pickerDate,o)+":"+U.date._formats.ss(this.pickerDate,o),n=U.date._formats.D(this.pickerDate)+"日",this._headerYear.innerHTML="",this._headerYear.innerHTML=t,this._headerWeak.innerHTML="",this._headerWeak.innerHTML=i,this._headerMonth.innerHTML="",this._headerMonth.innerHTML=e,this._headerDate.innerHTML="",this._headerDate.innerHTML=n,this._headerTime.innerHTML="",this._headerTime.innerHTML=s,"time"==this.currentPanel&&(this._panel.querySelector(".show_hour_cell").innerHTML=U.date._formats.HH(this.pickerDate,o),this._panel.querySelector(".show_min_cell").innerHTML=U.date._formats.mm(this.pickerDate,o),this._panel.querySelector(".show_sec_cell").innerHTML=U.date._formats.ss(this.pickerDate,o))},U.DateTimePicker.fn._response=function(){var t=document.body.offsetHeight,e=430;"date"===this.type&&(e=395),t>e&&(this._panel.style.height=e)},U.dateTimePickerTemplateArr=['<div class="u-date-panel">','<div class="u-date-body">','<div class="u-date-header">','<span class="u-date-header-year"></span>','<div class="u-date-header-h3">','<span class="u-date-header-week"></span>',"<span>,</span>",'<span class="u-date-header-month"></span>',"<span> </span>",'<span class="u-date-header-date"></span>',"<span> </span>",'<span class="u-date-header-time"></span>',"</div>","</div>",'<div class="u-date-content"></div>',"</div>",'<div class="u-date-nav">','<button class="u-button u-date-ok right">确定</button>','<button class="u-button u-date-cancel right">取消</button>',"</div>","</div>"],U.DateTimePicker.fn.show=function(){var t=this;if(!this._panel){this._panel=U.makeDOM(U.dateTimePickerTemplateArr.join("")),this._headerYear=this._panel.querySelector(".u-date-header-year"),this._headerWeak=this._panel.querySelector(".u-date-header-week"),this._headerMonth=this._panel.querySelector(".u-date-header-month"),this._headerDate=this._panel.querySelector(".u-date-header-date"),this._headerTime=this._panel.querySelector(".u-date-header-time"),this._dateNav=this._panel.querySelector(".u-date-nav"),"date"===this.type&&(this._headerTime.style.display="none",this._dateNav.style.display="none"),this._dateContent=this._panel.querySelector(".u-date-content"),this.btnOk=this._panel.querySelector(".u-date-ok"),this.btnCancel=this._panel.querySelector(".u-date-cancel");var e=document.createElement("span");U.addClass(e,"u-ripple"),this.btnOk.appendChild(e);var e=document.createElement("span");U.addClass(e,"u-ripple"),this.btnCancel.appendChild(e),new Dt(this.btnOk),new Dt(this.btnCancel),U.on(this.btnOk,"click",function(t){this.onOk(),U.stopEvent(t)}.bind(this)),U.on(this.btnCancel,"click",function(e){t.onCancel(),U.stopEvent(e)}),U.on(this._headerYear,"click",function(e){t._fillYear(),U.stopEvent(e)}),U.on(this._headerMonth,"click",function(e){t._fillMonth(),U.stopEvent(e)}),U.on(this._headerTime,"click",function(e){t._fillTime(),U.stopEvent(e)}),this.preBtn=U.makeDOM('<button class="u-date-pre-button u-button flat floating mini">&lt;</button>'),this.nextBtn=U.makeDOM('<button class="u-date-next-button u-button flat floating mini">&gt;</button>'),new U.Button(this.nextBtn),U.on(this.preBtn,"click",function(e){"date"==t.currentPanel?t._fillDate("preivous"):"year"==t.currentPanel&&t._fillYear("preivous"),U.stopEvent(e)}),U.on(this.nextBtn,"click",function(e){"date"==t.currentPanel?t._fillDate("next"):"year"==t.currentPanel&&t._fillYear("next"),U.stopEvent(e)}),this._dateContent.appendChild(this.preBtn),this._dateContent.appendChild(this.nextBtn),document.body.appendChild(this._panel)}this.pickerDate=this.date||new Date,this._updateDate(),this._fillDate(),this._response(),U.on(window,"resize",function(){t._response();
}),this.overlayDiv=U.makeModal(this._panel),U.addClass(this._panel,"is-visible"),U.on(this.overlayDiv,"click",function(){t.onCancel()}),this.isShow=!0},U.DateTimePicker.fn.hide=function(){},U.DateTimePicker.fn.setDate=function(t){if(!t)return this.date=null,void(this._input.value="");var e=U.date.getDateObj(t);e&&(this.date=e,this._input.value=U.date.format(this.date,this.format))},U.DateTimePicker.fn.setFormat=function(t){this.format=t,this._input.value=U.date.format(this.date,this.format)},U.DateTimePicker.fn.onOk=function(){this.setDate(this.pickerDate),this.isShow=!1,U.removeClass(this._panel,"is-visible"),document.body.removeChild(this.overlayDiv),this.trigger("select",{value:this.pickerDate})},U.DateTimePicker.fn.onCancel=function(){this.isShow=!1,U.removeClass(this._panel,"is-visible"),document.body.removeChild(this.overlayDiv)},U.compMgr&&U.compMgr.regComp({comp:U.DateTimePicker,compAsString:"u.DateTimePicker",css:"u-datepicker"}),U.Time=U.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input"),U.addClass(this.element,"u-text"),U.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),U.Time.fn=U.Time.prototype,U.Time.fn.createPanel=function(){if(!this.panelDiv){var t=this;this.panelDiv=U.makeDOM('<div class="u-combo-ul" style="padding:0px;"></div>'),this.panelContentDiv=U.makeDOM('<div class="u-time-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.panelHourDiv=U.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelHourDiv),this.panelHourInput=U.makeDOM('<input class="u-time-input">'),this.panelHourDiv.appendChild(this.panelHourInput),this.panelMinDiv=U.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelMinDiv),this.panelMinInput=U.makeDOM('<input class="u-time-input">'),this.panelMinDiv.appendChild(this.panelMinInput),this.panelSecDiv=U.makeDOM('<div class="u-time-cell"></div>'),this.panelContentDiv.appendChild(this.panelSecDiv),this.panelSecInput=U.makeDOM('<input class="u-time-input">'),this.panelSecDiv.appendChild(this.panelSecInput),this.panelNavDiv=U.makeDOM('<div class="u-time-nav"></div>'),this.panelDiv.appendChild(this.panelNavDiv),this.panelOKButton=U.makeDOM('<button class="u-button" style="float:right;">OK</button>'),this.panelNavDiv.appendChild(this.panelOKButton),U.on(this.panelOKButton,"click",function(){var e=t.panelHourInput.value+":"+t.panelMinInput.value+":"+t.panelSecInput.value;t.setValue(e),t.hide()}),this.panelCancelButton=U.makeDOM('<button class="u-button" style="float:right;">Cancel</button>'),this.panelNavDiv.appendChild(this.panelCancelButton),U.on(this.panelCancelButton,"click",function(){t.hide()});var e=new Date;this.panelHourInput.value=e.getHours()>9?""+e.getHours():"0"+e.getHours(),this.panelMinInput.value=e.getMinutes()>9?""+e.getMinutes():"0"+e.getMinutes(),this.panelSecInput.value=e.getSeconds()>9?""+e.getSeconds():"0"+e.getSeconds(),this.element.parentNode.appendChild(this.panelDiv)}},U.Time.fn.setValue=function(t){var e="",i="",n="";if(t=t?t:"",t!=this.input.value){if(t&&t.indexOf(":")>-1){var s=t.split(":"),e=s[0];e%=24,e=e>9?""+e:"0"+e;var i=s[1];i%=60,i=i>9?""+i:"0"+i;var n=s[2];n%=60,n=n>9?""+n:"0"+n,t=e+":"+i+":"+n}this.input.value=t,this.createPanel(),this.panelHourInput.value=e,this.panelMinInput.value=i,this.panelSecInput.value=n,this.trigger("valueChange",{value:t})}},U.Time.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Time.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Time.fn.show=function(t){var e=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.left=this.element.offsetLeft;var i=this.element.offsetHeight;this.top=this.element.offsetTop+i,this.panelDiv.style.width=this.width+"px",this.panelDiv.style.left=this.left+"px",this.panelDiv.style.top=this.top+"px",this.panelDiv.style.zIndex=U.getZIndex(),U.addClass(this.panelDiv,"is-visible");var n=function(i){i===t||i.target===this.input||e.clickPanel(i.target)||(U.off(document,"click",n),this.hide())}.bind(this);U.on(document,"click",n)},U.Time.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},U.Time.fn.hide=function(){U.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},U.compMgr&&U.compMgr.regComp({comp:U.Time,compAsString:"u.Time",css:"u-time"}),U.YearMonth=U.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input"),U.addClass(this.element,"u-text");var t=new Date;this.year=t.getFullYear(),this.startYear=this.year-this.year%10-1,this.month=t.getMonth()+1,U.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),U.YearMonth.fn=U.YearMonth.prototype,U.YearMonth.fn.createPanel=function(){if(this.panelDiv)return void this._fillYear();var t=this;this.panelDiv=U.makeDOM('<div class="u-combo-ul" style="padding:0px;"></div>'),this.panelContentDiv=U.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=U.makeDOM('<button class="u-date-pre-button u-button flat floating mini" style="display:none;">&lt;</button>'),this.nextBtn=U.makeDOM('<button class="u-date-next-button u-button flat floating mini" style="display:none;">&gt;</button>'),U.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),U.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillYear(),this.element.parentNode.appendChild(this.panelDiv)},U.YearMonth.fn._fillYear=function(t){var e,i,n,s,o,a,r;for(e=this.panelContentDiv.querySelector(".u-date-content-page"),e&&this.panelContentDiv.removeChild(e),i=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),n=U.makeDOM(i),s=n.querySelector(".u-date-content-title"),s.innerHTML=this.startYear+"-"+(this.startYear+11),o=n.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=U.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new Dt(r),this.startYear+a==this.year&&U.addClass(r,"current"),r._value=this.startYear+a,o.appendChild(r);var l=this;U.on(o,"click",function(t){var e=t.target._value;l.year=e,l._fillMonth(),U.stopEvent(t)}),this.preBtn.style.display="block",this.nextBtn.style.display="block",this.panelContentDiv.appendChild(n),this.contentPage=n,this.currentPanel="year"},U.YearMonth.fn._fillMonth=function(){var t,e,i,n,s,o;for(t=this.panelContentDiv.querySelector(".u-date-content-page"),t&&this.panelContentDiv.removeChild(t),n=this.month,e=['<div class="u-date-content-page">','<div class="u-date-content-title">'+n+"月</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),i=U.makeDOM(e),s=i.querySelectorAll(".u-date-content-year-cell"),o=0;o<s.length;o++)n==o+1&&U.addClass(s[o],"current"),s[o]._value=o+1,new Dt(s[o]);var a=this;U.on(i,"click",function(t){var e=t.target._value;a.month=e,i.querySelector(".u-date-content-title").innerHTML=e+"月",a.setValue(a.year+"-"+a.month),a.hide()}),this.preBtn.style.display="none",this.nextBtn.style.display="none",this._zoomIn(i),this.currentPanel="month"},U.YearMonth.fn._zoomIn=function(t){if(!this.contentPage)return this.panelContentDiv.appendChild(t),void(this.contentPage=t);if(U.addClass(t,"zoom-in"),this.panelContentDiv.appendChild(t),U.isIE8)this.contentPage=t;else{var e=function(){t.removeEventListener("transitionend",e),t.removeEventListener("webkitTransitionEnd",e),this.contentPage=t}.bind(this);this.contentPage&&(t.addEventListener("transitionend",e),t.addEventListener("webkitTransitionEnd",e)),window.requestAnimationFrame(function(){U.addClass(this.contentPage,"is-hidden"),U.removeClass(t,"zoom-in")}.bind(this))}},U.YearMonth.fn.setValue=function(t){if(t=t?t:"",t&&t.indexOf("-")>-1){var e=t.split("-");this.year=e[0];var i=e[1];this.month=i%12,0==this.month&&(this.month=12),t=this.year+"-"+this.month}this.value=t,this.input.value=t,this.trigger("valueChange",{value:t})},U.YearMonth.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.YearMonth.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.YearMonth.fn.show=function(t){var e=this;if(this.value&&this.value.indexOf("-")>-1){var i=this.value.split("-");this.year=i[0];var n=i[1];this.month=n%12,0==this.month&&(this.month=12)}this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.left=this.element.offsetLeft;var s=this.element.offsetHeight;this.top=this.element.offsetTop+s,this.panelDiv.style.width=this.width+"px",this.panelDiv.style.left=this.left+"px",this.panelDiv.style.top=this.top+"px",this.panelDiv.style.zIndex=U.getZIndex(),U.addClass(this.panelDiv,"is-visible");var e=this,o=function(i){i===t||i.target===e.input||e.clickPanel(i.target)||(U.off(document,"click",o),e.hide())};U.on(document,"click",o)},U.YearMonth.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},U.YearMonth.fn.hide=function(){U.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},U.compMgr&&U.compMgr.regComp({comp:U.YearMonth,compAsString:"u.YearMonth",css:"u-yearmonth"}),U.Year=U.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input"),U.addClass(this.element,"u-text");var t=new Date;this.year=t.getFullYear(),this.defaultYear=this.year,this.startYear=this.year-this.year%10-1,U.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),U.Year.fn=U.Year.prototype,U.Year.fn.createPanel=function(){if(this.panelDiv)return void this._fillYear();var t=this;this.panelDiv=U.makeDOM('<div class="u-combo-ul" style="padding:0px;"></div>'),this.panelContentDiv=U.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=U.makeDOM('<button class="u-date-pre-button u-button flat floating mini" style="display:none;">&lt;</button>'),this.nextBtn=U.makeDOM('<button class="u-date-next-button u-button flat floating mini" style="display:none;">&gt;</button>'),U.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),U.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillYear(),this.element.parentNode.appendChild(this.panelDiv)},U.Year.fn._fillYear=function(t){var e,i,n,s,o,a,r;for(e=this.panelContentDiv.querySelector(".u-date-content-page"),e&&e.remove(),i=['<div class="u-date-content-page">','<div class="u-date-content-title"></div>','<div class="u-date-content-panel"></div>',"</div>"].join(""),n=U.makeDOM(i),s=n.querySelector(".u-date-content-title"),s.innerHTML=this.startYear+"-"+(this.startYear+11),o=n.querySelector(".u-date-content-panel"),a=0;12>a;a++)r=U.makeDOM('<div class="u-date-content-year-cell">'+(this.startYear+a)+"</div>"),new Dt(r),this.startYear+a==this.year&&U.addClass(r,"current"),r._value=this.startYear+a,o.appendChild(r);U.on(o,"click",function(t){var e=t.target._value;this.year=e,this.setValue(e),this.hide(),U.stopEvent(t)}.bind(this)),this.preBtn.style.display="block",this.nextBtn.style.display="block",this.panelContentDiv.appendChild(n),this.currentPanel="year"},U.Year.fn.setValue=function(t){t=t?t:"",this.value=t,t?this.year=t:this.year=this.defaultYear,this.startYear=this.year-this.year%10-1,this.input.value=t,this.trigger("valueChange",{value:t})},U.Year.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Year.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Year.fn.show=function(t){var e=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.left=this.element.offsetLeft;var i=this.element.offsetHeight;this.top=this.element.offsetTop+i,this.panelDiv.style.width=this.width+"px",this.panelDiv.style.left=this.left+"px",this.panelDiv.style.top=this.top+"px",this.panelDiv.style.zIndex=U.getZIndex(),U.addClass(this.panelDiv,"is-visible");var n=function(i){i===t||i.target===this.input||e.clickPanel(i.target)||(U.off(document,"click",n),this.hide())}.bind(this);U.on(document,"click",n)},U.Year.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},U.Year.fn.hide=function(){U.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},U.compMgr&&U.compMgr.regComp({comp:U.Year,compAsString:"u.Year",css:"u-year"}),U.Month=U.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.panelDiv=null,this.input=this.element.querySelector("input"),U.addClass(this.element,"u-text");var t=new Date;this.month=t.getMonth()+1,this.defaultMonth=this.month,U.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this)),this.focusEvent(),this.clickEvent()}}),U.Month.fn=U.Month.prototype,U.Month.fn.createPanel=function(){if(this.panelDiv)return void this._fillMonth();var t=this;this.panelDiv=U.makeDOM('<div class="u-combo-ul" style="padding:0px;"></div>'),this.panelContentDiv=U.makeDOM('<div class="u-date-content"></div>'),this.panelDiv.appendChild(this.panelContentDiv),this.preBtn=U.makeDOM('<button class="u-date-pre-button u-button flat floating mini" style="display:none;">&lt;</button>'),this.nextBtn=U.makeDOM('<button class="u-date-next-button u-button flat floating mini" style="display:none;">&gt;</button>'),U.on(this.preBtn,"click",function(e){t.startYear-=10,t._fillYear()}),U.on(this.nextBtn,"click",function(e){t.startYear+=10,t._fillYear()}),this.panelContentDiv.appendChild(this.preBtn),this.panelContentDiv.appendChild(this.nextBtn),this._fillMonth(),this.element.parentNode.appendChild(this.panelDiv)},U.Month.fn._fillMonth=function(){var t,e,i,n,s,o;for(t=this.panelContentDiv.querySelector(".u-date-content-page"),t&&this.panelContentDiv.removeChild(t),n=this.month,e=['<div class="u-date-content-page">','<div class="u-date-content-title">'+n+"月</div>",'<div class="u-date-content-panel">','<div class="u-date-content-year-cell">1月</div>','<div class="u-date-content-year-cell">2月</div>','<div class="u-date-content-year-cell">3月</div>','<div class="u-date-content-year-cell">4月</div>','<div class="u-date-content-year-cell">5月</div>','<div class="u-date-content-year-cell">6月</div>','<div class="u-date-content-year-cell">7月</div>','<div class="u-date-content-year-cell">8月</div>','<div class="u-date-content-year-cell">9月</div>','<div class="u-date-content-year-cell">10月</div>','<div class="u-date-content-year-cell">11月</div>','<div class="u-date-content-year-cell">12月</div>',"</div>","</div>"].join(""),i=U.makeDOM(e),s=i.querySelectorAll(".u-date-content-year-cell"),o=0;o<s.length;o++)n==o+1&&U.addClass(s[o],"current"),s[o]._value=o+1,new Dt(s[o]);U.on(i,"click",function(t){var e=t.target._value;this.month=e,i.querySelector(".u-date-content-title").innerHTML=e+"月",this.setValue(e),this.hide()}.bind(this)),this.preBtn.style.display="none",this.nextBtn.style.display="none",this.panelContentDiv.appendChild(i),this.currentPanel="month"},U.Month.fn.setValue=function(t){t=t?t:"",this.value=t,t?this.month=t:this.month=this.defaultMonth,this.input.value=t,this.trigger("valueChange",{value:t})},U.Month.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Month.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.Month.fn.show=function(t){var e=this;this.createPanel(),this.width=this.element.offsetWidth,this.width<300&&(this.width=300),this.left=this.element.offsetLeft;var i=this.element.offsetHeight;this.top=this.element.offsetTop+i,this.panelDiv.style.width=this.width+"px",this.panelDiv.style.left=this.left+"px",this.panelDiv.style.top=this.top+"px",this.panelDiv.style.zIndex=U.getZIndex(),U.addClass(this.panelDiv,"is-visible");var n=function(i){i===t||i.target===this.input||e.clickPanel(i.target)||(U.off(document,"click",n),this.hide())}.bind(this);U.on(document,"click",n)},U.Month.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},U.Month.fn.hide=function(){U.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},U.compMgr&&U.compMgr.regComp({comp:U.Month,compAsString:"u.Month",css:"u-month"}),U.ClockPicker=U.BaseComponent.extend({DEFAULTS:{},init:function(){this.element;this.options=U.extend({},this.DEFAULTS,this.options),this.format=this.options.format||U.core.getMaskerMeta("time").format,this.panelDiv=null,this.input=this.element.querySelector("input"),U.addClass(this.element,"u-text"),this.template='<div class="u-combo-ul popover clockpicker-popover" style="padding:0px;">',this.template+='<div class="popover-title"><span class="clockpicker-span-hours">02</span> : <span class="clockpicker-span-minutes text-primary">01</span><span class="clockpicker-span-am-pm"></span></div>',this.template+='<div class="popover-content">',this.template+='	<div class="clockpicker-plate">',this.template+='		<div class="clockpicker-canvas">',this.template+='			<svg class="clockpicker-svg" width="200" height="200">',this.template+='				<g transform="translate(100,100)">',this.template+='					<circle class="clockpicker-canvas-bg clockpicker-canvas-bg-trans" r="13" cx="8.362277061412277" cy="-79.56175162946187"></circle>',this.template+='					<circle class="clockpicker-canvas-fg" r="3.5" cx="8.362277061412277" cy="-79.56175162946187"></circle>',this.template+='					<line x1="0" y1="0" x2="8.362277061412277" y2="-79.56175162946187"></line>',this.template+='					<circle class="clockpicker-canvas-bearing" cx="0" cy="0" r="2"></circle>',this.template+="				</g>",this.template+="			</svg>",this.template+="		</div>",this.template+='		<div class="clockpicker-dial clockpicker-hours" style="visibility: visible;">',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 7px;">00</div>',this.template+='			<div class="clockpicker-tick" style="left: 114px; top: 40.2346px; font-size: 120%;">1</div>',this.template+='			<div class="clockpicker-tick" style="left: 133.765px; top: 60px; font-size: 120%;">2</div>',this.template+='			<div class="clockpicker-tick" style="left: 141px; top: 87px; font-size: 120%;">3</div>',this.template+='			<div class="clockpicker-tick" style="left: 133.765px; top: 114px; font-size: 120%;">4</div>',this.template+='			<div class="clockpicker-tick" style="left: 114px; top: 133.765px; font-size: 120%;">5</div>',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 141px; font-size: 120%;">6</div>',this.template+='			<div class="clockpicker-tick" style="left: 60px; top: 133.765px; font-size: 120%;">7</div>',this.template+='			<div class="clockpicker-tick" style="left: 40.2346px; top: 114px; font-size: 120%;">8</div>',this.template+='			<div class="clockpicker-tick" style="left: 33px; top: 87px; font-size: 120%;">9</div>',this.template+='			<div class="clockpicker-tick" style="left: 40.2346px; top: 60px; font-size: 120%;">10</div>',this.template+='			<div class="clockpicker-tick" style="left: 60px; top: 40.2346px; font-size: 120%;">11</div>',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 33px; font-size: 120%;">12</div>',this.template+='			<div class="clockpicker-tick" style="left: 127px; top: 17.718px;">13</div>',this.template+='			<div class="clockpicker-tick" style="left: 156.282px; top: 47px;">14</div>',this.template+='			<div class="clockpicker-tick" style="left: 167px; top: 87px;">15</div>',this.template+='			<div class="clockpicker-tick" style="left: 156.282px; top: 127px;">16</div>',this.template+='			<div class="clockpicker-tick" style="left: 127px; top: 156.282px;">17</div>',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 167px;">18</div>',this.template+='			<div class="clockpicker-tick" style="left: 47px; top: 156.282px;">19</div>',this.template+='			<div class="clockpicker-tick" style="left: 17.718px; top: 127px;">20</div>',this.template+='			<div class="clockpicker-tick" style="left: 7px; top: 87px;">21</div>',this.template+='			<div class="clockpicker-tick" style="left: 17.718px; top: 47px;">22</div>',this.template+='			<div class="clockpicker-tick" style="left: 47px; top: 17.718px;">23</div>',this.template+="		</div>",this.template+='		<div class="clockpicker-dial clockpicker-minutes" style="visibility: hidden;">',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 7px; font-size: 120%;">00</div>',this.template+='			<div class="clockpicker-tick" style="left: 127px; top: 17.718px; font-size: 120%;">05</div>',this.template+='			<div class="clockpicker-tick" style="left: 156.282px; top: 47px; font-size: 120%;">10</div>',this.template+='			<div class="clockpicker-tick" style="left: 167px; top: 87px; font-size: 120%;">15</div>',this.template+='			<div class="clockpicker-tick" style="left: 156.282px; top: 127px; font-size: 120%;">20</div>',this.template+='			<div class="clockpicker-tick" style="left: 127px; top: 156.282px; font-size: 120%;">25</div>',this.template+='			<div class="clockpicker-tick" style="left: 87px; top: 167px; font-size: 120%;">30</div>',this.template+='			<div class="clockpicker-tick" style="left: 47px; top: 156.282px; font-size: 120%;">35</div>',this.template+='			<div class="clockpicker-tick" style="left: 17.718px; top: 127px; font-size: 120%;">40</div>',this.template+='			<div class="clockpicker-tick" style="left: 7px; top: 87px; font-size: 120%;">45</div>',this.template+='			<div class="clockpicker-tick" style="left: 17.718px; top: 47px; font-size: 120%;">50</div>',this.template+='			<div class="clockpicker-tick" style="left: 47px; top: 17.718px; font-size: 120%;">55</div>',this.template+="		</div>",this.template+='	</div><span class="clockpicker-am-pm-block"></span></div>',this.template+="	</div>",U.on(this.input,"blur",function(t){this.setValue(this.input.value)}.bind(this));var t=new Date;this.defaultHour=t.getHours()>9?""+t.getHours():"0"+t.getHours(),this.defaultMin=t.getMinutes()>9?""+t.getMinutes():"0"+t.getMinutes(),this.defaultSec=t.getSeconds()>9?""+t.getSeconds():"0"+t.getSeconds(),this.hours=this.defaultHour,this.min=this.defaultMin,this.sec=this.defaultSec,this.focusEvent(),this.clickEvent()}}),U.ClockPicker.fn=U.ClockPicker.prototype,U.ClockPicker.fn._zoomIn=function(t){U.addClass(t,"zoom-in");var e=function(){U.off(t,"transitionend",e),U.off(t,"webkitTransitionEnd",e),this.contentPage=t}.bind(this);this.contentPage&&(U.on(t,"transitionend",e),U.on(t,"webkitTransitionEnd",e)),setTimeout(function(){t.style.visibility="visible",U.removeClass(t,"zoom-in")},150)},U.ClockPicker.fn.createPanel=function(){if(!this.panelDiv){this.panelDiv=U.makeDOM(this.template),this.hand=this.panelDiv.querySelector("line"),this.bg=this.panelDiv.querySelector(".clockpicker-canvas-bg"),this.fg=this.panelDiv.querySelector(".clockpicker-canvas-fg"),this.titleHourSpan=this.panelDiv.querySelector(".clockpicker-span-hours"),this.titleMinSpan=this.panelDiv.querySelector(".clockpicker-span-minutes"),this.hourDiv=this.panelDiv.querySelector(".clockpicker-hours"),this.minDiv=this.panelDiv.querySelector(".clockpicker-minutes"),this.currentView="hours",U.on(this.hourDiv,"click",function(t){var e=t.target;U.hasClass(e,"clockpicker-tick")&&(this.hours=e.innerHTML,this.hours=this.hours>9?""+this.hours:"0"+this.hours,this.titleHourSpan.innerHTML=this.hours,this.hourDiv.style.visibility="hidden",this._zoomIn(this.minDiv),this.currentView="min",this.setHand())}.bind(this)),U.on(this.minDiv,"click",function(t){var e=t.target;if(U.hasClass(e,"clockpicker-tick")){this.min=e.innerHTML,this.min=this.min>9?""+this.min:"0"+this.min,this.titleMinSpan.innerHTML=this.min,this.minDiv.style.visibility="hidden",this.hourDiv.style.visibility="visible",this.currentView="hours";var i=this.hours+":"+this.min+":"+this.sec;this.setValue(i),this.hide()}}.bind(this)),this.element.parentNode.appendChild(this.panelDiv)}},U.ClockPicker.fn.setHand=function(){var t=54,e=80,i=this.currentView,n=this[i],s="hours"===i,o=Math.PI/(s?6:30),a=n*o,r=s&&n>0&&13>n?t:e,l=Math.sin(a)*r,d=-Math.cos(a)*r;this.setHandFun(l,d)},U.ClockPicker.fn.setHandFun=function(t,e,i,n){var s,o=54,a=80,r=Math.atan2(t,-e),l="hours"===this.currentView,d=Math.PI/(l?6:30),h=Math.sqrt(t*t+e*e),c=this.options,u=l&&(a+o)/2>h,p=u?o:a;this.twelvehour&&(p=a),0>r&&(r=2*Math.PI+r),s=Math.round(r/d),r=s*d,c.twelvehour?l?0===s&&(s=12):(i&&(s*=5),60===s&&(s=0)):l?(12===s&&(s=0),s=u?0===s?12:s:0===s?0:s+12):(i&&(s*=5),60===s&&(s=0));var f=Math.sin(r)*p,m=-Math.cos(r)*p;this.hand.setAttribute("x2",f),this.hand.setAttribute("y2",m),this.bg.setAttribute("cx",f),this.bg.setAttribute("cy",m),this.fg.setAttribute("cx",f),this.fg.setAttribute("cy",m)},U.ClockPicker.fn.setValue=function(t){if(t=t?t:"",t&&t.indexOf(":")>-1){var e=t.split(":"),i=e[0];i%=24,this.hours=i>9?""+i:"0"+i;var n=e[1];n%=60,this.min=n>9?""+n:"0"+n;var s=e[2]||0;s%=60,this.sec=s>9?""+s:"0"+s,t=this.hours+":"+this.min+":"+this.sec}else this.hours=this.defaultHour,this.min=this.defaultMin,this.sec=this.defaultSec;var o=new Date;o.setHours(this.hours),o.setMinutes(this.min),o.setSeconds(this.sec);var a=U.date.format(o,this.format);this.input.value=a,this.trigger("valueChange",{value:t})},U.ClockPicker.fn.focusEvent=function(){var t=this;U.on(this.element,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.ClockPicker.fn.clickEvent=function(){var t=this,e=this.element.nextSibling;U.on(e,"click",function(e){t.show(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0})},U.ClockPicker.fn.show=function(t){var e=this;this.createPanel(),this.minDiv.style.visibility="hidden",this.hourDiv.style.visibility="visible",this.currentView="hours",this.titleHourSpan.innerHTML=this.hours,this.titleMinSpan.innerHTML=this.min,this.setHand(),this.left=this.element.offsetLeft;var i=this.element.offsetHeight;this.top=this.element.offsetTop+i,this.panelDiv.style.left=this.left+"px",this.panelDiv.style.top=this.top+"px",this.panelDiv.style.zIndex=U.getZIndex(),U.addClass(this.panelDiv,"is-visible");var n=function(i){i===t||i.target===this.input||e.clickPanel(i.target)||(U.off(document,"click",n),this.hide())}.bind(this);U.on(document,"click",n)},U.ClockPicker.fn.clickPanel=function(t){for(;t;){if(t==this.panelDiv)return!0;t=t.parentNode}return!1},U.ClockPicker.fn.hide=function(){U.removeClass(this.panelDiv,"is-visible"),this.panelDiv.style.zIndex=-1},U.compMgr&&U.compMgr.regComp({comp:U.ClockPicker,compAsString:"u.ClockPicker",css:"u-clockpicker"}),U.Combo=U.BaseComponent.extend({init:function(){this.mutilSelect=this.options.mutilSelect||!1,U.hasClass(this.element,"mutil-select")&&(this.mutilSelect=!0),this.comboDatas=[];var t,e,i=[],n=this;U.addClass(this.element,"u-text"),new U.Text(this.element);var s=this.element.getElementsByTagName("option");for(t=0;t<s.length;t++)e=s[t],i.push({value:e.value,name:e.text});this.setComboData(i),this._input=this.element.querySelector("input"),U.on(this._input,"focus",function(t){n.show(t),U.stopEvent(t)})},show:function(t){var e=48*this.comboDatas.length,i=this.element.offsetHeight,n=this.element.offsetWidth,s=this.element.offsetLeft,o=this.element.offsetTop+i;this._ul.style.width=n+"px",this._ul.style.height=e+"px",this._ul.style.left=s+"px",this._ul.style.top=o+"px",U.addClass(this._ul,"is-animating"),this._ul.style.zIndex=U.getZIndex(),U.addClass(this._ul,"is-visible");var a=function(e){e!==t&&e.target!==this._input&&(U.off(document,"click",a),this.hide())}.bind(this);U.on(document,"click",a)},hide:function(){U.removeClass(this._ul,"is-visible"),this._ul.style.zIndex=-1},setComboData:function(t){var e,i,n=this;for(this.comboDatas=t,this._ul||(this._ul=U.makeDOM('<ul class="u-combo-ul"></ul>'),this.element.parentNode.appendChild(this._ul)),this._ul.innerHTML="",e=0;e<this.comboDatas.length;e++){i=U.makeDOM('<li class="u-combo-li">'+this.comboDatas[e].name+"</li>"),i._index=e,U.on(i,"click",function(){n.selectItem(this._index)});var s=document.createElement("span");U.addClass(s,"u-ripple"),i.appendChild(s),new Dt(i),this._ul.appendChild(i)}},selectItem:function(t){var e=this;if(this.mutilSelect){var i=this.comboDatas[t].value,n=this.comboDatas[t].name;if(-1!=(this.value+",").indexOf(i+","))return;this.value=this.value?this.value+","+i:i;var s=U.makeDOM('<div class="u-combo-name">'+n+'<a href="javascript:void(0)" class="remove">x</a></div>'),o=s.querySelector("a");U.on(o,"click",function(){var t=e.value.split(",");t.splice(t.indexOf(i),1),e.value=t.join(","),e.element.removeChild(s)}),this.element.insertBefore(s,this._input),this.trigger("select",{value:this.value,name:n})}else this.value=this.comboDatas[t].value,this._input.value=this.comboDatas[t].name,this.trigger("select",{value:this.value,name:this._input.value})},setValue:function(t){t=t||"",t+="";var e=t.split(",");this.comboDatas.forEach(function(i,n){if(this.mutilSelect===!0)-1!=e.indexOf(i.value)&&this.selectItem(n);else if(i.value===t)return void this.selectItem(n)}.bind(this))},setName:function(t){this.comboDatas.forEach(function(e,i){return e.name===t?void this.selectItem(i):void 0}.bind(this))}}),U.compMgr.regComp({comp:U.Combo,compAsString:"u.Combo",css:"u-combo"}),U.Table=U.BaseComponent.extend({_CssClasses:{SELECTABLE:"selectable",SELECT_ELEMENT:"u-table-select",IS_SELECTED:"is-selected",IS_UPGRADED:"is-upgraded"},init:function(){if(this.element_=this.element,this.element_){var t=(this.element_.querySelector("th"),Array.prototype.slice.call(this.element_.querySelectorAll("tbody tr"))),e=Array.prototype.slice.call(this.element_.querySelectorAll("tfoot tr"));t.concat(e)}},_selectRow:function(t,e,i){return e?function(){t.checked?e.classList.add(this._CssClasses.IS_SELECTED):e.classList.remove(this._CssClasses.IS_SELECTED)}.bind(this):i?function(){var e,n;if(t.checked)for(e=0;e<i.length;e++)n=i[e].querySelector("td").querySelector(".u-checkbox"),i[e].classList.add(this._CssClasses.IS_SELECTED);else for(e=0;e<i.length;e++)n=i[e].querySelector("td").querySelector(".u-checkbox"),i[e].classList.remove(this._CssClasses.IS_SELECTED)}.bind(this):void 0},_createCheckbox:function(t,e){var i=document.createElement("label"),n=["u-checkbox",this._CssClasses.SELECT_ELEMENT];i.className=n.join(" ");var s=document.createElement("input");
return s.type="checkbox",s.classList.add("u-checkbox-input"),t?(s.checked=t.classList.contains(this._CssClasses.IS_SELECTED),s.addEventListener("change",this._selectRow(s,t))):e&&s.addEventListener("change",this._selectRow(s,null,e)),i.appendChild(s),new U.Checkbox(i),i}}),U.compMgr&&U.compMgr.regComp({comp:U.Table,compAsString:"u.Table",css:"u-table"}),U.pagination=U.BaseComponent.extend({});var Et=function(t,e){this.isCurrent=function(){return e==t.currentPage},this.isFirst=function(){return 1==e},this.isLast=function(){return e==t.totalPages},this.isPrev=function(){return e==t.currentPage-1},this.isNext=function(){return e==t.currentPage+1},this.isLeftOuter=function(){return e<=t.outerWindow},this.isRightOuter=function(){return t.totalPages-e<t.outerWindow},this.isInsideWindow=function(){return t.currentPage<t.innerWindow+1?e<=2*t.innerWindow+1:t.currentPage>t.totalPages-t.innerWindow?t.totalPages-e<=2*t.innerWindow:Math.abs(t.currentPage-e)<=t.innerWindow},this.number=function(){return e},this.pageSize=function(){return t.pageSize}},Tt={firstPage:function(t,e,i){return'<li role="first"'+(i.isFirst()?'class="disabled"':"")+'><a href="#">'+e.first+"</a></li>"},prevPage:function(t,e,i){return'<li role="prev"'+(i.isFirst()?'class="disabled"':"")+'><a href="#" rel="prev">'+e.prev+"</a></li>"},nextPage:function(t,e,i){return'<li role="next"'+(i.isLast()?'class="disabled"':"")+'><a href="#" rel="next">'+e.next+"</a></li>"},lastPage:function(t,e,i){return'<li role="last"'+(i.isLast()?'class="disabled"':"")+'><a href="#">'+e.last+"</a></li>"},gap:function(t,e){return'<li role="gap" class="disabled"><a href="#">'+e.gap+"</a></li>"},page:function(t,e,i){return'<li role="page"'+(i.isCurrent()?'class="active"':"")+'><a href="#"'+(i.isNext()?' rel="next"':"")+(i.isPrev()?'rel="prev"':"")+">"+i.number()+"</a></li>"}};U.pagination.prototype.init=function(t,e){var t=this.element;this.$element=t,this.options=U.extend({},this.DEFAULTS,this.options),this.$ul=this.$element,this.render()},U.pagination.prototype.DEFAULTS={currentPage:1,totalPages:10,pageSize:20,innerWindow:2,outerWindow:0,first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",gap:"..",totalText:"合计:",truncate:!1,page:function(t){return!0}},U.pagination.prototype.update=function(t){this.$ul.innerHTML="",this.options=U.extend({},this.options,t),this.render()},U.pagination.prototype.render=function(){var t=((new Date).valueOf(),this.options);if(!t.totalPages)return void(this.$element.style.display="none");this.$element.style.display="block";var e=[],i=new Et(t,t.currentPage);i.isFirst()&&t.truncate||(t.first&&e.push(Tt.firstPage(this,t,i)),t.prev&&e.push(Tt.prevPage(this,t,i)));for(var n=!1,s=1,o=t.totalPages;o>=s;s++){var a=new Et(t,s);a.isLeftOuter()||a.isRightOuter()||a.isInsideWindow()?(e.push(Tt.page(this,t,a)),n=!1):!n&&t.outerWindow>0&&(e.push(Tt.gap(this,t)),n=!0)}if(i.isLast()&&t.truncate||(t.next&&e.push(Tt.nextPage(this,t,i)),t.last&&e.push(Tt.lastPage(this,t,i))),t.totalCount>0){var r='<li><a style="cursor:default;background-color:#FFF;">'+t.totalText+t.totalCount+"</a></li>";e.push(r)}if(t.jumppage||t.pageSize){var l='<input class="page_j" style="margin-right: 6px;width: 32px;border: 1px solid #ddd; padding-left: 2px; border-radius: 3px;height:20px;" value='+t.currentPage+">页&nbsp;&nbsp;",d='显示<input  class="page_z"  style="margin:0px 6px;width: 32px;border: 1px solid #ddd;  padding-left: 2px; border-radius: 3px;height:20px;" value='+t.pageSize+">条&nbsp;&nbsp;",h="<li><a>"+(t.jumppage?l:"")+(t.pageSize?d:"")+"<i class='jump_page fa fa-arrow-circle-right' style='margin-left: 8px; cursor: pointer;'></i></a></li>";e.push(h)}this.$ul.insertAdjacentHTML("beforeEnd",e.join(""));var c=this;U.on(this.$ul.querySelector(".jump_page"),"click",function(){var e,i;return e=c.$ul.querySelector(".page_j").value||t.currentPage,i=c.$ul.querySelector(".page_z").value||t.pageSize,c.page(e,t.totalPages,i),!1}),U.on(this.$ul.querySelector('[role="first"] a'),"click",function(){return t.currentPage<=1?void 0:(c.firstPage(),!1)}),U.on(this.$ul.querySelector('[role="prev"] a'),"click",function(){return t.currentPage<=1?void 0:(c.prevPage(),!1)}),U.on(this.$ul.querySelector('[role="next"] a'),"click",function(){return parseInt(t.currentPage)+1>t.totalPages?void 0:(c.nextPage(),!1)}),U.on(this.$ul.querySelector('[role="last"] a'),"click",function(){return t.currentPage!=t.totalPages?(c.lastPage(),!1):void 0}),U.each(this.$ul.querySelectorAll('[role="page"] a'),function(e,i){U.on(i,"click",function(){var e=c.$element.querySelector(".page_z").value||t.pageSize;return c.page(parseInt(this.innerHTML),t.totalPages,e),!1})})},U.pagination.prototype.page=function(t,e,i){var n=this.options;void 0===e&&(e=n.totalPages),void 0===i&&(i=n.pageSize);var s=n.pageSize;return t>0&&e>=t&&n.page(t)&&(this.$ul.innerHTML="",n.pageSize=i,n.currentPage=t,n.totalPages=e,this.render()),i!=s?this.trigger("sizeChange",[i,t-1]):this.trigger("pageChange",t-1),!1},U.pagination.prototype.firstPage=function(){return this.page(1)},U.pagination.prototype.lastPage=function(){return this.page(this.options.totalPages)},U.pagination.prototype.nextPage=function(){return this.page(parseInt(this.options.currentPage)+1)},U.pagination.prototype.prevPage=function(){return this.page(this.options.currentPage-1)},U.pagination.prototype.disableChangeSize=function(){this.$element.querySelector(".page_z").setAttribute("readonly",!0)},U.pagination.prototype.enableChangeSize=function(){this.$element.querySelector(".page_z").removeAttribute("readonly")},U.compMgr&&U.compMgr.regComp({comp:U.pagination,compAsString:"u.pagination",css:"u-pagination"}),U.Tooltip=function(t,e){this.init(t,e)},U.Tooltip.prototype={defaults:{animation:!0,placement:"top",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow" style="left: 50%;"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},init:function(t,e){this.element=t,this.options=U.extend({},this.defaults,e),this._viewport=this.options.viewport&&document.querySelector(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),n=i.length;n--;){var s=i[n];if("click"==s)U.on(this.element,"click",this.toggle.bind(this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focusin",a="hover"==s?"mouseleave":"focusout";U.on(this.element,o,this.enter.bind(this)),U.on(this.element,a,this.leave.bind(this))}}this.options.title=this.options.title||this.element.getAttribute("title"),this.element.removeAttribute("title"),this.options.delay&&"number"==typeof this.options.delay&&(this.options.delay={show:this.options.delay,hide:this.options.delay}),this.tipDom=U.makeDOM(this.options.template),this.arrrow=this.tipDom.querySelector(".tooltip-arrow"),this.container=this.options.container?document.querySelector(this.options.container):this.element.parentNode},enter:function(){var t=this;return clearTimeout(this.timeout),this.hoverState="in",this.options.delay&&this.options.delay.show?void(this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},this.options.delay.show)):this.show()},leave:function(){var t=this;return clearTimeout(this.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},show:function(){this.tipDom.querySelector(".tooltip-inner").innerHTML=this.options.title,this.container.appendChild(this.tipDom);var t=this.options.placement,e=this.getPosition(),i=this.tipDom.offsetWidth,n=this.tipDom.offsetHeight,s=this.getCalculatedOffset(t,e,i,n);this.applyPlacement(s,t)},hide:function(){this.container.contains(this.tipDom)&&(U.removeClass(this.tipDom,"active"),this.container.removeChild(this.tipDom))},applyPlacement:function(t,e){var i=this.tipDom.offsetWidth,n=this.tipDom.offsetHeight,s=parseInt(this.tipDom.style.marginTop,10),o=parseInt(this.tipDom.style.marginTop,10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),t.top=t.top+s,t.left=t.left+o,this.tipDom.style.left=t.left+"px",this.tipDom.style.top=t.top+"px",U.addClass(this.tipDom,"active");var a=this.tipDom.offsetWidth,r=this.tipDom.offsetHeight;"top"==e&&r!=n&&(t.top=t.top+n-r);var l=this.getViewportAdjustedDelta(e,t,a,r);l.left?t.left+=l.left:t.top+=l.top;var d=/top|bottom/.test(e);d?2*l.left-i+a:2*l.top-n+r;this.tipDom.style.left=t.left+"px",this.tipDom.style.top=t.top-4+"px"},getCalculatedOffset:function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},getPosition:function(t){t=t||this.element;var e="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=U.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var n=(e?{top:0,left:0}:{top:t.offsetTop,left:t.offsetLeft},{scroll:e?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop}),s=e?{width:window.innerWidth||document.body.clientWidth,height:window.innerHeight||document.body.clientHeight}:null;return U.extend({},i,n,s)},getViewportAdjustedDelta:function(t,e,i,n){var s={top:0,left:0};if(!this._viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this._viewport);if(/right|left/.test(t)){var r=e.top-o-a.scroll,l=e.top+o-a.scroll+n;r<a.top?s.top=a.top-r:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var d=e.left-o,h=e.left+o+i;d<a.left?s.left=a.left-d:h>a.width&&(s.left=a.left+a.width-h)}return s},replaceArrow:function(t,e,i){i?(this.arrow.style.left=50*(1-t/e)+"%",this.arrow.style.top=""):(this.arrow.style.top=50*(1-t/e)+"%",this.arrow.style.left="")},destory:function(){}},U.Validate=U.BaseComponent.extend({init:function(){this.$element=this.element,this.$form=this.form,this.options=U.extend({},this.DEFAULTS,this.options),this.required=!1,this.timeout=null,this.required=this.options.required?this.options.required:!1,this.validType=this.options.validType?this.options.validType:null,this.validMode=this.options.validMode?this.options.validMode:U.Validate.DEFAULTS.validMode,this.nullMsg=this.options.nullMsg?this.options.nullMsg:U.Validate.NULLMSG[this.validType],this.required&&!this.nullMsg&&(this.nullMsg=U.Validate.NULLMSG.required),this.errorMsg=this.options.errorMsg?this.options.errorMsg:U.Validate.ERRORMSG[this.validType],this.regExp=this.options.reg?this.options.reg:U.Validate.REG[this.validType],this.tipId=this.options.tipId?this.options.tipId:null,this.placement=this.options.placement?this.options.placement:U.Validate.DEFAULTS.placement,this.minLength=this.options.minLength>0?this.options.minLength:null,this.maxLength=this.options.maxLength>0?this.options.maxLength:null,this.min=void 0!==this.options.min?this.options.min:null,this.max=void 0!==this.options.max?this.options.max:null,this.minNotEq=void 0!==this.options.minNotEq?this.options.minNotEq:null,this.maxNotEq=void 0!==this.options.maxNotEq?this.options.maxNotEq:null,this.min=U.isNumber(this.min)?this.min:null,this.max=U.isNumber(this.max)?this.max:null,this.minNotEq=U.isNumber(this.minNotEq)?this.minNotEq:null,this.maxNotEq=U.isNumber(this.maxNotEq)?this.maxNotEq:null,this.create()}}),U.Validate.fn=U.Validate.prototype,U.Validate.DEFAULTS={validMode:"blur",placement:"top"},U.Validate.NULLMSG={required:trans("validate.required","不能为空！"),integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","请填写邮政编码！"),phone:trans("validate.phone","请填写手机号码！"),email:trans("validate.email","请填写邮箱地址！"),url:trans("validate.url","请填写网址！"),datetime:trans("validate.datetime","请填写日期！")},U.Validate.ERRORMSG={integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","邮政编码格式不对！"),phone:trans("validate.phone","手机号码格式不对！"),email:trans("validate.email","邮箱地址格式不对！"),url:trans("validate.url","网址格式不对！"),datetime:trans("validate.datetime","日期格式不对！")},U.Validate.REG={integer:/^-?\d+$/,"float":/^-?\d+(\.\d+)?$/,zipCode:/^[0-9]{6}$/,phone:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,email:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,datetime:/^((((19|20)\d{2})-(0?(1|[3-9])|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/},U.Validate.fn.create=function(){var t=this;U.on(this.element,"blur",function(e){"blur"==t.validMode&&(t.passed=t.doValid())}),U.on(this.element,"focus",function(e){t.hideMsg()}),U.on(this.element,"change",function(e){t.hideMsg()}),U.on(this.element,"keydown",function(e){var i=window.event||e;if("float"==t.validType){var n=t.element.value;if(i.shiftKey)return i.returnValue=!1,!1;if(9==i.keyCode||37==i.keyCode||39==i.keyCode||46==i.keyCode)return!0;if(i.ctrlKey&&(67==i.keyCode||86==i.keyCode))return!0;if(!(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||U.inArray(i.keyCode,[8,110,190,189,109])>-1))return i.returnValue=!1,!1;if((!n||n.indexOf(".")>-1)&&(190==i.keyCode||110==i.keyCode))return i.returnValue=!1,!1;if(n&&(n+"").split(".")[0].length>=25)return!1}if("integer"==t.validType){var n=t.element.value;if(i.shiftKey)return i.returnValue=!1,!1;if(9==i.keyCode||37==i.keyCode||39==i.keyCode||46==i.keyCode)return!0;if(i.ctrlKey&&(67==i.keyCode||86==i.keyCode))return!0;if(!(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105||U.inArray(i.keyCode,[8,109,189])>-1))return i.returnValue=!1,!1;if(n&&(n+"").split(".")[0].length>=25)return!1}})},U.Validate.fn.updateOptions=function(t){},U.Validate.fn.doValid=function(t){if(this.needClean=!1,this.element.getAttribute("readonly"))return!0;var e=null;if(e="undefined"!=typeof t?t:this.element.value,this.isEmpty(e)&&this.required)return this.showMsg(this.nullMsg),!1;if(this.isEmpty(e)&&!this.required)return!0;if(this.regExp){var i=new RegExp(this.regExp);"number"==typeof e&&(e+="");var n=e.match(i);if(null===n||n===!1)return this.showMsg(this.errorMsg),this.needClean=!0,!1}return this.minLength&&e.lengthb()<this.minLength?(this.showMsg("输入长度不能小于"+this.minLength+"位"),!1):this.maxLength&&e.lengthb()>this.maxLength?(this.showMsg("输入长度不能大于"+this.maxLength+"位"),!1):void 0!=this.max&&null!=this.max&&parseFloat(e)>this.max?(this.showMsg("输入值不能大于"+this.max),!1):void 0!=this.min&&null!=this.min&&parseFloat(e)<this.min?(this.showMsg("输入值不能小于"+this.min),!1):void 0!=this.maxNotEq&&null!=this.maxNotEq&&parseFloat(e)>=this.maxNotEq?(this.showMsg("输入值不能大于或等于"+this.maxNotEq),!1):void 0!=this.minNotEq&&null!=this.minNotEq&&parseFloat(e)<=this.minNotEq?(this.showMsg("输入值不能小于或等于"+this.minNotEq),!1):!0},U.Validate.fn.check=U.Validate.fn.doValid,U.Validate.fn.some=Array.prototype.some?Array.prototype.some:function(){for(var t,e=0;e<this.length&&("function"!=typeof arguments[0]||!(t=arguments[0](this[e])));e++);return t},U.Validate.fn.getValue=function(){var t="",e=this.some.call(this.$element.querySelectorAll('[type="checkbox"],[type="radio"]'),function(t){return"checkbox"==t.type||"radio"==t.type});if(this.$element.childNodes.length>0&&e){var i=this.$element.querySelectorAll('[type="checkbox"],[type="radio"]'),n=i[0];"checkbox"==n.type?this.$element.querySelectorAll(":checkbox[name='"+$(n).attr("name")+"']:checked").each(function(){t+=$(this).val()+","}):"radio"==n.type&&(t=this.$element.querySelectorAll(":radio[name='"+$(n).attr("name")+"']:checked").value)}else this.$element.is(":radio")?t=this.$element.parent().querySelectorAll(":radio[name='"+this.$element.attr("name")+"']:checked").val():this.$element.is(":checkbox")?(t="",this.$element.parent().find(":checkbox[name='"+this.$element.attr("name")+"']:checked").each(function(){t+=$(this).val()+","})):t=this.$element.find("input").length>0?this.$element.find("input").val():this.$element.val();return t=t.trim,this.isEmpty(t)?"":t},U.Validate.fn.isEmpty=function(t){return""===t||void 0===t||null===t},U.Validate.fn.showMsg=function(t){var e=this;if(this.tipId)$("#"+this.tipId).html(t).show();else{var i={title:t,trigger:"manual",selector:"validtip",placement:this.placement,container:"body"};this.options.tipTemplate&&(i.template=this.options.tipTemplate),this.tooltip=new U.Tooltip(this.element,i),this.tooltip.show(),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.tooltip.hide()},1500)}},U.Validate.fn.hideMsg=function(){this.tipId?$("#"+this.tipId).hide():this.tooltip&&this.tooltip.hide()},U.Validate.fn._needClean=function(){return!0},U.compMgr&&U.compMgr.regComp({comp:U.Validate,compAsString:"u.Validate",css:"u-validate"});var At=function(t){var e=t.contentId;if(U.isEmptyObject(e))throw new Error("contentId is null");this.options=U.extend({},At.DEFAULTS,t),this.params=this.options.params,this.create(),this.loaded=!1};At.DEFAULTS={isPOPMode:!1,searchInput:null,contentId:null,okId:"okBtn",cancelId:"cancelBtn",width:null,height:null,title:"参照",setVal:function(){},onOk:function(){},onCancel:function(){}},At.fn=At.prototype,At.fn.create=function(){var t=this;t.setVal=this.options.setVal,t.searchInput=this.options.searchInput;var e=this.options.contentId.replace(/[^\w\s]/gi,"\\$&");if(this.options.isPOPMode){var i=document.querySelector("#"+e);null==i&&(t.isDefaultDialog=!0,i=U.makeDOM('	<div style="display:none;height:100%" id="'+e+'"><div class="u-msg-content"><h4 class="title">单据名称</h4><div class="content"></div></div><div class="u-msg-footer"><button class="u-msg-ok u-button">保存<span class="u-button-container"><span class="u-ripple"></span></span></button><button class="u-msg-cancel u-button">取消<span class="u-button-container"><span class="u-ripple"></span></span></button></div></div>'),document.body.appendChild(i)),this.titleDiv=i.querySelector(".title"),this.contentDiv=i.querySelector(".content"),this.okBtn=i.querySelector(".u-msg-ok"),this.cancelBtn=i.querySelector(".u-msg-cancel"),this.dialog=i,this.titleDiv.innerHTML=this.options.title}else;U.on(this.okBtn,"click",function(){t.submit()}),U.on(this.cancelBtn,"click",function(){t.cancel()})},At.fn.submit=function(){var t=this.submitData();this.options.onOk(t),N.destroy(this)},At.fn.cancel=function(){this.options.onCancel(),N.destroy(this)},At.fn.open=function(){var t=this;if(t.isDefaultDialog){var e={id:this.options.contentId,content:"#"+this.options.contentId,hasCloseMenu:!0};this.options.height&&(e.height=this.options.height),this.options.width&&(e.width=this.options.width),t.modalDialog=U.dialog(e)}this.options.module&&(t.contentDiv.innerHTML=this.options.module.template,this.options.module.init(t))},At.fn.registerSubmitFunc=function(t){this.submitData=t},At.fn.submitData=function(){};var N=function(t){var e=new At(t);return N.addRefer(e),e.open(),e};At.fn.destroy=function(){this.dialog&&(this.isDefaultDialog&&this.modalDialog.close(),this.dialog.parentElement.removeChild(this.dialog)),delete this.options},N.instances={},N.openRefer=function(t){var e=new At(t);N.addRefer(e),e.open()},N.getRefer=function(t){return N.instances[t]},N.addRefer=function(t){N.instances[t.options.id]=t},N.destroy=function(t){var e=N.instances[t.options.id];delete N.instances[t.options.id],e.destroy()},U.refer=N,document.readyState&&"complete"===document.readyState?U.compMgr.updateComp():U.on(window,"load",function(){U.compMgr.updateComp()})}(),u.dialog=function(t){function e(){u.removeDialog(),t.cancelfn&&t.cancelfn}function i(){console.log(o.clientWidth,o.clientHeight,1),u.css(o,{width:o.clientWidth-20,height:o.clientHeight-20,right:"auto",bottom:"auto"})}function n(){console.log(o.clientWidth,o.clientHeight,2),u.css(o,{width:"auto",height:"auto",left:o.offsetLeft,top:o.offsetTop,right:g-o.offsetLeft-o.clientWidth,bottom:_-o.offsetTop-o.clientHeight})}function s(){var t=o.offsetWidth||500,e=o.offsetHeight;o.style.left=((window.innerWidth?window.innerWidth:document.body.clientWidth)-t)/2+"px",o.style.top=((window.innerHeight?window.innerHeight:document.body.clientHeight)-e)/2+"px"}var o=document.createElement("div");o.className="move-dialog";var a=document.createElement("div");t.type?a.className="move-alert alert alert-"+t.type+" alert-dismissible":a.className="move-alert alert alert-warning alert-dismissible",closebtn='<button type="button" class="close"  aria-label="Close"><span aria-hidden="true">&times;</span></button>',t.title=t.title||trans("dialog.info_dialog","提示窗口");var r="<h4>"+t.title+"</h4>";if(t.url)var l='<p class="dialog_p"><iframe class="dialog_iframe" src='+t.url+"></iframe></p>";else var l='<p style="position: absolute;top: 50px;bottom: 20px;overflow: auto;left: 30px;right: 25px;"></p>';var d,h,c,p,f,m,v,g,_;if(g=window.innerWidth?window.innerWidth:document.body.clientWidth,_=window.innerHeight?window.innerHeight:document.body.clientHeight,t.width?u.css(o,{width:t.width}):u.css(o,{width:"520px"}),t.height&&u.css(o,{height:t.height}),t.url)a.insertAdjacentHTML("beforeEnd",closebtn+r+l);else{a.insertAdjacentHTML("beforeEnd",closebtn+r);var C=u.makeDOM(l);a.appendChild(C),C.insertAdjacentHTML("beforeEnd",t.msg)}u.on(a.querySelector('[aria-label="Close"]'),"click",e),t.backdrop&&document.body.insertAdjacentHTML("beforeEnd",'<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),o.appendChild(a),t.movable&&(u.on(o,"mousedown",function(t){m=o.clientWidth,v=o.clientHeight,h=t.clientX-o.offsetLeft,c=t.clientY-o.offsetTop,11>p&&12>f?(n(),d=9,u.css(o,{cursor:"se-resize"})):p>m-20&&f>v-10?(n(),d=8,u.css(o,{cursor:"se-resize"})):11>p&&f>v-10?(n(),d=7,u.css(o,{cursor:"ne-resize"})):p>m-20&&12>f?(n(),d=6,u.css(o,{cursor:"ne-resize"})):12>p?(n(),d=5,u.css(o,{cursor:"e-resize"})):p>m-20?(n(),d=4,u.css(o,{cursor:"e-resize"})):11>f?(d=3,n(),u.css(o,{cursor:"n-resize"})):f>v-10?(d=2,n(),u.css(o,{cursor:"n-resize"})):"H4"==t.target.nodeName&&(d=1,i(),u.css(o,{cursor:"auto"}))}),u.on(document,"mousemove",function(t){return m=o.clientWidth,v=o.clientHeight,p=t.clientX-o.offsetLeft,f=t.clientY-o.offsetTop,1==d?void u.css(o,{left:t.clientX-h,top:t.clientY-c,cursor:"all-scroll"}):2==d?void u.css(o,{bottom:_-t.clientY-20}):3==d?void u.css(o,{top:t.clientY-20}):4==d?(console.log(g-t.clientX-20),void u.css(o,{right:g-t.clientX-20})):5==d?void u.css(o,{left:t.clientX-20}):6==d?void u.css(o,{top:t.clientY-20,right:g-t.clientX-20}):7==d?void u.css(o,{left:t.clientX-20,bottom:_-t.clientY-20}):8==d?void u.css(o,{bottom:_-t.clientY-20,right:g-t.clientX-20}):9==d?void u.css(o,{top:t.clientY-20,left:t.clientX-20}):void(11>p&&12>f||p>m-20&&f>v-10?u.css(o,{cursor:"se-resize"}):11>p&&f>v-10||p>m-20&&12>f?u.css(o,{cursor:"ne-resize"}):12>p||p>m-20?u.css(o,{cursor:"e-resize"}):11>f||f>v-10?u.css(o,{cursor:"n-resize"}):u.css(o,{cursor:"auto"}))}),u.on(document,"mouseup",function(){d=!1,u.css(o,{cursor:"auto"})})),document.body.appendChild(o),s()},u.removeDialog=function(){for(var t=document.querySelectorAll(".move-dialog,.alert-backdrop"),e=0;e<t.length;e++)document.body.removeChild(t[e])},function($,window,document,undefined){var dataSource=function(t,e){this.defaults={},this.gridComp=e,this.options=$.extend({},this.defaults,t),this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.sortRows()},gridCompColumn=function(t,e){this.defaults={width:200,sortable:!0,canDrag:!0,fixed:!1,visible:!0,canVisible:!0,sumCol:!1,editable:!0,editFormShow:!0,autoExpand:!1,editType:"text",dataType:"String",format:"yyyy-MM-dd hh:mm:ss",headerLevel:1,hiddenLevel:1};var i={sortable:e.sortable,canDrag:e.canDrag,width:e.columnWidth};"Date"==t.dataType&&(this.defaults.format="yyyy-MM-dd"),e.showTree&&(t.sortable=!1),this.options=$.extend({},this.defaults,i,t),this.options.width=parseInt(this.options.width),this.firstColumn=!1},gridComp=function(t,e){this.dataSource=dataSource,this.gridCompColumn=gridCompColumn,this.ele=t[0],this.$ele=t,this.defaults={id:"grid",columnWidth:200,sortable:!0,canDrag:!0,canSwap:!0,showHeader:!0,columnMenu:!0,showNumCol:!1,multiSelect:!1,showSumRow:!1,editable:!1,noneEditableFormShow:!0,editType:"default",showTree:!1,autoExpand:!0,cancelFocus:!1,maxHeaderLevel:1,overWidthHiddenColumn:!1,formMaxWidth:300},this.transDefault={ml_show_column:trans("gridComp.show_column","显示/隐藏列"),ml_clear_set:trans("gridComp.clear_set","清除设置"),ml_no_rows:trans("gridComp.no_rows","无数据"),ml_sum:trans("gridComp.sum","合计:"),ml_close:trans("gridComp.close","关闭")},this.transMap=$.extend({},this.transDefault,e.transMap),e.maxHeaderLevel>1&&(e.canSwap=!1),this.options=$.extend({},this.defaults,e),this.options.showTree&&(this.options.showNumCol=!1),this.gridCompColumnArr=new Array,this.gridCompColumnFixedArr=new Array,this.basicGridCompColumnArr=new Array,this.gridCompLevelColumn=new Array,this.gridCompHiddenLevelColumnArr=new Array,this.treeLeft=10,this.multiSelectWidth=40,this.numWidth=40,this.multiWidth=40,this.headerHeight=34,this.headerHeight=34*parseInt(this.options.maxHeaderLevel),this.countContentHeight=!0,this.minColumnWidth=80,this.columnMenuWidth=160,this.scrollBarHeight=16,this.columnMenuHeight=33,this.initGrid()};gridComp.prototype={initGrid:function(){var t=this;this.initOptions(),this.initVariable(),this.initWidthVariable(),this.initGridCompColumn(),this.initDataSource(),this.createDivs(),this.inte=setInterval(function(){t.setIntervalFun.call(t)},300)},destroySelf:function(){clearInterval(this.inte),this.$ele.data("gridComp",null),this.ele.innerHTML=""},initOptions:function(){this.options.width=this.formatWidth(this.options.width),this.options.height=this.formatWidth(this.options.height),"100%"!=this.options.height&&this.options.height||(this.countContentHeight=!1),this.leftW=0,this.options.showNumCol&&(this.leftW+=this.numWidth),this.options.multiSelect&&(this.leftW+=this.multiWidth),this.exceptContentHeight=0,this.options.showHeader&&(this.exceptContentHeight+=this.headerHeight);var t=window.location.href,e=t.indexOf("?");e>0&&(t=t.substring(0,e)),this.localStorageId=this.options.id+t},initVariable:function(){this.initDataSourceVariable(),this.mouseUpX="mouseUpX",this.mouseUpY="mouseUpY",this.mouseDownX="mouseDownX",this.mouseDownY="mouseDownY",this.mouseMoveX="mouseMoveX",this.mouseMoveY="mouseMoveY",this.scrollLeft=0,this.scrollTop=0,this.showType="",this.createGridFlag=!1,this.createFormFlag=!1,this.columnClickX=0,this.columnClickY=0,this.$sd_storageData=null,this.columnMenuMove=!1,this.createColumnMenuFlage=!1,this.firstColumn=!0,this.lastVisibleColumn=null,this.lastVisibleColumnWidth=0,this.menuColumnsHeight=0},initDataSourceVariable:function(){this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,this.allRows=new Array,this.eidtRowIndex=-1},initWidthVariable:function(){this.wholeWidth=0,this.wholeHeight=0,this.rowHeight=0,this.fixedRealWidth=0,this.fixedWidth=0,this.contentRealWidth=0,this.contentWidth=0,this.contentMinWidth=0,this.contentHeight=0},initGridCompColumn:function(){var t=this;t.gridCompColumnFixedArr=new Array,t.gridCompHiddenLevelColumnArr=new Array,this.options.columns&&$.each(this.options.columns,function(e){if(this.headerLevel>1)t.gridCompLevelColumn.push(this);else{var i=new gridCompColumn(this,t.options);i.options.realWidth=i.options.width,t.gridCompColumnArr.push(i);var n=new gridCompColumn(this,t.options);n.options.realWidth=n.options.width,t.basicGridCompColumnArr.push(n)}});var e=this.getGridCompColumnArrFromLocal();null!=e&&(this.gridCompColumnArr=e,$.each(this.gridCompColumnArr,function(){for(var e=this.options.field,i=0;i<t.options.columns.length;i++){var n=t.options.columns[i];if(n.field==e){var s=$.extend({},n,this.options);this.options=s,this.options.realWidth=this.options.width;break}}})),this.menuColumnsHeight=this.gridCompColumnArr.length*this.columnMenuHeight,this.initGridHiddenLevelColumn(),this.initGridCompFixedColumn(),this.columnsVisibleFun()},setRequired:function(t,e){var i=this;$.each(this.gridCompColumnArr,function(n){this.options.field==t&&(this.options.required=e,e?$("#"+i.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").show():$("#"+i.options.id+"_edit_"+this.options.field).parent().find(".u-grid-edit-mustFlag").hide())})},getLevelTitleByField:function(t){for(var e=0;e<this.gridCompLevelColumn.length;e++){var i=this.gridCompLevelColumn[e].field;if(i==t)return this.gridCompLevelColumn[e].title}return""},initGridHiddenLevelColumn:function(){if(this.options.overWidthHiddenColumn){this.gridCompHiddenLevelColumnArr=this.gridCompColumnArr.slice(0),this.gridCompHiddenLevelColumnArr.sort(function(t,e){var i=t.options.hiddenLevel,n=e.options.hiddenLevel;return i>n?-1:1})}},initGridCompFixedColumn:function(){var t=this;$.each(this.gridCompColumnArr,function(e){1==this.options.fixed&&t.gridCompColumnFixedArr.push(this)}),$.each(this.gridCompColumnFixedArr,function(e){for(var e=t.gridCompColumnArr.length;e>-1;e--)if(t.gridCompColumnArr[e]==this){t.gridCompColumnArr.splice(e,1);break}})},initDataSource:function(){this.dataSourceObj=new dataSource(this.options.dataSource,this)},createDivs:function(){this.ele.innerHTML="";var t="",e="";e+=this.options.width?"width:"+this.options.width+";":"width:auto;",e+=this.options.height?"height:"+this.options.height+";":"height:auto;",""!=e&&(t='style="'+e+'"');var i='<div id="'+this.options.id+'" data-role="grid" class="u-grid" '+t+">";i+="</div>",this.ele.insertAdjacentHTML("afterBegin",i);var i='<div id="'+this.options.id+'_top" class="u-grid-top"></div>';this.ele.insertAdjacentHTML("afterBegin",i),this.initEventFun(),this.widthChangeFun()},repaintDivs:function(){this.repaintGridDivs(),this.realtimeTableRows=null},createGridDivs:function(){if(!this.createGridFlag){$("#"+this.options.id)[0]&&($("#"+this.options.id)[0].innerHTML="");var t='<div id="'+this.options.id+'_grid" class="u-grid-grid">';t+=this.createColumnMenu(),t+=this.createHeader(),t+=this.createContent(),t+="</div>",$("#"+this.options.id)[0]&&$("#"+this.options.id).html(t),this.headerFirstClassFun(),this.initGridEventFun(),this.showType="grid",this.afterGridDivsCreate(),this.createGridFlag=!0,this.realtimeTableRows=null}},repaintGridDivs:function(){$("#"+this.options.id+"_grid").remove(null,!0),this.showType="",this.wholeWidth=0,this.createGridFlag=!1,this.columnsVisibleFun(),this.widthChangeFun(),this.realtimeTableRows=null},createColumnMenu:function(){var t=this,e='<div class="u-grid-column-menu" id="'+this.options.id+'_column_menu">';return e+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-ul" id="'+this.options.id+'_column_menu_ul">',e+='<li class="u-grid-column-menu-li" role="menuitem">',e+='<div class="u-grid-column-menu-div1" id="'+this.options.id+'_showColumn">',e+='<span class="u-grid-column-menu-span">'+this.transMap.ml_show_column+"</span>",e+='<div class="u-grid-column-menu-div3 fa fa-caret-right"></div>',e+="</div></li>",e+='<li class="u-grid-column-menu-li" role="menuitem">',e+='<div class="u-grid-column-menu-div1" id="'+this.options.id+'_clearSet">',e+='<span class="u-grid-column-menu-span">'+this.transMap.ml_clear_set+"</span>",e+="</div></li>",e+="</ul></div>",e+='<div class="u-grid-column-menu-columns" id="'+this.options.id+'_column_menu_columns">',e+='<ul data-role="menu" role="menubar" class="u-grid-column-menu-columns-ul" id="'+this.options.id+'_column_menu_columns_ul">',$.each(this.gridCompColumnArr,function(i){if(""!=t.getString(this.options.title,"")){e+='<li class="u-grid-column-menu-columns-li" role="menuitem" index="'+i+'">',e+='<div class="u-grid-column-menu-columns-div1">';var n="";this.options.visible&&(n=" checked"),this.options.canVisible||(n+=' style="display:none;"'),e+='<div class="u-grid-column-menu-columns-div2"><input type="checkbox" '+n+"></div>",e+='<span class="u-grid-column-menu-columns-span">'+this.options.title+"</span>",e+="</div></li>"}}),e+="</ul></div>"},createHeader:function(){var t="";this.wholeWidth>0;var e="";this.options.showHeader||(e='style="display:none;"');var i='<div class="u-grid-header" id="'+this.options.id+'_header" '+e+'><div class="u-grid-header-wrap" id="'+this.options.id+'_header_wrap" data-role="resizable" '+t+">";
return(this.options.multiSelect||this.options.showNumCol)&&(i+='<div id="'+this.options.id+'_header_left" class="u-grid-header-left" style="width:'+this.leftW+'px;">',this.options.multiSelect&&(i+=iweb.browser.isIE8?'<div class="u-grid-header-multi-select" style="width:'+this.multiWidth+'px;"><input class="u-grid-multi-input"   type="checkbox" id="'+this.options.id+'_header_multi_input"></div>':'<div class="u-grid-header-multi-select  checkbox check-success" style="width:'+this.multiWidth+'px;"><input  class="u-grid-multi-input"  type="checkbox" id="'+this.options.id+'_header_multi_input"><label for="'+this.options.id+'_header_multi_input"></label></div>'),this.options.showNumCol&&(i+='<div class="u-grid-header-num" style="width:'+this.numWidth+'px;"></div>'),i+="</div>"),i+=this.createHeaderTable("fixed"),i+=this.createHeaderTable(),i+="</div>",i+='<div class="u-grid-header-resize-handle" id="'+this.options.id+'_resize_handle"><div class="u-grid-header-resize-handle-inner"></div></div>',i+="</div>"},createHeaderTable:function(t){var e,i,n;"fixed"==t?(e=parseInt(this.leftW),i="absolute;width:"+this.fixedWidth+"px;z-index:11;background:#F9F9F9;",n="fixed_"):(e=parseInt(this.leftW)+parseInt(this.fixedWidth),i="relative;",n="",this.contentMinWidth>0&&(i+="width:"+this.contentMinWidth+"px;"));var s='<table role="grid" id="'+this.options.id+"_header_"+n+'table" style="position:'+i+";left:"+e+'px">';return s+=this.createColgroup(t),s+='<thead role="rowgroup" id="'+this.options.id+"_header_"+n+'thead">',s+=this.createThead(t),s+="</thead></table>"},createColgroup:function(t){var e,i=this,n="<colgroup>";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(){this.options.visible&&(n+="<col",n+=' style="width:'+i.formatWidth(this.options.width)+'"',n+=">")}),n+="</colgroup>"},createThead:function(t){var e,i=this,n=0,s="";this.options.maxHeaderLevel>1&&(s='style="height:'+this.headerHeight+'px;"');var o='<tr role="row" '+s+">";return e="fixed"==t?this.gridCompColumnFixedArr:this.gridCompColumnArr,$.each(e,function(e){var s=n,a="";0==this.options.visible?(s=-1,a='style="display:none;"'):n++,o+='<th role="columnheader" data-filed="'+this.options.field+'" rowspan="1" class="u-grid-header-th" '+a+'field="'+this.options.field+'" index="'+e+'" visibleIndex="'+s+'"><div style="position:relative;">';var r="";this.options.headerColor&&(r='style="color:'+this.options.headerColor+'"'),o+='<div class="u-grid-header-link" field="'+this.options.field+'" title="'+this.options.title+'" '+r+">"+this.options.title+"</div>",i.options.columnMenu&&"fixed"!=t&&(o+='<div class="u-grid-header-columnmenu fa fa-bars " field="'+this.options.field+'" style="display:none;"></div>'),o+="</div></th>"}),o+="</tr>"},createContent:function(){var t="",e="",i="";if(this.countContentHeight){var n=$("#"+this.options.id)[0].offsetHeight;this.wholeHeight=n,n>0&&(this.contentHeight=parseInt(n)-this.exceptContentHeight>0?parseInt(n)-this.exceptContentHeight:0,this.contentHeight>0&&(t='style="max-height:'+this.contentHeight+'px;"'))}var s='<div id="'+this.options.id+'_content" class="u-grid-content" '+t+">";return(this.options.showNumCol||this.options.multiSelect)&&(s+=this.createContentLeft(),this.contentWidth>this.contentMinWidth||(e="display:none;",i="bottom:0px;"),this.options.showSumRow&&(s+='<div class="u-grid-content-left-sum-bottom" id="'+this.options.id+'_content_left_sum_bottom" style="width:'+(this.leftW+this.fixedWidth)+"px;"+i+'">',s+="</div>"),u.isIOS&&(e+="width:0px;"),s+='<div class="u-grid-content-left-bottom" id="'+this.options.id+'_content_left_bottom" style="width:'+(this.leftW+this.fixedWidth)+"px;"+e+'">',s+="</div>"),s+=this.createContentTable("fixed"),s+=this.createContentTable(),s+="</div>"},createContentLeft:function(){var t=this,e="",i=0;return this.options.multiSelect&&(e+='<div class="u-grid-content-left" id="'+this.options.id+'_content_multiSelect" style="width:'+this.multiSelectWidth+'px;">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(i){e+=t.createContentLeftMultiSelectRow(this)}),e+="</div>",i+=this.multiSelectWidth),this.options.showNumCol&&(e+='<div class="u-grid-content-left" id="'+this.options.id+'_content_numCol" style="width:'+this.numWidth+"px;left:"+i+'px;">',this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(i){e+=t.createContentLeftNumColRow(i)}),e+="</div>"),e},createContentLeftMultiSelectRow:function(t,e){var i="";!this.options.autoExpand&&t.level>0&&"block"!=e&&(i="display:none;");var n=t.value["$_#_@_id"];if(n||(n=setTimeout(function(){})),iweb.browser.isIE8)var s='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect " ><input class="u-grid-multi-input" id="checkbox'+n+'" type="checkbox" value="1" ></div>';else var s='<div style="width:'+this.multiSelectWidth+"px;"+i+'" class="u-grid-content-multiSelect checkbox check-success" ><input class="u-grid-multi-input" id="checkbox'+n+'" type="checkbox" value="1" ><label for="checkbox'+n+'"></label></div>';return s},createContentLeftNumColRow:function(t){var e='<div style="width:'+this.numWidth+'px;" class="u-grid-content-num">'+(t+1)+"</div>";return e},createContentTable:function(t){var e,i,n,s,o,a;s=this.countContentHeight&&parseInt(this.contentHeight)>0?"max-height:"+this.contentHeight+"px;":"","fixed"==t?(e=parseInt(this.leftW),i="fixed_",o="fixed-",n='style="position:absolute;width:'+this.fixedWidth+"px;left:"+e+"px;"+s+'"',a='style="width:'+this.fixedWidth+'px;"'):(e=parseInt(this.leftW)+parseInt(this.fixedWidth),i="",o="",n='style="position:relative;left:'+e+"px;"+s,this.contentMinWidth>0&&(n+="width:"+this.contentMinWidth+"px;"),n+='"',a="",this.contentMinWidth>0&&(a=this.contentWidth>0?'style="min-width:'+this.contentMinWidth+"px;width:"+this.contentWidth+'px;"':'style="min-width:'+this.contentMinWidth+'px;"'));var r='<div id="'+this.options.id+"_content_"+i+'div" class="u-grid-content-'+o+'div" '+n+">";return r+='<div style="height:30px;position:absolute;top:-30px;width:100%;"></div><table role="grid" id="'+this.options.id+"_content_"+i+'table" '+a+">",r+=this.createColgroup(t),r+='<thead role="rowgroup" id="'+this.options.id+"_content_"+i+'thead" style="display:none">',r+=this.createThead(t),r+="</thead>",r+=this.createContentRows(t),r+="</table>","fixed"!=t&&(r+=this.createNoRowsDiv()),r+="</div>"},createNoRowsDiv:function(){var t="",e="";this.contentMinWidth>0&&(t+='style="width:'+this.contentMinWidth+'px;"'),this.contentWidth>0&&(e+='style="width:'+this.contentWidth+'px;"');var i='<div class="u-grid-noRowsDiv"'+e+' id="'+this.options.id+'_noRows"></div>';return i+='<div class="u-grid-noRowsShowDiv"'+t+' id="'+this.options.id+'_noRowsShow">'+this.transMap.ml_no_rows+"</div>"},createContentRows:function(t){var e,i=this,n="";return e="fixed"==t?"fixed_":"",this.dataSourceObj.rows&&(n+='<tbody role="rowgroup" id="'+this.options.id+"_content_"+e+'tbody">',$.each(this.dataSourceObj.rows,function(e){n+=i.createContentOneRow(this,t)}),i.options.showSumRow&&this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0&&(n+=i.createSumRow(t)),n+="</tbody>"),n},createContentOneRow:function(t,e,i){var n="";!this.options.autoExpand&&t.level>0&&"block"!=i&&(n='style="display:none"');var s='<tr role="row" '+n+">";return s+=this.createContentOneRowTd(t,e),s+="</tr>"},createContentOneRowForIE:function(t,e,i,n,s){var o=t.insertRow(e+1);o.setAttribute("role","row"),!this.options.autoExpand&&o.level>0&&"block"!=s&&(o.style.display="none"),this.createContentOneRowTdForIE(o,i,n)},repaintRow:function(t){var e=$("#"+this.options.id+"_content_tbody").find('tr[role="row"]')[t],i=$("#"+this.options.id+"_content_fixed_tbody").find('tr[role="row"]')[t],n=this.dataSourceObj.rows[t],s=$(e),o=this.getTrIndex(s);if(iweb.browser.isIE8||iweb.browser.isIE9){$("#"+this.options.id+"_content_table")[0],$("#"+this.options.id+"_content_fixed_table")[0];this.createContentOneRowTdForIE(e,n),this.createContentOneRowTdForIE(i,n,"fixed")}else e.innerHTML=this.createContentOneRowTd(n),i.innerHTML=this.createContentOneRowTd(n,"fixed");var a={};a.begin=o,a.length=1,this.renderTypeFun(a)},createContentOneRowTd:function(t,e){var i,n=this,s="";i="fixed"==e?this.gridCompColumnFixedArr:this.gridCompColumnArr;var o=t.value;return $.each(i,function(){var e=this.options.field,i=$(o).attr(e);i=n.getString(i,""),"object"==$.type(i)&&(i=i.showValue);var a=(this.options.renderType,""),r="",l="",d="";if(n.options.showTree&&this.firstColumn){var h=parseInt(n.treeLeft)*parseInt(t.level);a='style="position:relative;',t.hasChild?r=n.options.autoExpand?'<span class=" fa fa-minus-square-o u-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o u-grid-content-tree-span"></span>':h+=16,a+="left:"+h+'px;"'}this.options.visible||(d='style="display:none;"'),this.options.icon&&(l='<span class="'+this.options.icon+'"></span>'),s+='<td role="rowcell"  '+d+' title="'+i.replace(/\</g,"<").replace(/\>/g,">")+'"><div class="u-grid-content-td-div" '+a+">"+r+l+"<span>"+i.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div></td>"}),s},createContentOneRowTdForIE:function(t,e,i){var n,s=this;n="fixed"==i?this.gridCompColumnFixedArr:this.gridCompColumnArr;var o=e.value;$.each(n,function(){var i=this.options.field,n=$(o).attr(i);n=s.getString(n,""),"object"==$.type(n)&&(n=n.showValue);var a=(this.options.renderType,""),r="",l="",d="",h=t.insertCell();if(h.setAttribute("role","rowcell"),h.title=n.replace(/\</g,"<").replace(/\>/g,">"),s.options.showTree&&this.firstColumn){var c=parseInt(s.treeLeft)*parseInt(e.level);a='style="position:relative;',e.hasChild?r=s.options.autoExpand?'<span class=" fa fa-minus-square-o u-grid-content-tree-span"></span>':'<span class=" fa fa-plus-square-o u-grid-content-tree-span"></span>':c+=18,a+="left:"+c+'px;"'}this.options.visible||(h.style.display="none"),this.options.icon&&(l='<span class="'+this.options.icon+'"></span>'),d+='<div class="u-grid-content-td-div" '+a+">"+r+l+"<span>"+n.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</span></div>",h.insertAdjacentHTML("afterBegin",d)})},createSumRow:function(t){if(this.options.showSumRow){var e,i,n=this;"fixed"==t?(e="fixed_",i=this.gridCompColumnFixedArr):(e="",i=this.gridCompColumnArr);var s=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;s=s>0?s:0;var o='<tr role="row" class="u-grid-content-sum-row" id="'+this.options.id+"_content_"+e+'sum_row" style="top:'+s+'px;">';return $.each(i,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,s=n.dataSourceObj.getSumValue(t,this,n);if("float"==i){var a={};a.value=s,a.precision=e?e:2,s=n.DicimalFormater(a)}var r="";this.options.visible||(r='style="display:none;"'),o+='<td role="rowcell" title="'+s+'" '+r+">",this.firstColumn&&(o+='<div class="u-gird-centent-sum-div"><span>'+n.transMap.ml_sum+"</span></div>");var l="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(l='style="text-align: right;"'),o+='<div class="u-grid-content-td-div" '+l+'><span value="'+s+'">'+s+"</span></div></td>"}),o+="</tr>"}},createSumRowForIE:function(t,e){if(this.options.showSumRow){var i,n,s=this;"fixed"==e?(i="fixed_",n=this.gridCompColumnFixedArr):(i="",n=this.gridCompColumnArr);var o=parseInt(this.wholeHeight)-this.exceptContentHeight-48-this.scrollBarHeight;o=o>0?o:0;var a=t.insertRow();a.row="row",a.className="u-grid-content-sum-row",a.id=this.options.id+"_content_"+i+"sum_row",a.style.top=o+"px",$.each(n,function(){var t=this.options.field,e=this.options.precision,i=this.options.dataType,n=s.dataSourceObj.getSumValue(t,this,s);if("float"==i){var o={};o.value=n,o.precision=e?e:2,n=s.DicimalFormater(o)}var r=a.insertCell();r.role="rowcell",r.title=n;var l="";"integer"!=this.options.dataType&&"float"!=this.options.dataType||(l='style="text-align: right;"');var d='<div class="u-grid-content-td-div" '+l+'><span value="'+n+'">'+n+"</span></div>";r.insertAdjacentHTML("afterBegin",d)})}},repairSumRow:function(){if(this.options.showSumRow){$("#"+this.options.id+"_content_div tbody .u-grid-content-sum-row").remove(),$("#"+this.options.id+"_content_fixed_div tbody .u-grid-content-sum-row").remove();try{if(this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0){var t=this.createSumRow();$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",t);var t=this.createSumRow("fixed");$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",t)}}catch(e){var i=$("#"+this.options.id+"_content_div table")[0];$("#"+this.options.id+"_content_fixed_div table")[0];this.createSumRowForIE(i),this.createSumRowForIE(i,"fixed")}this.renderSumRow()}},renderSumRow:function(){var t=this;$.each(this.gridCompColumnFixedArr,function(e){var i=this.options.sumCol,n=this.options.sumRenderType,s="fixed_";if(i){var o=$("#"+t.options.id+"_content_"+s+"sum_row").find("td").eq(e).find("span"),a=o[o.length-1];if(a)if("function"==typeof n){var r=$(a).attr("value"),l={};l.value=r,l.element=a,l.gridObj=t,l.gridCompColumn=this,n.call(t,l)}else"integer"!=dataType&&"float"!=dataType||(a.style.textAlign="right")}}),$.each(this.gridCompColumnArr,function(e){var i=this.options.sumCol,n=this.options.sumRenderType,s="";if(i){var o=$("#"+t.options.id+"_content_"+s+"sum_row").find("td").eq(e).find("span"),a=o[o.length-1];if(a)if("function"==typeof n){var r=$(a).attr("value"),l={};l.value=r,l.element=a,l.gridObj=t,l.gridCompColumn=this,n.call(t,l)}else"integer"!=dataType&&"float"!=dataType||(a.style.textAlign="right")}})},repairContent:function(){var t=$("#"+this.options.id+"_content").parent();if($("#"+this.options.id+"_content").remove(null,!0),t[0]){var e=this.createContent();t[0].insertAdjacentHTML("beforeEnd",e),this.renderTypeFun(),this.initContentDivEventFun(),$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft),$("#"+this.options.id+"_content_edit_menu").css("display","none")}this.realtimeTableRows=null},createFromDivs:function(){if(!this.createFormFlag){var t='<div id="'+this.options.id+'_form" class="u-grid-form">';t+=this.createFromContent(),$("#"+this.options.id)[0].insertAdjacentHTML("afterBegin",t),this.createFormFlag=!0}},createFromContent:function(){var t='<div class="u-grid-form-content" id="'+this.options.id+'_form_content" class="u-grid-content">';return t+='<table role="grid" id="'+this.options.id+'_form_content_table">',t+=this.createFormContentRows(),t+="</table>"},createFormContentRows:function(){var t=this,e="";return this.dataSourceObj.rows&&(e+='<tbody role="rowgroup" id="'+this.options.id+'_form_content_tbody">',$.each(this.dataSourceObj.rows,function(){e+='<tr role="row"><td role="rowcell">';var i=this.value;$.each(t.gridCompColumnArr,function(){var t=this.options.field,n=this.options.title,s=$(i).attr(t);e+="<div>"+n+":</div>",e+="<div>"+s+"</div>"}),e+="</td></tr>"}),e+="</tbody>"),e},initEventFun:function(){var t=this;$("#"+this.options.id).on("mousedown",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){t.mouseDownX=e.clientX,t.mouseDownY=e.clientY;var i=$(e.target).closest("th")[0];t.canSwap&&t.swapColumnStart(e,i),e.preventDefault()}else $(e.target).closest("#"+t.options.id+"_content").length>0}),$("#"+this.options.id).on("mousemove",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){var i=$(e.target).closest("th")[0];t.headerThDrag(e,i)}t.mouseMoveX=e.clientX,t.mouseMoveY=e.clientY,t.mouseMoveX==t.mouseDownX&&t.mouseDownY==t.mouseMoveY||"mouseDownX"==t.mouseDownX||!t.canSwap||(t.swapColumnFlag=!0),t.dragFun(e),t.swapColumnFun(e),e.stopPropagation()}),$("#"+this.options.id+"_top").on("mousemove",function(e){t.mouseMoveX=e.clientX,t.mouseMoveY=e.clientY,t.mouseMoveX==t.mouseDownX&&t.mouseDownY==t.mouseMoveY||"mouseDownX"==t.mouseDownX||!t.canSwap||(t.swapColumnFlag=!0),t.dragFun(e),t.swapColumnFun(e),e.stopPropagation()}),$("#"+this.options.id).on("mouseup",function(e){if($(e.target).closest("#"+t.options.id+"_header").length>0){if(t.mouseUpX=e.clientX,t.mouseUpY=e.clientY,t.mouseDownX==t.mouseUpX&&t.mouseDownY==t.mouseUpY){t.columnClickX=e.clientX,t.columnClickY=e.clientY;var i=$(e.target).closest("th")[0];if($(e.target).hasClass("u-grid-header-columnmenu")){$("#"+t.options.id+"_column_menu").css("display","block");var n=i.attrRightTotalWidth-t.scrollLeft+t.leftW+t.fixedWidth-20;n+t.columnMenuWidth>t.wholeWidth&&(n=i.attrRightTotalWidth-t.scrollLeft+t.leftW+t.fixedWidth-t.columnMenuWidth+1),$("#"+t.options.id+"_column_menu").css("left",n),$("#"+t.options.id+"_column_menu").css("top",t.headerHeight),t.ele.createColumnMenuFlage=!0}else t.canSortable(e,i)}}else $(e.target).closest("#"+t.options.id+"_content").length>0;t.dragEnd(e),t.swapColumnEnd(e),t.mouseUpX="mouseUpX",t.mouseUpY="mouseUpY",t.mouseDownX="mouseDownX",t.mouseDownY="mouseDownY",t.mouseMoveX="mouseMoveX",t.mouseMoveY="mouseMoveY"}),$("#"+this.options.id+"_top").on("mouseup",function(e){t.dragEnd(e),t.swapColumnEnd(e),t.mouseUpX="mouseUpX",t.mouseUpY="mouseUpY",t.mouseDownX="mouseDownX",t.mouseDownY="mouseDownY",t.mouseMoveX="mouseMoveX",t.mouseMoveY="mouseMoveY"}),$(document).on("click",function(){0==t.columnMenuMove&&0==t.ele.createColumnMenuFlage&&$("#"+t.options.id+"_column_menu",t.$ele).css("display","none"),t.ele.createColumnMenuFlage=!1})},initGridEventFun:function(){var t=this;$("#"+this.options.id+"_resize_handle").on("mousedown",function(e){return t.dragStart(e),!1}),$("#"+this.options.id+"_header_table th").on("mousemove",function(t){$(".u-grid-header-columnmenu",$(this)).css("display","block")}),$("#"+this.options.id+"_header_table th").on("mouseout",function(t){$(".u-grid-header-columnmenu",$(this)).css("display","none")}),this.initContentDivEventFun(),$("#"+this.options.id+"_header_multi_input").on("click",function(e){this.checked?t.setAllRowSelect():t.setAllRowUnSelect()}),$("#"+this.options.id+"_column_menu_ul").on("mousemove",function(e){t.columnMenuMove=!0}),$("#"+this.options.id+"_column_menu_ul").on("mouseout",function(e){t.columnMenuMove=!1}),$("#"+this.options.id+"_showColumn").on("mousemove",function(e){if(t.hideMenuColumns&&clearTimeout(t.hideMenuColumns),"block"!=$("#"+t.options.id+"_column_menu_columns").css("display")){var i=$(window).width(),n=$(window).height(),s=$("#"+t.options.id+"_column_menu").css("left"),o=parseInt(s)+t.columnMenuWidth,a=t.columnClickX+2*t.columnMenuWidth;a>i&&(o=parseInt(s)-t.columnMenuWidth),$("#"+t.options.id+"_column_menu_columns").css("left",o);var r=t.headerHeight,l=e.clientY,d=t.menuColumnsHeight;t.menuColumnsHeight+30>n?(d=n-30,$("#"+t.options.id+"_column_menu_columns").css("height",d+"px")):$("#"+t.options.id+"_column_menu_columns").css("height","");var h=l+d;h>n&&(r=-1*(l-(n-d))+30),$("#"+t.options.id+"_column_menu_columns").css("top",r),$("#"+t.options.id+"_column_menu_columns").css("display","block"),t.columnMenuMove=!0}}),$("#"+this.options.id+"_showColumn").on("mouseout",function(e){t.hideMenuColumns=setTimeout(function(){$("#"+t.options.id+"_column_menu_columns").css("display","none"),t.columnMenuMove=!1},200)}),$("#"+this.options.id+"_column_menu_columns").on("mousemove",function(e){t.hideMenuColumns&&clearTimeout(t.hideMenuColumns),$("#"+t.options.id+"_column_menu_columns").css("display","block"),t.columnMenuMove=!0}),$("#"+this.options.id+"_column_menu_columns").on("mouseout",function(e){t.hideMenuColumns=setTimeout(function(){$("#"+t.options.id+"_column_menu_columns").css("display","none"),t.columnMenuMove=!1},200)}),$("#"+this.options.id+"_clearSet").on("click",function(e){t.clearLocalData(),t.initGridCompColumn(),t.dataSourceObj.sortRows(),t.repaintGridDivs(),"function"==typeof t.options.onClearSetFun&&t.options.onClearSetFun(t)}),$("#"+this.options.id+"_column_menu_columns_ul li input").on("click",function(e){var i=$(this).closest("li").attr("index");if(t.gridCompColumnArr[i].options.visible){$(this)[0].checked=!1;var n=$("input:checked",$("#"+t.options.id+"_column_menu_columns_ul")).length;if(0==n)return void($(this)[0].checked=!0);8==document.documentMode?(t.gridCompColumnArr[i].options.visible=!1,t.repaintGridDivs()):(t.setColumnVisibleByIndex(i,!1),t.gridCompColumnArr[i].options.visible=!1)}else $(this)[0].checked=!0,8==document.documentMode?(t.gridCompColumnArr[i].options.visible=!0,t.repaintGridDivs()):(t.setColumnVisibleByIndex(i,!0),t.gridCompColumnArr[i].options.visible=!0);t.saveGridCompColumnArrToLocal(),e.stopPropagation()}),$("#"+this.options.id+"_column_menu_columns_ul li").on("click",function(e){var i=$(this).attr("index"),n=t.gridCompColumnArr[i];if(!n.options.canVisible)return!1;if(n.options.visible){$("input",$(this))[0].checked=!1;var s=$("input:checked",$("#"+t.options.id+"_column_menu_columns_ul")).length;if(0==s)return void($("input",$(this))[0].checked=!0);t.setColumnVisibleByIndex(i,!1),t.gridCompColumnArr[i].options.visible=!1}else $("input",$(this))[0].checked=!0,t.setColumnVisibleByIndex(i,!0),t.gridCompColumnArr[i].options.visible=!0;t.saveGridCompColumnArrToLocal()})},initContentDivEventFun:function(){var t=this;$("#"+t.options.id+"_content .u-grid-content-left").on("click",function(e){var i=$(e.target).closest("input");if(i.length>0){var n=$(i.parent()),s=$(".u-grid-content-multiSelect",n.parent()).index(n);i[0].checked?t.setRowSelect(s):t.setRowUnselect(s)}}),$("#"+this.options.id+"_content_div").on("scroll",function(e){t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop,$("#"+t.options.id+"_header_table").css("left",t.leftW-t.scrollLeft+t.fixedWidth+"px"),$("#"+t.options.id+"_noRowsShow").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_edit_form").css("left",t.scrollLeft+"px"),$("#"+t.options.id+"_content_multiSelect").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_numCol").css("top",-t.scrollTop+"px"),$("#"+t.options.id+"_content_fixed_div").css("top",-t.scrollTop+"px")}),$("#"+this.options.id+"_content_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content_fixed_tbody").on("click",function(e){"function"==typeof t.options.onDblClickFun?t.isDblEvent("tbodyClick",t.dblClickFun,e,t.clickFun,e):t.clickFun(e)}),$("#"+this.options.id+"_content").on("mousemove",function(e){var i=$(e.target).closest("tr"),n=$(e.target).closest("div"),s=-1;i.length>0?s=$("tr",i.parent()).index(i):n.length>0&&(n.hasClass("u-grid-content-multiSelect")||n.hasClass("u-grid-content-num"))&&(s=$("div",n.parent()).index(n)),t.trHoverFun(s)}),$("#"+this.options.id+"_content").on("mouseout",function(e){$("#"+t.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+t.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),t.options.multiSelect&&$("#"+t.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),t.options.showNumCol&&$("#"+t.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg")})},trHoverFun:function(t){var e=this;if($("#"+e.options.id+"_content_tbody").find("tr").removeClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").removeClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").removeClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").removeClass("u-grid-move-bg"),t>-1){var i=$("#"+e.options.id+"_content_tbody").find("tr").eq(t);if(i[0].id&&i[0].id==e.options.id+"_edit_tr")return;if($("#"+e.options.id+"_content_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),$("#"+e.options.id+"_content_fixed_tbody").find("tr").eq(t).addClass("u-grid-move-bg"),e.options.multiSelect&&$("#"+e.options.id+"_content_multiSelect").find("div").eq(t).addClass("u-grid-move-bg"),e.options.showNumCol&&$("#"+e.options.id+"_content_numCol").find("div").eq(t).addClass("u-grid-move-bg"),"function"==typeof e.options.onRowHover&&!i.is(".u-grid-content-sum-row")){var n={};n.gridObj=e,n.rowObj=e.dataSourceObj.rows[t],n.rowIndex=t,e.options.onRowHover(n)}}},setIntervalFun:function(t){this.widthChangeFun(),this.heightChangeFun(),this.editorRowChangeFun()},editorRowChangeFun:function(){if($("#"+this.options.id+"_edit_form").length>0){var t=$("#"+this.options.id+"_edit_form")[0].offsetHeight;$("#"+this.options.id+"_numCol_edit").css("height",t),$("#"+this.options.id+"_multiSelect_edit").css("height",t)}},afterGridDivsCreate:function(){this.columnsVisibleFun(),this.resetThVariable(),this.countRowHeight(),this.noRowsShowFun();this.renderTypeFun(),this.resetScrollLeft(),this.hideEditMenu()},countRowHeight:function(){$("#"+this.options.id+"_content_tbody tr")[0]&&(this.rowHeight=$("#"+this.options.id+"_content_tbody tr")[0].offsetHeight)},noRowsShowFun:function(){this.dataSourceObj.rows&&this.dataSourceObj.rows.length>0?($("#"+this.options.id+"_noRowsShow").css("display","none"),$("#"+this.options.id+"_noRows").css("display","none")):($("#"+this.options.id+"_noRowsShow").css("display","block"),$("#"+this.options.id+"_noRows").css("display","block"))},updateLastRowFlag:function(){for(var t=$("#"+this.options.id+"_content_tbody").find("tr[role=row]"),e=0,i=t.length;i>e;e++)e==i-1?$(t[e]).addClass("last-row"):$(t[e]).removeClass("last-row")},updateNumColLastRowFlag:function(){for(var t=$("#"+this.options.id+"_content_numCol").find(".u-grid-content-num"),e=0,i=t.length;i>e;e++)e==i-1?$(t[e]).addClass("last-row"):$(t[e]).removeClass("last-row")},renderTypeFun:function(t){if(this.isGridShow()){if("undefined"==typeof t)var e=null,i=null,n="";else var e="undefined"==typeof t.begin?null:t.begin,i="undefined"==typeof t.length?null:t.length,n="undefined"==typeof t.field?"":t.field;var s=this,e=parseInt(e),i=parseInt(i),o=e;if(i>0&&(o=parseInt(e+i-1)),""==n)$.each(this.gridCompColumnFixedArr,function(t){s.renderTypeByColumn(this,t,e,i,!0)}),$.each(this.gridCompColumnArr,function(t){s.renderTypeByColumn(this,t,e,i,!1)});else{var a=!1;$.each(this.gridCompColumnFixedArr,function(t){return this.options.field==n?(s.renderTypeByColumn(this,t,e,i,!0),void(a=!0)):void 0}),a||$.each(this.gridCompColumnArr,function(t){return this.options.field==n?void s.renderTypeByColumn(this,t,e,i,!1):void 0})}}},renderTypeByColumn:function(t,e,i,n,s){var o=this,a=t.options.renderType,r=t.options.sumCol,l=t.options.sumRenderType,d=t.options.dataType,h=t.options.precision,c=t.options.format,u=t.options.field,p=i,f=s===!0?"_content_fixed_tbody":"_content_tbody",m=s===!0?"fixed_":"";n>0&&(p=parseInt(i+n-1)),this.realtimeTableRows=document.getElementById(o.options.id+f).children;for(var v=-1,g=0;g<o.realtimeTableRows.length;g++)"row"!=o.realtimeTableRows[g].getAttribute("role")&&(v=g);if($.each(o.dataSourceObj.rows,function(n){if(i>=0&&n>=i&&p>=n||isNaN(i)){var s=n;-1!=v&&n>=v&&s++;var r=o.realtimeTableRows[s],l=r.children[e];if(l){if(-1!=l.children[0].innerHTML.indexOf("u-grid-content-tree-span"))var f=l.children[0].children[1];else var f=l.children[0];if(f){var m=$(this.value).attr(u);if("function"==typeof a||"date"==d||"datetime"==d||"integer"==d||"float"==d)if(f.innerHTML="","function"==typeof a){m=o.getString(m,"");var g={};g.value=m,g.element=f,g.gridObj=o,g.row=this,g.gridCompColumn=t,g.rowIndex=n,a.call(o,g)}else if("date"==d||"datetime"==d){null!=m&&m!=undefined&&"null"!=m&&"undefined"!=m&&""!=m||(m="");var _=new Date(m);parseInt(_.valueOf())>0?m=_.format(c):(_=moment(m,"YYYY-MM-DD HH:mm:ss").toDate(),parseInt(_.valueOf())>0&&(m=_.format(c))),f.innerHTML=m,l.title=m}else if("integer"==d)m=parseInt(m),f.innerHTML=m,l.title=m;else if("float"==d){if(h){var C={};C.value=m,C.precision=h,m=o.DicimalFormater(C)}else m=parseFloat(m);f.innerHTML=m,l.title=m}else{m=o.getString(m,"");var y=m.replace(/\</g,"<");y=y.replace(/\>/g,">"),l.title=m,m=m.replace(/\</g,"&lt;"),m=m.replace(/\>/g,"&gt;"),f.innerHTML=m}else{m=o.getString(m,"");var y=m.replace(/\</g,"<");y=y.replace(/\>/g,">"),l.title=m,m=m.replace(/\</g,"&lt;"),m=m.replace(/\>/g,"&gt;"),f.innerHTML=m}}}}}),r){var _=$("#"+this.options.id+"_content_"+m+"sum_row").find("td").eq(e).find("span"),C=_[_.length-1];if(C)if("function"==typeof l){var y=$(C).attr("value"),b={};b.value=y,b.element=C,b.gridObj=o,b.gridCompColumn=t,l.call(o,b)}else"integer"!=d&&"float"!=d||(C.style.textAlign="right")}},afterRepaintGrid:function(){this.resetScrollLeft(),this.hideEditMenu()},resetScrollLeft:function(){$("#"+this.options.id+"_content_div")[0]&&($("#"+this.options.id+"_content_div")[0].scrollLeft=this.scrollLeft)},hideEditMenu:function(){$("#"+this.options.id+"_content_edit_menu").css("display","none")},widthChangeFun:function(){var t=this;if($("#"+this.options.id)[0]){var e=$("#"+this.options.id).width();this.wholeWidth!=e&&(this.wholeWidth=e,e<this.options.formMaxWidth,e>this.options.formMaxWidth&&("form"==this.showType||""==this.showType||!$("#"+this.options.id+"_content_div tbody")[0])||this.options.overWidthHiddenColumn?t.widthChangeGridFun():e>0&&e<this.options.formMaxWidth&&("grid"==this.showType||""==this.showType),e>this.options.formMaxWidth&&(this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),setTimeout(function(){$("#"+t.options.id+"_header_wrap").css("max-width",t.wholeWidth-4+"px"),$("#"+t.options.id+"_content_div").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_content_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("min-width",t.contentMinWidth+"px"),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),"function"==typeof t.options.afterCreate&&t.options.afterCreate.call(t)},300))),$("#"+t.options.id+"_header_table").css("width",t.contentMinWidth+"px"),$("#"+t.options.id+"_edit_form").css("width",t.contentMinWidth+"px")}},widthChangeGridFun:function(){var t=parseInt(this.wholeWidth/2);if(this.fixedRealWidth>t?this.fixedWidth=t:this.fixedWidth=this.fixedRealWidth,this.options.overWidthHiddenColumn){this.lastVisibleColumn.options.width=this.lastVisibleColumn.options.realWidth;var e=parseInt(this.wholeWidth)-parseInt(this.leftW),i=parseInt(this.fixedWidth)+parseInt(this.contentRealWidth);if(i>e){for(var n=0;n<this.gridCompHiddenLevelColumnArr.length;n++){var s=this.gridCompHiddenLevelColumnArr[n];if(s.options.visible&&(s.options.visible=!1,i-=s.options.width),!(i>e))break}this.columnsVisibleFun()}else{for(var n=this.gridCompHiddenLevelColumnArr.length-1;n>-1;n--){var s=this.gridCompHiddenLevelColumnArr[n];if(!s.options.visible){if(i+=s.options.width,i>e)break;s.options.visible=!0}}this.columnsVisibleFun()}}if(this.contentMinWidth=parseInt(this.wholeWidth)-parseInt(this.leftW)-parseInt(this.fixedWidth),this.contentMinWidth<0&&(this.contentMinWidth=0),this.contentRealWidth<this.contentMinWidth){this.contentWidth=this.contentMinWidth;var o=this.lastVisibleColumn.options.width;this.lastVisibleColumnWidth=o+(this.contentMinWidth-this.contentRealWidth),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth-20}else this.contentWidth=this.contentRealWidth;this.createGridFlag=!1,this.createGridDivs(),$("#"+this.options.id+"_form").css("display","none"),$("#"+this.options.id+"_grid").css("display","block")},widthChangeFormFun:function(){this.createFromDivs(),$("#"+this.options.id+"_grid").css("display","none"),$("#"+this.options.id+"_form").css("display","block"),this.showType="form","function"==typeof this.options.afterCreate&&this.options.afterCreate.call(this)},heightChangeFun:function(){if(this.countContentHeight){var t=this.wholeHeight,e=$("#"+this.options.id)[0].offsetHeight;if(this.wholeHeight=e,t!=e){var i=e-this.exceptContentHeight>0?e-this.exceptContentHeight:0;$("#"+this.options.id+"_content").css("height",i+"px"),$("#"+this.options.id+"_content_div").css("height",i+"px")}}},columnsVisibleFun:function(){var t=this,e=0,i=0;this.firstColumn=!0,$.each(this.gridCompColumnFixedArr,function(){this.options.visible&&(e+=parseInt(this.options.width),
this.firstColumn=t.firstColumn,t.firstColumn=!1)}),this.fixedRealWidth=e,$.each(this.gridCompColumnArr,function(){this.options.visible&&(i+=parseInt(this.options.width),this.firstColumn=t.firstColumn,t.firstColumn=!1,t.lastVisibleColumn=this,t.lastVisibleColumnWidth=this.options.width)}),this.contentRealWidth=i},resetThVariable:function(){if("grid"==this.showType){var t=this;this.contentWidth=0;var e="",i=0;$("#"+this.options.id+"_header_table th",this.$ele).each(function(n){var s=t.gridCompColumnArr[n],o=t.getString(s.options.parentHeader,""),a=0;if(s.options.visible&&(a=s.options.width),this.attrLeftTotalWidth=t.contentWidth,t.contentWidth+=a,!$("#"+t.options.id+"_resize_handle")[0].nowTh&&s.options.canDrag&&($("#"+t.options.id+"_resize_handle").css("left",a-4+t.leftW),$("#"+t.options.id+"_resize_handle")[0].nowTh=this),this.gridCompColumn=s,this.attrWidth=a,this.attrRightTotalWidth=t.contentWidth,""!=e&&o!=e&&$("#"+t.options.id+e).css("width",i-1+"px"),""!=o){var r=t.getLevelTitleByField(o);if(o!=e&&(i=0,!t.parentFlag)){var l='<div id="'+t.options.id+o+'" class="u-gird-parent"><div class="u-grid-header-link" title="'+r+'">'+r+"</div></div>";this.insertAdjacentHTML("afterBegin",l)}i+=a}e=o}),""!=e&&$("#"+t.options.id+e).css("width",i-1+"px"),this.parentFlag=!0}},contentWidthChange:function(t){if(t<this.contentMinWidth){var e=this.lastVisibleColumn.options.width;this.lastVisibleColumnWidth=e+(this.contentMinWidth-t),$("#"+this.options.id+"_header_table col:last").css("width",this.lastVisibleColumnWidth+"px"),$("#"+this.options.id+"_content_table col:last").css("width",this.lastVisibleColumnWidth+"px"),t=this.contentMinWidth}return $("#"+this.options.id+"_content_table").css("width",t+"px"),$("#"+this.options.id+"_noRows").css("width",t+"px"),t>this.contentMinWidth?($("#"+this.options.id+"_content_left_bottom").css("display","block"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",16)):($("#"+this.options.id+"_content_left_bottom").css("display","none"),$("#"+this.options.id+"_content_left_sum_bottom").css("bottom",0)),t},getColumnAttr:function(t,e){for(var i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i].options.field==e)return $(this.gridCompColumnArr[i].options).attr(t);return""},getColumnByField:function(t){for(var e=0;e<this.gridCompColumnArr.length;e++)if(this.gridCompColumnArr[e].options.field==t)return this.gridCompColumnArr[e];return null},getIndexOfColumn:function(t){for(var e=-1,i=0;i<this.gridCompColumnArr.length;i++)if(this.gridCompColumnArr[i]==t){e=i;break}return e},getVisibleIndexOfColumn:function(t){for(var e=-1,i=0,n=0;n<this.gridCompColumnArr.length;n++){if(this.gridCompColumnArr[n]==t){"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&(e=i);break}"none"!=$("#"+this.options.id+"_header").find("th").eq(n).css("display")&&i++}return e},getNextVisibleInidexOfColumn:function(t){for(var e=-1,i=!1,n=0,s=0;s<this.gridCompColumnArr.length;s++)if(this.gridCompColumnArr[s]!=t){if(1==i&&"none"!=$("#"+this.options.id+"_header").find("th").eq(s).css("display")){e=n;break}"none"!=$("#"+this.options.id+"_header").find("th").eq(s).css("display")&&n++}else i=!0;return e},headerFirstClassFun:function(){$("#"+this.options.id+"_grid .u-grid-header-th-first").removeClass("u-grid-header-th-first"),$("#"+this.options.id+"_grid").find("th").eq(0).addClass("u-grid-header-th-first")},isDblEvent:function(t,e,i,n,s){if(null!=this.currentEventName&&this.currentEventName==t)e.call(this,i),this.currentEventName=null,this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName);else{var o=this;this.cleanCurrEventName&&clearTimeout(this.cleanCurrEventName),this.currentEventName=t,this.cleanCurrEventName=setTimeout(function(){o.currentEventName=null,n.call(o,s)},500)}},dblClickFun:function(t){if("function"==typeof this.options.onDblClickFun){var e=$(t.target).closest("tr");if(e[0].id==this.options.id+"_edit_tr")return;var i=0;e.length>0&&(i=this.getTrIndex(e));var n={};n.gridObj=this,n.rowObj=this.dataSourceObj.rows[i],n.rowIndex=i,this.options.onDblClickFun(n)}},clickFun:function(t){var e=this,i=$(t.target),n=i.closest("td"),s=n.index();if(n.length>0){var o=n.parent(),a=this.getTrIndex(o),r=e.dataSourceObj.rows[a];if(r){var l=r.childRowIndex;if(i.hasClass("fa-minus-square-o")||i.hasClass("fa-plus-square-o")){var d=n.find(".fa-minus-square-o"),h=n.find(".fa-plus-square-o");if(d.length>0){if(d.removeClass("fa-minus-square-o").addClass("fa-plus-square-o"),l.length>0){var c=e.getAllChildRowIndex(r);$.each(c,function(){var t=$('tr[role="row"]:eq('+parseInt(this)+")",o.parent());t.css("display","none"),$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","none"),$(".fa-minus-square-o",t).removeClass("fa-minus-square-o").addClass("fa-plus-square-o")})}return void("form"==this.options.editType&&($("#"+this.options.id+"_multiSelect_edit").remove(null,!0),$("#"+this.options.id+"_numCol_edit").remove(null,!0),$("#"+this.options.id+"_edit_tr").remove(null,!0),$("#"+this.options.id+"_edit_tr1").remove(null,!0)))}if(h.length>0)return h.removeClass("fa-plus-square-o").addClass("fa-minus-square-o"),void(l.length>0&&$.each(l,function(){var t=$('tr[role="row"]:eq('+parseInt(this)+")",o.parent());t.css("display","");$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")")[0];$("#"+e.options.id+"_content_multiSelect >div:nth-child("+(parseInt(this)+1)+")").css("display","")}))}}}var o=$(t.target).closest("tr");if(!(o.length>0&&o[0].id==this.options.id+"_edit_tr")&&o.length>0){var a=this.getTrIndex(o),r=e.dataSourceObj.rows[a];if(r){if(e.options.rowClickBan)return;var l=r.childRowIndex;e.dataSourceObj.rows[a].focus&&e.options.cancelFocus?e.setRowUnFocus(a):e.dataSourceObj.rows[a].focus||e.setRowFocus(a),e.options.editable&&(e.eidtRowIndex!=a||"default"==e.options.editType&&e.editColIndex!=s)&&e.editRowFun(o,s)}}},setColumnVisibleByColumn:function(t,e){var i=this.getIndexOfColumn(t);this.setColumnVisibleByIndex(i,e)},setColumnVisibleByIndex:function(t,e){if(t>=0){var i=this.gridCompColumnArr[t],n=this.getVisibleIndexOfColumn(i);if(0==i.options.visible&&e){var s="<col";i.options.width&&(s+=' style="width:'+this.formatWidth(i.options.width)+'"'),s+=">",$("#"+this.options.id+"_header th:eq("+t+")").css("display",""),$("#"+this.options.id+"_content th:eq("+t+")").css("display",""),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","");var o=this.getNextVisibleInidexOfColumn(i);if(-1==o)try{$("#"+this.options.id+"_header col:last")[0].insertAdjacentHTML("afterEnd",s),$("#"+this.options.id+"_content col:last")[0].insertAdjacentHTML("afterEnd",s)}catch(a){$("#"+this.options.id+"_header col:last").after(s),$("#"+this.options.id+"_content col:last").after(s)}else try{$("#"+this.options.id+"_header col:eq("+o+")")[0].insertAdjacentHTML("beforeBegin",s),$("#"+this.options.id+"_content col:eq("+o+")")[0].insertAdjacentHTML("beforeBegin",s)}catch(a){$("#"+this.options.id+"_header col:eq("+o+")").before(s),$("#"+this.options.id+"_content col:eq("+o+")").before(s)}var r=this.contentWidth+i.options.width}if(1==i.options.visible&&!e){$("#"+this.options.id+"_header th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_header col:eq("+n+")").remove(),$("#"+this.options.id+"_content th:eq("+t+")").css("display","none"),$("#"+this.options.id+"_content col:eq("+n+")").remove(),$("td:eq("+t+")",$("#"+this.options.id+"_content tbody tr")).css("display","none");var r=this.contentWidth-i.options.width}i.options.visible=e,this.columnsVisibleFun();var l=this.contentWidthChange(r);this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.contentWidth=l,this.resetThVariable(),this.saveGridCompColumnArrToLocal()}},dragStart:function(t){this.dragFlag=!0,this.dragW=null,this.dragStartX=t.clientX},dragFun:function(t){if(this.dragFlag){var e=$("#"+this.options.id+"_resize_handle")[0].nowTh,i=$(e),n=i.attr("index"),s=this.gridCompColumnArr[n];if(nowVisibleThIndex=this.getVisibleIndexOfColumn(s),e&&s!=this.lastVisibleColumn){this.dragEndX=t.clientX;var o=this.dragEndX-this.dragStartX,a=e.attrWidth+o;cWidth=this.contentWidth+o,a>this.minColumnWidth&&(this.dragW=this.contentWidthChange(cWidth),$("#"+this.options.id+"_header_table col:eq("+nowVisibleThIndex+")").css("width",a+"px"),$("#"+this.options.id+"_content_table col:eq("+nowVisibleThIndex+")").css("width",a+"px"),s.options.width=a)}$("#"+this.options.id+"_top").css("display","block")}},dragEnd:function(t){this.dragFlag&&(this.resetThVariable(),this.saveGridCompColumnArrToLocal()),this.lastVisibleColumn.options.width=this.lastVisibleColumnWidth,this.dragW&&(this.contentWidth=this.dragW),$("#"+this.options.id+"_resize_handle")[0].nowTh=null,this.dragFlag=!1,$("#"+this.options.id+"_top").css("display","none")},headerThDrag:function(t,e){if(!this.dragFlag&&!this.swapColumnFlag&&e&&e.gridCompColumn&&e.gridCompColumn.options.canDrag&&$("#"+this.options.id+"_resize_handle")[0].nowTh!=e){$(e);$("#"+this.options.id+"_resize_handle").css("left",e.attrRightTotalWidth-this.scrollLeft-4+this.leftW+this.fixedWidth),$("#"+this.options.id+"_resize_handle")[0].nowTh=e}},swapColumnStart:function(t,e){this.canSwap&&(this.swapColumnEle=e,this.swapColumnStartX=t.clientX,this.swapColumnStartY=t.clientY)},swapColumnFun:function(t){if(this.canSwap){var e=this;if(this.swapColumnFlag){var i=this.swapColumnEle,n=$(i),s=i.gridCompColumn;if(0==$("#"+this.options.id+"_clue").length){var o=$('<div class="u-grid u-grid-header-drag-clue" id="'+this.options.id+'_clue" />').css({width:i.scrollWidth+"px",left:i.attrLeftTotalWidth-e.scrollLeft+e.leftW+e.fixedWidth+"px",top:"0px",paddingLeft:n.css("paddingLeft"),paddingRight:n.css("paddingRight"),lineHeight:n.height()+"px",paddingTop:n.css("paddingTop"),paddingBottom:n.css("paddingBottom")}).html(s.options.title||s.options.field).prepend('<span class="fa fa-ban u-grid-header-drag-status" />');$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",o[0]),o.on("mousemove",function(){t.stopPropagation()})}this.swapColumnEndX=t.clientX,this.swapColumnEndY=t.clientY;var a=this.swapColumnEndX-this.swapColumnStartX,r=this.swapColumnEndY-this.swapColumnStartY;if($("#"+this.options.id+"_clue").css({left:i.attrLeftTotalWidth+a-e.scrollLeft+e.leftW+e.fixedWidth+"px",top:r+"px"}),0==$("#"+this.options.id+"_swap_top").length){var o=$('<span class="fa fa-sort-desc u-grid-header-swap-tip-span"  id="'+this.options.id+'_swap_top"/>');o.css({top:n.height()-6+"px"});var l=$('<span class="fa fa-sort-asc u-grid-header-swap-tip-span" id="'+this.options.id+'_swap_down" />');l.css({top:"6px"}),$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",o[0]),$("#"+this.options.id)[0].insertAdjacentElement("afterBegin",l[0])}this.canSwap=!1,$("#"+this.options.id+"_header_table th").each(function(i){var n=$(this).offset().left,s=n+parseInt(this.attrWidth);if(0==i&&t.clientX<n)e.swapColumnEle!=this&&(e.swapToColumnEle="LeftEle",$("#"+e.options.id+"_swap_top").css({left:-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"}),$("#"+e.options.id+"_swap_down").css({left:-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"})),e.canSwap=!0;else if(n<t.clientX&&t.clientX<s&&e.swapColumnEle!=this&&parseInt($(this).attr("index"))+1!=parseInt($(e.swapColumnEle).attr("index")))return e.swapToColumnEle!=this&&(e.swapToColumnEle=this,$("#"+e.options.id+"_swap_top").css({left:this.attrRightTotalWidth-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"}),$("#"+e.options.id+"_swap_down").css({left:this.attrRightTotalWidth-e.scrollLeft-3+e.leftW+e.fixedWidth+"px",display:"block"})),e.canSwap=!0,!1}),this.canSwap?$(".u-grid-header-drag-status").removeClass("fa-ban").addClass("fa-plus-circle"):($("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none"),$(".u-grid-header-drag-status").removeClass("fa-plus-circle").addClass("fa-ban"),this.swapToColumnEle=null),$("#"+this.options.id+"_top").css("display","block")}}},swapColumnEnd:function(t){if(this.canSwap){if(this.swapColumnFlag){if(this.swapToColumnEle){var e=this.swapColumnEle,i=this.swapToColumnEle,n=$(e).attr("index"),s=$(i).attr("index"),o=this.gridCompColumnArr[n];this.gridCompColumnArr.splice(parseInt(s)+1,0,o),s>n?this.gridCompColumnArr.splice(n,1):this.gridCompColumnArr.splice(parseInt(n)+1,1),this.saveGridCompColumnArrToLocal(),this.repaintGridDivs()}$("#"+this.options.id+"_clue").remove(),$("#"+this.options.id+"_swap_top").css("display","none"),$("#"+this.options.id+"_swap_down").css("display","none")}this.swapColumnFlag=!1,$("#"+this.options.id+"_top").css("display","none")}},canSortable:function(t,e){var i=this,n=$(e),s=n.attr("field"),o=this.getColumnAttr("sortable",s);if(o){if(t.ctrlKey){var a=[];$(".u-grid-header-sort-priority").each(function(t,e){var i,n=$(e),s=parseInt(n.text()),o=n.closest("th").attr("field");n.parent().hasClass("fa-angle-up")?i="asc":n.parent().hasClass("fa-angle-down")&&(i="desc"),a[s-1]={field:o,sortType:i}});var r;if((r=n.find(".fa-angle-up")).length>0){var l=parseInt(r.find(".u-grid-header-sort-priority").text());a[l-1].sortType="desc",r.removeClass("fa-angle-up").addClass("fa-angle-down")}else if((r=n.find(".fa-angle-down")).length>0){for(var l=parseInt(r.find(".u-grid-header-sort-priority").text()),d=l;d<a.length;d++){var h=$("[field="+a[d].field+"]").find(".u-grid-header-sort-priority");h.text(parseInt(h.text())-1)}a.splice(l-1,1),r.remove()}else a.push({field:s,sortType:"asc"}),n.first().append('<span class="fa fa-angle-up u-grid-header-sort-span" ><span class="u-grid-header-sort-priority">'+a.length+"</span></span>");this.dataSourceObj.sortRowsByPrio(a)}else $(".fa-angle-up").parent().parent()[0]==e?($(".fa-angle-up").remove(),$(e.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-angle-down u-grid-header-sort-span" ><span class="u-grid-header-sort-priority">1</span></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(s,"asc"):this.dataSourceObj.sortRows(s,"asc")):$(".fa-angle-down").parent().parent()[0]==e?($(".fa-angle-down").remove(),"function"==typeof this.options.onSortFun?this.options.onSortFun():this.dataSourceObj.sortRows()):($(".fa-angle-up").remove(),$(".fa-angle-down").remove(),$(e.firstChild)[0].insertAdjacentHTML("beforeEnd",'<span class="fa fa-angle-up u-grid-header-sort-span"><span class="u-grid-header-sort-priority">1</span></span>'),"function"==typeof this.options.onSortFun?this.options.onSortFun(s,"desc"):this.dataSourceObj.sortRows(s,"desc"));i.repairContent(),i.afterGridDivsCreate()}},editRowFun:function(t,e){-1!=this.eidtRowIndex&&this.editClose();var i="number"==typeof t?t:this.getTrIndex(t);this.eidtRowIndex=i,this.editColIndex=e,this.editRow(t,e)},editRowIndexFun:function(t){-1!=this.eidtRowIndex&&this.editClose(),this.eidtRowIndex=t,this.editColIndex=0,this.editRow()},editRow:function(t,e){var i=this,n=!1;t&&t.parents("table").attr("id").indexOf("_fixed_")>-1&&(n=!0),t=t||$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+this.eidtRowIndex+")"),e=e||0;var s=this.dataSourceObj.rows[this.eidtRowIndex].value;if(this.editRowObj=this.cloneObj(s),"default"==this.options.editType){var o=n?this.gridCompColumnFixedArr[e]:this.gridCompColumnArr[e];if(o.options.editable){var a=$("td:eq("+e+")",t)[0],r=o.options.field,l=$(s).attr(r);l=i.getString(l,""),i.editCell(a,l,r,o.options.editType,i.editRowObj)}$("#"+this.options.id+"_content_edit_menu").css("display","block"),$("#"+this.options.id+"_content_edit_menu_cancel").css("marginLeft","10px");var d=$("tr:visible",t.parent()).index(t);this.rowHeight=t.height();this.rowHeight*(d+1)+this.headerHeight+1}else if("form"==this.options.editType)if("function"==typeof this.options.formEditRenderFun){if(this.fixedWidth>0)var h=$("#"+this.options.id+"_content_fixed_table")[0];else var h=$("#"+this.options.id+"_content_table")[0];var c=h.insertRow(this.eidtRowIndex+2);c.id=this.options.id+"_edit_tr";var u=c.insertCell();u.id=this.options.id+"_edit_td",u.style.borderBottom="0px";var p=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),f='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+p+'px;float:left;">';f+="</div>",u.innerHTML=f;var m={};m.grid=gridObj,m.element=$("#"+this.options.id+"_edit_form")[0],m.editRowObj=this.editRowObj,this.options.formEditRenderFun.call(this,m);var f='<div style="position:relative;float:left;width:100%;height:40px;"></div>';$("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",f);var v=$("#"+this.options.id+"_edit_td")[0].offsetHeight,g=$("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var _=$("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),f='<div class="grid_open_edit" id="'+this.options.id+'_multiSelect_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+v+'px"></div>';_[0].insertAdjacentHTML("afterEnd",f)}if(this.options.showNumCol){var _=$("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),f='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';_[0].insertAdjacentHTML("afterEnd",f)}if($("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var C=$("#"+this.options.id+"_content_table")[0],y=C.insertRow(this.eidtRowIndex+2);y.id=this.options.id+"_edit_tr1"}}else{if(this.fixedWidth>0)var h=$("#"+this.options.id+"_content_fixed_table")[0];else var h=$("#"+this.options.id+"_content_table")[0];var c=h.insertRow(this.eidtRowIndex+2);c.id=this.options.id+"_edit_tr";var u=c.insertCell();u.id=this.options.id+"_edit_td",u.style.borderBottom="0px";var p=parseInt(this.contentMinWidth)+parseInt(this.fixedWidth),f='<div id="'+this.options.id+'_edit_form" class="u-grid-edit-form" style="width:'+p+'px;float:left;">';if($.each(this.gridCompColumnFixedArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var n=this.options.field,o=$(s).attr(n);o=i.getString(o,"");var a=this.options.title;f+=i.formEditCell(o,n,a,this.options.required)}}),$.each(this.gridCompColumnArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var n=this.options.field,o=$(s).attr(n);o=i.getString(o,"");var a=this.options.title;f+=i.formEditCell(o,n,a,this.options.required)}}),f+="</div>",u.innerHTML=f,$.each(this.gridCompColumnFixedArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var n=this.options.field,o=$("#"+i.options.id+"_edit_"+n)[0],a=$(s).attr(n);this.options.title;a=i.getString(a,""),f+=i.editCell(o,a,n,this.options.editType,i.editRowObj)}}),$.each(this.gridCompColumnArr,function(t){var e=!1;if(this.options.editFormShow&&(this.options.editable||!this.options.editable&&i.options.noneEditableFormShow)&&(e=!0),e){var n=this.options.field,o=$("#"+i.options.id+"_edit_"+n)[0],a=$(s).attr(n);this.options.title;a=i.getString(a,""),f+=i.editCell(o,a,n,this.options.editType,i.editRowObj)}}),"function"==typeof this.options.renderEditMemu)this.options.renderEditMemu.apply(this,[$("#"+this.options.id+"_edit_form")[0],this.eidtRowIndex,this.dataSourceObj.rows.length]);else{var f='<div id="'+this.options.id+'_content_edit_menu" style="position:relative;float:left;width:100%;height:40px;"><button type="button" class="u-grid-content-edit-menu-button u-grid-content-edit-menu-button-ok" id="'+this.options.id+'_content_edit_menu_close">'+this.transMap.ml_close+"</button></div>";$("#"+this.options.id+"_edit_form")[0].insertAdjacentHTML("beforeEnd",f),$("#"+this.options.id+"_content_edit_menu_close").on("click",function(t){i.editClose()})}var v=$("#"+this.options.id+"_edit_td")[0].offsetHeight,g=$("#"+this.options.id+"_edit_form").css("background-color");if(this.options.multiSelect){var _=$("#"+this.options.id+"_content_multiSelect > div").eq(this.eidtRowIndex),f='<div class="grid_open_edit " id="'+this.options.id+'_multiSelect_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.multiSelectWidth+"px;height:"+v+'px"></div>';_[0].insertAdjacentHTML("afterEnd",f)}if(this.options.showNumCol){var _=$("#"+this.options.id+"_content_numCol > .u-grid-content-num").eq(this.eidtRowIndex),f='<div id="'+this.options.id+'_numCol_edit" style="background-color:'+g+";float:left;position:relative;width:"+this.numWidth+'px;"></div>';_[0].insertAdjacentHTML("afterEnd",f)}if($("#"+this.options.id+"_content_edit_menu").css("display","block"),this.fixedWidth>0){var C=$("#"+this.options.id+"_content_table")[0],y=C.insertRow(this.eidtRowIndex+2);y.id=this.options.id+"_edit_tr1"}}},editClose:function(){var t=this.dataSourceObj.rows[this.eidtRowIndex];t&&("form"!=this.options.editType&&this.repaintRow(this.eidtRowIndex),$("#"+this.options.id+"_content_edit_menu").css("display","none"),this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag(),this.eidtRowIndex=-1,"form"==this.options.editType&&($("#"+this.options.id+"_multiSelect_edit").remove(null,!0),$("#"+this.options.id+"_numCol_edit").remove(null,!0),$("#"+this.options.id+"_edit_tr").remove(null,!0),$("#"+this.options.id+"_edit_tr1").remove(null,!0)))},editCell:function(t,e,i,n,s){var o=this;if("text"==n)"default"==this.options.editType?t.innerHTML='<input id="'+this.options.id+"_edit_field_"+i+'" type="text" value="'+e+'" field="'+i+'" style="width:100%;margin:0px;min-height:20px;font-size:12px;color:#444">':t.innerHTML='<input id="'+this.options.id+"_edit_field_"+i+'" type="text" value="'+e+'" field="'+i+'">',$("input",$(t)).on("blur",function(){o.editValueChange(i,this.value)});else if("function"==typeof n){var a={};a.gridObj=this,a.element=t,a.value=e,a.field=i,a.rowObj=s,n.call(this,a)}"default"==this.options.editType&&$("input",$(t)).focus()},editValueChange:function(t,e){this.updateValueAt(this.eidtRowIndex,t,e)},formEditCell:function(t,e,i,n){var s=i+"";s.lengthb()>28&&(s=s.substrCH(26)+"...");var o='<div class="u-grid-edit-whole-div"><div class="u-grid-edit-label"><div title="'+i+'">'+s+'<span style="color:red;'+(n?"":"display: none")+'" class="u-grid-edit-mustFlag">*</span></div></div>';return o+='<div id="'+this.options.id+"_edit_"+e+'" class="u-grid-edit-div"></div>',o+="</div>"},getLocalData:function(){return null;var t},saveLocalData:function(){return null},clearLocalData:function(){return null},saveGridCompColumnArrToLocal:function(){return null},getGridCompColumnArrFromLocal:function(){return null},formatWidth:function(t){return t?(t+"").indexOf("%")>0?t:parseInt(t)+"px":""},swapEle:function(t,e){var i=t.next(),n=e.prev();e.insertBefore(i),t.insertAfter(n)},getString:function(t,e){return null!==t&&t!==undefined&&"null"!==t&&"undefined"!==t&&""!==t||(t=e),iweb.browser.isIE8?[t].join(""):t+""},getInt:function(t,e){return(null===t||t===undefined||"null"===t||"undefined"===t||""===t||Number.isNaN(t))&&(t=e),t},getFloat:function(t,e){return(null===t||t===undefined||"null"===t||"undefined"===t||""===t||Number.isNaN(t))&&(t=e),t},cloneObj:function(t){var e;if("object"==typeof t)if(null===t)e=null;else if(t instanceof Array){e=[];for(var i=0,n=t.length;n>i;i++)e.push(this.cloneObj(t[i]))}else{e={};for(var s in t)e[s]=this.cloneObj(t[s])}else e=t;return e},DicimalFormater:function(t){for(var e=t.value+"",i=t.precision,n=0;n<e.length;n++)if(-1=="-0123456789.".indexOf(e.charAt(n)))return"";return this.checkDicimalInvalid(e,i)},checkDicimalInvalid:function(t,e){if(null==t||isNaN(t))return"";var i=parseFloat(t),n=(i*Math.pow(10,e)/Math.pow(10,e)).toFixed(e);return"NaN"==n?"":n},accAdd:function(t,e){var i,n,s;try{i=t.toString().split(".")[1].length}catch(o){i=0}try{n=e.toString().split(".")[1].length}catch(o){n=0}return s=Math.pow(10,Math.max(i,n)),(t*s+e*s)/s},getTrIndex:function(t){return $('tr[id!="'+this.options.id+'_edit_tr"]',t.parent()).index(t)},setDataSource:function(t){this.initDataSourceVariable(),this.options.dataSource=t,this.initDataSource(),this.repairContent(),this.afterGridDivsCreate()},setDataSourceFun1:function(t){var e={};if(t.values){var i=new Array;$.each(t.values,function(){if(t.fields){var e={},n=this;$.each(t.fields,function(t){$(e).attr(this,n[t])}),i.push(e)}})}$(e).attr("values",i),this.setDataSource(e)},addOneRow:function(t,e){var i=this,n="none",s={};s.value=t;var o,a=0,r=this.dataSourceObj.rows.length,l=!1;if("grid"==this.showType){if(-1!=this.eidtRowIndex&&this.editClose(),this.options.showTree){var d=!1,h=!1,c=this.options.keyField,u=this.options.parentKeyField,p=this.getString($(t).attr(c),""),f=this.getString($(t).attr(u),"");$.each(this.dataSourceObj.rows,function(t){var n=this.value,r=i.getString($(n).attr(c),""),l=i.getString($(n).attr(u),"");if(r==f){d=!0,o=t,a=this.childRowIndex.length;var m=this.level;s.level=m+1,e=o+1,this.allChildRowIndex=new Array}l==p&&(h=!0)}),d||(s.level=0,e!=r&&(e=0))}if(0!=e&&(e&&e>0?e>r&&(e=r):e=0),r==e&&(l=!0),s.valueIndex=e,this.dataSourceObj.rows.splice(e,0,s),this.updateEditRowIndex("+",e),this.dataSourceObj.rows.length>e+1&&$.each(this.dataSourceObj.rows,function(t){t>e&&(this.valueIndex=this.valueIndex+1)}),d){var m=$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]').eq(o);if(a>0){var v=$(".fa-plus-square-o",m);v.length>0||(n="block")}else{n="block";var g=$("div:visible:eq(0)",m),v=$(".fa-plus-square-o",m),_=$(".fa-minus-square-o",m),C='<span class="fa u-grid-content-tree-span fa-minus-square-o"></span>';if(g.length>0&&0==v.length&&0==_.length){g[0].insertAdjacentHTML("afterBegin",C);var y=parseInt(g[0].style.left);r=y-16,(r>0||0==r)&&(g[0].style.left=r+"px")}v.length>0&&v.removeClass("fa-plus-square-o").addClass("fa-minus-square-o")}}try{var b=this.createContentOneRow(s,"normal",n);l?$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",b):$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",b):$("#"+this.options.id+"_content_div tbody")[0]&&$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",b);var b=this.createContentOneRow(s,"fixed",n);l?$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",b):$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",b):$("#"+this.options.id+"_content_fixed_div tbody")[0]&&$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",b)}catch(w){var x=$("#"+this.options.id+"_content_div table")[0];x&&this.createContentOneRowForIE(x,e,s,"normal",n);var S=$("#"+this.options.id+"_content_fixed_div table")[0];S&&this.createContentOneRowForIE(S,e,s,"fixed",n)}if(this.options.multiSelect){var b=this.createContentLeftMultiSelectRow(s,n);l?$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",b):$("#"+this.options.id+"_content_multiSelect").find("div")[e]?$("#"+this.options.id+"_content_multiSelect").find("div")[e].insertAdjacentHTML("beforeBegin",b):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",b)}if(this.options.showNumCol){var b=this.createContentLeftNumColRow(r);l?$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",b):$("#"+this.options.id+"_content_numCol").find("div")[e]?$("#"+this.options.id+"_content_numCol").find("div")[e].insertAdjacentHTML("beforeBegin",b):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",b),this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun(),this.updateLastRowFlag();var k={};k.begin=e,k.length=1,this.renderTypeFun(k)}var r=0;this.options.showTree?(this.dataSourceObj.options.values?r=this.dataSourceObj.options.values.length:this.dataSourceObj.options.values=new Array,this.dataSourceObj.options.values.splice(e,0,t),this.dataSourceObj.sortRows(),h&&this.repairContent()):(this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),this.dataSourceObj.options.values.splice(e,0,t))},addRows:function(t,e){if(this.options.showTree)for(var i=t.length,n=i-1;n>-1;n--)this.addOneRow(t[n],e);else{-1!=this.eidtRowIndex&&this.editClose();var s="",o="",a="",r="",l=this,i=this.dataSourceObj.rows.length,d=!1;0!=e&&(e&&e>0?e>i&&(e=i):e=0),i==e&&(d=!0);var h=new Array;if($.each(t,function(t){var i={};i.value=this,i.valueIndex=e+t,h.push(i),l.dataSourceObj.rows.splice(e+t,0,i),l.updateEditRowIndex("+",e+t)}),this.dataSourceObj.rows.length>e+t.length&&$.each(this.dataSourceObj.rows,function(i){i>e+t.length-1&&(this.valueIndex=this.valueIndex+t.length)}),"grid"==this.showType&&$("#"+this.options.id+"_content_div tbody")[0]){$.each(h,function(t){s+=l.createContentOneRow(this),r+=l.createContentOneRow(this,"fixed"),l.options.multiSelect&&(o+=l.createContentLeftMultiSelectRow(this)),l.options.showNumCol&&(a+=l.createContentLeftNumColRow(i+t))});try{d?$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("beforeEnd",s):$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",s):$("#"+this.options.id+"_content_div tbody")[0]&&$("#"+this.options.id+"_content_div tbody")[0].insertAdjacentHTML("afterBegin",s),d?$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("beforeEnd",r):$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e]?$("#"+this.options.id+"_content_fixed_div").find("tbody").find('tr[role="row"]')[e].insertAdjacentHTML("beforeBegin",r):$("#"+this.options.id+"_content_fixed_div tbody")[0]&&$("#"+this.options.id+"_content_fixed_div tbody")[0].insertAdjacentHTML("afterBegin",r)}catch(c){var u=$("#"+this.options.id+"_content_div table")[0],p=$("#"+this.options.id+"_content_fixed_div table")[0];u&&p&&$.each(h,function(t){l.createContentOneRowForIE(u,e+t,this),l.createContentOneRowForIE(p,e+t,this,"fixed")})}if(this.options.multiSelect)if(d)$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("beforeEnd",o);else{var f=$("#"+this.options.id+"_content_multiSelect").find("div")[e];f?f.insertAdjacentHTML("beforeBegin",o):$("#"+this.options.id+"_content_multiSelect")[0].insertAdjacentHTML("afterBegin",o)}if(this.options.showNumCol){if(d)$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("beforeEnd",a);else{var f=$("#"+this.options.id+"_content_numCol").find("div")[e];f?f.insertAdjacentHTML("beforeBegin",a):$("#"+this.options.id+"_content_numCol")[0].insertAdjacentHTML("afterBegin",a)}this.resetNumCol(),this.updateNumColLastRowFlag()}this.repairSumRow(),this.noRowsShowFun();var m={};m.begin=e,m.length=t.length,this.renderTypeFun(m)}this.dataSourceObj.options.values||(this.dataSourceObj.options.values=new Array),$.each(t,function(t){l.dataSourceObj.options.values.splice(e+t,0,this)}),this.updateLastRowFlag()}},updateEditRowIndex:function(t,e,i){this.eidtRowIndex<0||("-"==t?e<this.eidtRowIndex?this.eidtRowIndex--:e==this.eidtRowIndex&&(this.eidtRowIndex=-1):"+"==t&&(i===undefined&&(i=1),e<=this.eidtRowIndex&&(this.eidtRowIndex+=i)))},deleteOneRow:function(t){var e=this;t=parseInt(t);var i=this.dataSourceObj.rows[t];if(i){var n=i.value;if("grid"==this.showType&&-1!=this.eidtRowIndex&&this.editClose(),this.dataSourceObj.rows.splice(t,1),this.updateEditRowIndex("-",t),this.selectRows&&$.each(this.selectRows,function(i){this==n?(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1)):e.selectRowsIndex[i]>t&&(e.selectRowsIndex[i]=e.selectRowsIndex[i]-1)}),this.focusRow&&(this.focusRow==n?(this.focusRow=null,
this.focusRowObj=null,this.focusRowIndex=null):this.focusRowIndex>t&&(this.focusRowIndex=this.focusRowIndex-1)),"grid"==this.showType&&($("#"+this.options.id+"_content_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_fixed_div tbody tr:eq("+t+")").remove(),$("#"+this.options.id+"_content_multiSelect >div:eq("+t+")").remove(),$("#"+this.options.id+"_content_numCol >.u-grid-content-num:eq("+t+")").remove(),this.resetNumCol(),this.repairSumRow(),this.noRowsShowFun(),this.updateNumColLastRowFlag()),this.dataSourceObj.options.values){var s=this.dataSourceObj.options.values.indexOf(n);this.dataSourceObj.options.values.splice(s,1)}if(this.options.showTree&&this.dataSourceObj.sortRows(),"function"==typeof this.options.onRowDelete){var o={};if(o.gridObj=this,o.index=t,!this.options.onRowDelete(t))return}}},deleteRows:function(t){var e=this,i=new Array;$.each(t,function(e){i.push(t[e])}),i.sort(function(t,e){return e-t}),$.each(i,function(t){e.deleteOneRow(this)})},updateRow:function(t,e){if(this.dataSourceObj.rows[t].value=e,this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]=e,"grid"==this.showType){var i={};i.begin=t,i.length=1,this.renderTypeFun(i),this.repairSumRow()}},updateValueAt:function(t,e,i,n){var s=$(this.dataSourceObj.rows[t].value).attr(e);if(s!=i||n){if($(this.dataSourceObj.rows[t].value).attr(e,i),$(this.dataSourceObj.options.values[this.dataSourceObj.rows[t].valueIndex]).attr(e,i),"grid"==this.showType){var o={};o.field=e,o.begin=t,o.length=1,this.renderTypeFun(o),this.editColIndex=undefined,this.eidtRowIndex==t&&$("#"+this.options.id+"_edit_field_"+e).length>0&&("checkbox"==$("#"+this.options.id+"_edit_field_"+e)[0].type?"Y"==i||"true"==i?$("#"+this.options.id+"_edit_field_"+e)[0].checked=!0:$("#"+this.options.id+"_edit_field_"+e)[0].checked=!1:$("#"+this.options.id+"_edit_field_"+e)[0].value=i),this.repairSumRow()}if("function"==typeof this.options.onValueChange){var o={};o.gridObj=this,o.rowIndex=t,o.field=e,o.oldValue=s,o.newValue=i,this.options.onValueChange(o)}}},setRowSelect:function(t,e){var i,n,s,o;if(!this.dataSourceObj.rows[t])return!0;if(this.dataSourceObj.rows[t].checked)return!0;if(i=e&&e.multiSelectDivs?e.multiSelectDivs[t]:this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[t],"function"==typeof this.options.onBeforeRowSelected){var a={};if(a.gridObj=this,a.rowObj=this.dataSourceObj.rows[t],a.rowIndex=t,!this.options.onBeforeRowSelected(a)){if(this.options.multiSelect){var r=i.children[0];r.checked=!1}return!1}}if(this.options.multiSelect){if("grid"==this.showType){var r=i.children[0];r.checked=!0}}else this.selectRowsObj&&this.selectRowsObj.length>0&&$.each(this.selectRowsObj,function(){this.checked=!1}),this.selectRows=new Array,this.selectRowsObj=new Array,this.selectRowsIndex=new Array,"grid"==this.showType&&($("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect div").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol div").removeClass("u-grid-content-sel-row"));if("grid"==this.showType){n=e&&e.contentTrs?e.contentTrs[t]:this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]')[t],$(n).addClass("u-grid-content-sel-row"),s=e&&e.fixContentTrs?e.fixContentTrs[t]:this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]')[t],$(s).addClass("u-grid-content-sel-row");var l=t;this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&l++,this.options.multiSelect&&(l!=t&&(i=this.$ele.find("#"+this.options.id+"_content_multiSelect").children()[l]),$(i).addClass("u-grid-content-sel-row")),this.options.showNumCol&&(o=e&&e.numColDivs?e.numColDivs[l]:this.$ele.find("#"+this.options.id+"_content_numCol").children()[l],$(o).addClass("u-grid-content-sel-row"))}if(this.selectRows.push(this.dataSourceObj.rows[t].value),this.selectRowsObj.push(this.dataSourceObj.rows[t]),this.selectRowsIndex.push(t),this.dataSourceObj.rows[t].checked=!0,"function"==typeof this.options.onRowSelected){var a={};a.gridObj=this,a.rowObj=this.dataSourceObj.rows[t],a.rowIndex=t,this.options.onRowSelected(a)}return!0},setRowUnselect:function(t){var e=this;if(!this.dataSourceObj.rows[t])return!0;if(!this.dataSourceObj.rows[t].checked)return!0;if("function"==typeof this.options.onBeforeRowUnSelected){var i={};if(i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,!this.options.onBeforeRowUnSelected(i))return this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect input:eq("+t+")")[0].checked=!0),!1}this.options.multiSelect&&($("#"+this.options.id+"_content_multiSelect input:eq("+t+")")[0].checked=!1);var n=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&n++,$("#"+this.options.id+"_content_tbody tr:eq("+n+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_tbody tr:eq("+n+") a").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+n+")").removeClass("u-grid-content-sel-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+n+") a").removeClass("u-grid-content-sel-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+n+")").removeClass("u-grid-content-sel-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+n+")").removeClass("u-grid-content-sel-row"),$.each(this.selectRows,function(i){this==e.dataSourceObj.rows[t].value&&(e.selectRows.splice(i,1),e.selectRowsObj.splice(i,1),e.selectRowsIndex.splice(i,1))}),this.dataSourceObj.rows[t].checked=!1,"function"==typeof this.options.onRowUnSelected){var i={};i.gridObj=this,i.rowObj=this.dataSourceObj.rows[t],i.rowIndex=t,this.options.onRowUnSelected(i)}return!0},setAllRowSelect:function(){if($("#"+this.options.id+"_header_multi_input").prop("checked",!0),"function"==typeof this.options.onBeforeAllRowSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowSelected(t))return}var e=this.$ele.find("#"+this.options.id+"_content_multiSelect").children(),i=this.$ele.find("#"+this.options.id+"_content_numCol").children(),n=this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]'),s=this.$ele.find("#"+this.options.id+'_content_fixed_tbody tr[role="row"]');this.$ele.find("#"+this.options.id+'_content_tbody tr[role="row"]');for(var o=0;o<this.dataSourceObj.rows.length;o++)this.setRowSelect(o,{multiSelectDivs:e,numColDivs:i,contentTrs:n,fixContentTrs:s});if("function"==typeof this.options.onAllRowSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowSelected(t)}},setAllRowUnSelect:function(){if($("#"+this.options.id+"_header_multi_input").attr("checked",!1),"function"==typeof this.options.onBeforeAllRowUnSelected){var t={};if(t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,!this.options.onBeforeAllRowUnSelected(t))return}for(var e=0;e<this.dataSourceObj.rows.length;e++)this.setRowUnselect(e);if("function"==typeof this.options.onAllRowUnSelected){var t={};t.gridObj=this,t.rowObjs=this.dataSourceObj.rows,this.options.onAllRowUnSelected(t)}},getSelectRows:function(){return this.selectRows},getSelectRowsIndex:function(){return this.selectRowsIndex},setRowFocus:function(t){if(this.dataSourceObj.rows[t].focus)return!0;if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowFocus(e))return!1}$("#"+this.options.id+"_content_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect").find("div").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol").find("div").removeClass("u-grid-content-focus-row"),this.focusRowObj&&(this.focusRowObj.focus=!1),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+")").addClass("u-grid-content-focus-row"),$("#"+this.options.id+'_content_fixed_tbody tr[role="row"]:eq('+t+") a").addClass("u-grid-content-focus-row");var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").addClass("u-grid-content-focus-row"),this.focusRow=this.dataSourceObj.rows[t].value,this.focusRowObj=this.dataSourceObj.rows[t],this.focusRowIndex=t,this.dataSourceObj.rows[t].focus=!0,"function"==typeof this.options.onRowFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowFocus(e)}return this.options.multiSelect||this.setRowSelect(t),!0},setRowUnFocus:function(t){if(!this.dataSourceObj.rows[t])return!0;if("function"==typeof this.options.onBeforeRowUnFocus){var e={};if(e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,!this.options.onBeforeRowUnFocus(e))return!1}if(!this.dataSourceObj.rows[t].focus)return!0;var i=t;if(this.eidtRowIndex>-1&&this.eidtRowIndex<t&&"form"==this.options.editType&&i++,$("#"+this.options.id+"_content_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+")").removeClass("u-grid-content-focus-row"),$("#"+this.options.id+"_content_fixed_tbody tr:eq("+i+") a").removeClass("u-grid-content-focus-row"),this.options.multiSelect&&$("#"+this.options.id+"_content_multiSelect >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.options.showNumCol&&$("#"+this.options.id+"_content_numCol >div:eq("+i+")").removeClass("u-grid-content-focus-row"),this.dataSourceObj.rows[t].focus=!1,this.focusRow=null,this.focusRowObj=null,this.focusRowIndex=null,"function"==typeof this.options.onRowUnFocus){var e={};e.gridObj=this,e.rowObj=this.dataSourceObj.rows[t],e.rowIndex=t,this.options.onRowUnFocus(e)}return this.options.multiSelect||this.setRowUnselect(t),!0},resetNumCol:function(){var t=$("#"+this.options.id+"_content_numCol >.u-grid-content-num");$.each(t,function(t){this.innerHTML=t+1+""})},getFocusRow:function(){return this.focusRow},getFocusRowIndex:function(){return this.focusRowIndex},getAllRows:function(){var t=this;return this.allRows=new Array,this.dataSourceObj.rows&&$.each(this.dataSourceObj.rows,function(){t.allRows.push(this.value)}),this.allRows},getRowByIndex:function(t){return this.dataSourceObj.rows[t]},getRowIndexByValue:function(t,e){var i=-1;return $.each(this.dataSourceObj.rows,function(n){var s=$(this.value).attr(t);s==e&&(i=n)}),i},getAllChildRow:function(t){return t.allChildRow&&t.allChildRow.length>0?t.allChildRow:(t.allChildRow=new Array,this.getAllChildRowFun(t,t.allChildRow),t.allChildRow)},getAllChildRowIndex:function(t){return t.allChildRowIndex&&t.allChildRowIndex.length>0?t.allChildRowIndex:(t.allChildRowIndex=new Array,this.getAllChildRowIndexFun(t,t.allChildRowIndex),t.allChildRowIndex)},getAllChildRowFun:function(t,e){var i=this;t.childRow.length>0&&(Array.prototype.push.apply(e,t.childRow),$.each(t.childRow,function(){i.getAllChildRowFun(this,e)}))},getAllChildRowIndexFun:function(t,e){var i=this;t.childRowIndex.length>0&&(Array.prototype.push.apply(e,t.childRowIndex),$.each(t.childRow,function(){i.getAllChildRowIndexFun(this,e)}))},setRenderType:function(t,e){var i=this.getColumnByField(t);i.options.renderType=e;var n=this.getIndexOfColumn(i);this.renderTypeByColumn(i,n)},setEditType:function(t,e){var i=this.getColumnByField(t);i.options.editType=e},setEditable:function(t){this.options.editable=t},setShowHeader:function(t){this.options.showHeader=t,t?$("#"+this.options.id+"_header").css("display","block"):$("#"+this.options.id+"_header").css("display","none")},setColumnPrecision:function(t,e){var i=this.getColumnByField(t);i.options.precision=e,this.renderTypeFun(),this.options.showSumRow&&this.repairSumRow()},setMultiSelect:function(t){var e=this.options.multiSelect;e!=t&&(this.options.multiSelect=t,this.initGrid())},setShowNumCol:function(t){var e=this.options.showNumCol;e!=t&&(this.options.showNumCol=t,this.initGrid())},isGridShow:function(){return"grid"==this.showType}},dataSource.prototype={sortRows:function(t,e){this.gridComp.options.showTree?this.treeSortRows(t,e):this.basicSortRows(t,e),this.gridComp.eidtRowIndex=-1},sortRowsByPrio:function(prioArray,cancelSort){var oThis=this;cancelSort&&(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,oThis.rows.push(e)}));var evalStr=function(t){return t==prioArray.length-1?"by(prioArray["+t+"].field, prioArray["+t+"].sortType)":"by(prioArray["+t+"].field, prioArray["+t+"].sortType,"+evalStr(t+1)+")"},by=function(t,e,i){arguments.callee;return function(n,s){var o=$(n.value).attr(t),a=$(s.value).attr(t),r=oThis.gridComp.getColumnByField(t).options.dataType;if("Float"==r)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o==a&&i?i():"asc"==e?o-a:a-o;if("Int"==r)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o==a&&i?i():"asc"==e?o-a:a-o;o=oThis.gridComp.getString(o,""),a=oThis.gridComp.getString(a,"");try{var l=o.localeCompare(a);return 0===l&&i?i():0===l?0:"asc"==e?l:-l}catch(d){return 0}}};this.rows.sort(eval(evalStr(0)))},basicSortRows:function(t,e){var i=this,n="";t&&(n=this.gridComp.getColumnByField(t).options.dataType),"asc"==e?this.rows.sort(function(e,s){var o=$(s.value).attr(t),a=$(e.value).attr(t);if("Float"==n)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o-a;if("Int"==n)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o-a;o=i.gridComp.getString(o,""),a=i.gridComp.getString(a,"");try{return o.localeCompare(a)}catch(r){return 0}}):"desc"==e?this.rows.sort(function(e,s){var o=$(e.value).attr(t),a=$(s.value).attr(t);if("Float"==n)return o=parseFloat(o),a=parseFloat(a),isNaN(o)?1:isNaN(a)?-1:o-a;if("Int"==n)return o=parseInt(o),a=parseInt(a),isNaN(o)?1:isNaN(a)?-1:o-a;o=i.gridComp.getString(o,""),a=i.gridComp.getString(a,"");try{return o.localeCompare(a)}catch(r){return 0}}):(this.rows=new Array,this.options.values&&$.each(this.options.values,function(t){var e={};e.value=this,e.valueIndex=t,i.rows.push(e)}))},treeSortRows:function(t,e){var i=this;if(this.rows=new Array,this.hasParentRows=new Array,this.nothasParentRows=new Array,this.options.values){$.each(this.options.values,function(t){var e={},n=$(this),s=i.gridComp.options.keyField,o=i.gridComp.options.parentKeyField,a=i.gridComp.getString(n.attr(s),""),r=i.gridComp.getString(n.attr(o),"");e.valueIndex=t,e.value=this,e.keyValue=a,e.parentKeyValue=r,""==r?i.nothasParentRows.push(e):i.hasParentRows.push(e),i.rows.push(e)}),$.each(this.hasParentRows,function(t){var e=this.parentKeyValue,n=!1;$.each(i.rows,function(){this.keyValue==e&&(n=!0)}),n||(i.hasParentRows.splice(t,0),i.nothasParentRows.push(this))}),i.rows=new Array;var n=0;$.each(this.nothasParentRows,function(t){this.level=n,i.rows.push(this),i.pushChildRows(this,n)})}},pushChildRows:function(t,e){var i=t.keyValue,n=this,s=parseInt(e)+1,o=!1,a=new Array,r=new Array;$.each(this.hasParentRows,function(t){if(this&&this.parentKeyValue==i){o=!0,this.level=s,n.rows.push(this),a.push(this);var e=parseInt(n.rows.length-1);r.push(e),n.hasParentRows.splice(t,0),n.pushChildRows(this,s)}}),t.hasChild=o,t.childRow=a,t.childRowIndex=r},getSumValue:function(t,e,i){var n=null;if(e.options.sumCol&&$.each(this.rows,function(s){var o=$(this.value).attr(t);"Int"==e.options.dataType?(o=i.getInt(o,0),n+=parseInt(o)):(o=i.getFloat(o,0),n=i.accAdd(n,parseFloat(o)))}),"Float"==e.options.dataType&&e.options.precision){var s={};s.value=n,s.precision=e.options.precision,n=i.DicimalFormater(s)}return null!=n&&n!=undefined&&"null"!=n&&"undefined"!=n?n+"":""}};var old=$.fn.grid;$.fn.grid=function(t){var e=$(this).data("gridComp");return e||$(this).data("gridComp",e=new gridComp(this,t)),e},$.fn.grid.noConflict=function(){return $.fn.grid=old,this}}(jQuery,window,document),+function(t){function e(e,i){var n=this;if(this.$element=e,this.validates=[],i&&i.single&&1==i.single)this.createValidate(this.$element,i);else if(this.$element.children().length>0){var s=this.$element.find("[valid-type], [required]");s.each(function(){var e=t(this);n.createValidate(e,i,s)})}else this.createValidate(this.$element,i);return this}var i=function(e,n,s){this.$element=e,this.$form=s,this.options=n,this.required=!1,this.timeout=null,this.required=this.options.required?this.options.required:!!this.$element.attr("required"),this.validType=this.options.validType?this.options.validType:this.$element.attr("valid-type")?this.$element.attr("valid-type"):null,this.validMode=this.options.validMode?this.options.validMode:this.$element.attr("valid-mode")?this.$element.attr("valid-mode"):i.DEFAULTS.validMode,this.nullMsg=this.options.nullMsg?this.options.nullMsg:this.$element.attr("null-msg")?this.$element.attr("null-msg"):i.NULLMSG[this.validType],this.required&&!this.nullMsg&&(this.nullMsg=i.NULLMSG.required),this.errorMsg=this.options.errorMsg?this.options.errorMsg:t(e).attr("error-msg")?this.$element.attr("error-msg"):i.ERRORMSG[this.validType],this.regExp=this.options.reg?this.options.reg:t(e).attr("reg")?this.$element.attr("reg"):i.REG[this.validType],this.tipId=this.options.tipId?this.options.tipId:t(e).attr("tip-id")?this.$element.attr("tip-id"):null,this.placement=this.options.placement?this.options.placement:t(e).attr("placement")?this.$element.attr("placement"):i.DEFAULTS.placement,this.minLength=this.options.minLength>0?this.options.minLength:t(e).attr("min-length")?this.$element.attr("min-length"):null,this.maxLength=this.options.maxLength>0?this.options.maxLength:t(e).attr("max-length")?this.$element.attr("max-length"):null,this.min=void 0!==this.options.min?this.options.min:void 0!==t(e).attr("min")?this.$element.attr("min"):null,this.max=void 0!==this.options.max?this.options.max:void 0!==t(e).attr("max")?this.$element.attr("max"):null,this.minNotEq=void 0!==this.options.minNotEq?this.options.minNotEq:void 0!==t(e).attr("minNotEq")?this.$element.attr("minNotEq"):null,this.maxNotEq=void 0!==this.options.maxNotEq?this.options.maxNotEq:void 0!==t(e).attr("maxNotEq")?this.$element.attr("maxNotEq"):null,this.min=t.isNumeric(this.min)?this.min:null,this.max=t.isNumeric(this.max)?this.max:null,this.minNotEq=t.isNumeric(this.minNotEq)?this.minNotEq:null,this.maxNotEq=t.isNumeric(this.maxNotEq)?this.maxNotEq:null,this.validateCallBack=this.options.validateCallBack,this.midValidateCallBack=this.options.midValidateCallBack,this.create()};i.tipTemplate='<div class="tooltip" role="tooltip"><div class="tooltip-arrow tooltip-arrow-c"></div><div class="tooltip-arrow"></div><div class="tooltip-inner" style="color:#ed7103;border:1px solid #ed7103;background-color:#fff7f0;"></div></div>',i.NULLMSG={required:trans("validate.required","不能为空！"),integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","请填写邮政编码！"),phone:trans("validate.phone","请填写手机号码！"),email:trans("validate.email","请填写邮箱地址！"),url:trans("validate.url","请填写网址！"),datetime:trans("validate.datetime","请填写日期！")},i.ERRORMSG={integer:trans("validate.integer","请填写整数！"),"float":trans("validate.float","请填写数字！"),zipCode:trans("validate.zipCode","邮政编码格式不对！"),phone:trans("validate.phone","手机号码格式不对！"),email:trans("validate.email","邮箱地址格式不对！"),url:trans("validate.url","网址格式不对！"),datetime:trans("validate.datetime","日期格式不对！")},i.REG={integer:/^-?\d+$/,"float":/^-?\d+(\.\d+)?$/,zipCode:/^[0-9]{6}$/,phone:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,email:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/,datetime:/^((((19|20)\d{2})-(0?(1|[3-9])|1[012])-(0?[1-9]|[12]\d|30))|(((19|20)\d{2})-(0?[13578]|1[02])-31)|(((19|20)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))-0?2-29))$/},i.DEFAULTS={validMode:"blur",placement:"top"},i.fn=i.prototype,i.fn.create=function(){var e=this;this.$element.on("blur",function(t){"blur"==e.validMode&&e.doValid()}).on("focus",function(t){e.hideMsg()}).on("change",function(t){e.hideMsg()}).on("keydown",function(i){var n=window.event||i,s=e.$element.val();if("function"==typeof e.midValidateCallBack){var o={event:n,tempValue:s,inputEle:this},a=e.midValidateCallBack.call(e,o);if(0==a)return!1}if("float"==e.validType){if(n.shiftKey)return n.returnValue=!1,!1;if(9==n.keyCode||37==n.keyCode||39==n.keyCode||46==n.keyCode)return!0;if(n.ctrlKey&&(67==n.keyCode||86==n.keyCode))return!0;if(!(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||t.inArray(n.keyCode,[8,110,190,189,109])>-1))return n.returnValue=!1,!1;if((!s||s.indexOf(".")>-1)&&(190==n.keyCode||110==n.keyCode))return n.returnValue=!1,!1;if(s&&(s+"").split(".")[0].length>=25)return!1}if("integer"==e.validType){if(n.shiftKey)return n.returnValue=!1,!1;if(9==n.keyCode||37==n.keyCode||39==n.keyCode||46==n.keyCode)return!0;if(n.ctrlKey&&(67==n.keyCode||86==n.keyCode))return!0;if(!(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||t.inArray(n.keyCode,[8,109,189])>-1))return n.returnValue=!1,!1;if(s&&(s+"").split(".")[0].length>=25)return!1}})},i.fn.updateOptions=function(t){},i.fn.calLength=function(t){return"float"==this.validType&&(t+"").indexOf(".")>=0?t.lengthb()-1:t.lengthb()},i.fn.doValid=function(t){if("function"==typeof this.validateCallBack){var e={event:event,tempValue:t,inputEle:this.$element[0]},i=this.validateCallBack.call(this,e);if(0==i)return!1}if(this.needClean=!1,this.$element.attr("readonly"))return!0;var n=null;if(n="undefined"!=typeof t?t:this.getValue(),this.isEmpty(n)&&this.required)return this.showMsg(this.nullMsg),!1;if(this.isEmpty(n)&&!this.required)return!0;if(this.regExp){var s=new RegExp(this.regExp);"number"==typeof n&&(n+="");var o=n.match(s);if(null===o||o===!1)return this.showMsg(this.errorMsg),this.needClean=!0,!1}return this.minLength&&this.calLength(n)<this.minLength?(this.showMsg("输入长度不能小于"+this.minLength+"位"),!1):this.maxLength&&this.calLength(n)>this.maxLength?(this.showMsg("输入长度不能大于"+this.maxLength+"位"),!1):void 0!=this.max&&null!=this.max&&parseFloat(n)>this.max?(this.showMsg("输入值不能大于"+this.max),!1):void 0!=this.min&&null!=this.min&&parseFloat(n)<this.min?(this.showMsg("输入值不能小于"+this.min),!1):void 0!=this.maxNotEq&&null!=this.maxNotEq&&parseFloat(n)>=this.maxNotEq?(this.showMsg("输入值不能大于或等于"+this.maxNotEq),!1):void 0!=this.minNotEq&&null!=this.minNotEq&&parseFloat(n)<=this.minNotEq?(this.showMsg("输入值不能小于或等于"+this.minNotEq),!1):!0},i.fn.some=Array.prototype.some?Array.prototype.some:function(){for(var t,e=0;e<this.length&&("function"!=typeof arguments[0]||!(t=arguments[0](this[e])));e++);return t},i.fn.getValue=function(){var e="",i=this.some.call(this.$element.children('[type="checkbox"],[type="radio"]'),function(t){return"checkbox"==t.type||"radio"==t.type});if(this.$element.children().length>0&&i){var n=this.$element.find('[type="checkbox"],[type="radio"]'),s=n[0];"checkbox"==s.type?this.$element.find(":checkbox[name='"+t(s).attr("name")+"']:checked").each(function(){e+=t(this).val()+","}):"radio"==s.type&&(e=this.$element.find(":radio[name='"+t(s).attr("name")+"']:checked").val())}else this.$element.is(":radio")?e=this.$element.parent().find(":radio[name='"+this.$element.attr("name")+"']:checked").val():this.$element.is(":checkbox")?(e="",this.$element.parent().find(":checkbox[name='"+this.$element.attr("name")+"']:checked").each(function(){e+=t(this).val()+","})):e=this.$element.find("input").length>0?this.$element.find("input").val():this.$element.val();return e=t.trim(e),this.isEmpty(e)?"":e},i.fn.isEmpty=function(e){return""===e||void 0===e||null===e||e===t.trim(this.$element.attr("tip"))},i.fn.showMsg=function(e){var n=this;if(this.tipId)t("#"+this.tipId).html(e).show();else{var s={title:e,trigger:"manual",selector:"validtip",placement:this.placement,container:"body"};i.tipTemplate&&(s.template=i.tipTemplate),this.$element.tooltip(s),this.$element.tooltip("show"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.hideMsg()},3e3)}},i.fn.hideMsg=function(){this.tipId?t("#"+this.tipId).hide():this.$element.tooltip("destroy")},e.fn=e.prototype,e.fn.createValidate=function(t,e,n){var s=t.data("u.validate"),e="object"==typeof e&&e;s||t.data("u.validate",s=new i(t,e,n)),this.validates.push(s)},e.fn.check=function(t){for(var e=!0,i=0;i<this.validates.length;i++)e=this.validates[i].doValid(t)&&e;return e},e.fn._needClean=function(){return this.validates[0].needClean};var n=t.fn.validate;t.fn.validate=function(t){var i=new e(this,t);return i},t.fn.validate.noConflict=function(){return t.fn.validate=n,this}}($),+function(t){"use strict";function e(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{x:e,y:i}}function i(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1}function n(e){if(1==this.length){var i=t(this),n=i.data("u.autocomplete"),o="object"==typeof e&&e;return n||i.data("u.autocomplete",n=new s(this,o)),n}}var s=function(e,i){this.$input=t(e),this.options=t.extend({},s.DEFAULTS,i),this.requestIndex=0,this.pending=0;var n=this;this.options.inputClass&&this.$input.addClass(this.options.inputClass),this.$results=t("#autocompdiv"),0==this.$results.length&&(this.$results=t('<div id="autocompdiv"></div>'),t("body").append(this.$results)),this.$results.hide().addClass(this.options.resultsClass).css("position","absolute"),this.options.width>0&&this.$results.css("width",this.options.width),this.timeout=null,this.prev="",this.active=-1,this.cache={},this.keyb=!1,this.hasFocus=!1,this.lastKeyPressCode=null,this._initSource(),this.$input.keydown(function(t){switch(n.lastKeyPressCode=t.keyCode,t.keyCode){case 38:t.preventDefault(),n.moveSelect(-1);break;case 40:t.preventDefault(),n.moveSelect(1);break;case 9:case 13:n.selectCurrent()&&(n.$input.get(0).blur(),t.preventDefault());break;default:n.active=-1,n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.onChange()},n.options.delay)}}).focus(function(){n.hasFocus=!0}).blur(function(){n.hasFocus=!1}),this.hideResultsNow()};s.DEFAULTS={inputClass:"ac_input",resultsClass:"ac_results",lineSeparator:"\n",cellSeparator:"|",minChars:1,delay:400,matchCase:0,matchSubset:1,matchContains:0,cacheLength:1,mustMatch:0,extraParams:{},loadingClass:"ac_loading",selectFirst:!1,selectOnly:!1,maxItemsToShow:-1,autoFill:!1,width:0,source:null,select:null},s.fn=s.prototype,s.fn.flushCache=function(){this.cache={},this.cache.data={},this.cache.length=0},s.fn._initSource=function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(t,i){i(n.filterData(t.term,e))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},s.fn._response=function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,!this.pending},this)},s.fn.__response=function(t){t&&this.receiveData2(t),this.showResults()},s.fn.onChange=function(){if(46==this.lastKeyPressCode||this.lastKeyPressCode>8&&this.lastKeyPressCode<32)return this.$results.hide();var t=this.$input.val();this.prev=t,t.length>=this.options.minChars||t.length>=0?(this.$input.addClass(this.options.loadingClass),this.pending++,this.source({term:t},this._response())):(this.$input.removeClass(this.options.loadingClass),this.$results.hide())},s.fn.moveSelect=function(e){var i=t("li",this.$results[0]);i&&(this.active+=e,this.active<0?this.active=0:this.active>=i.size()&&(this.active=i.size()-1),i.removeClass("ac_over"),t(i[this.active]).addClass("ac_over"))},s.fn.selectCurrent=function(){var e=t("li.ac_over",this.$results[0])[0];if(!e){var i=t("li",this.$results[0]);this.options.selectOnly?1==i.length&&(e=i[0]):this.options.selectFirst&&(e=i[0])}return e?(this.selectItem(e),!0):!1},s.fn.selectItem=function(e){var i=this;e||(e=document.createElement("li"),e.selectValue="");var n=t.trim(e.selectValue?e.selectValue:e.innerHTML);this.lastSelected=n,this.prev=n,this.$results.html(""),this.$input.val(n),this.hideResultsNow(),this.options.select&&setTimeout(function(){i.options.select(e._item)},1)},s.fn.createSelection=function(t,e){var i=this.$input.get(0);if(i.createTextRange){var n=i.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()}else i.setSelectionRange?i.setSelectionRange(t,e):i.selectionStart&&(i.selectionStart=t,i.selectionEnd=e);i.focus()},s.fn.autoFill=function(t){8!=this.lastKeyPressCode&&(this.$input.val(this.$input.val()+t.substring(this.prev.length)),this.createSelection(this.prev.length,t.length))},s.fn.showResults=function(){var t=e(this.$input[0]),i=this.options.width>0?this.options.width:this.$input.width();"100%"===this.options.width?this.$results.css({top:t.y+this.$input[0].offsetHeight+"px",left:t.x+"px"}).show():this.$results.css({width:parseInt(i)+"px",top:t.y+this.$input[0].offsetHeight+"px",left:t.x+"px"}).show()},s.fn.hideResults=function(){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.hideResultsNow()},200)},s.fn.hideResultsNow=function(){if(this.timeout&&clearTimeout(this.timeout),this.$input.removeClass(this.options.loadingClass),this.$results.hide(),this.options.mustMatch){var t=this.$input.val();t!=this.lastSelected&&this.selectItem(null)}},s.fn.receiveData=function(t,e){if(e){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==e.length)return this.hideResultsNow();this.$results.append(this.dataToDom(e)),this.options.autoFill&&this.$input.val().toLowerCase()==t.toLowerCase()&&this.autoFill(e[0][0]),this.showResults()}else this.hideResultsNow()},s.fn.filterData=function(t,e){if(!t)return e;for(var i=[],n=0,s=e.length;s>n;n++){var o=e[n].label;0==o.indexOf(t)&&i.push(e[n])}return i},s.fn.receiveData2=function(t){if(t){if(this.$input.removeClass(this.options.loadingClass),this.$results.html(""),!this.hasFocus||0==t.length)return this.hideResultsNow();this.$results.append(this.dataToDom2(t)),this.showResults()}else this.hideResultsNow()},s.fn.dataToDom2=function(e){var n=document.createElement("ul"),s=e.length,o=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<s&&(s=this.options.maxItemsToShow);for(var a=0;s>a;a++){var r=e[a];if(r){var l=document.createElement("li");this.options.formatItem?l.innerHTML=this.options.formatItem(r,a,s):l.innerHTML=r.label,l.selectValue=r.label,l._item=r,n.appendChild(l),t(l).hover(function(){t("li",n).removeClass("ac_over"),t(this).addClass("ac_over"),o.active=i(t("li",n),t(this).get(0))},function(){t(this).removeClass("ac_over")}).mousedown(function(t){t.preventDefault(),t.stopPropagation(),o.selectItem(this)})}}return n},s.fn.parseData=function(e){if(!e)return null;for(var i=[],n=e.split(this.options.lineSeparator),s=0;s<n.length;s++){var o=t.trim(n[s]);o&&(i[i.length]=o.split(this.options.cellSeparator));
}return i},s.fn.dataToDom=function(e){var n=document.createElement("ul"),s=e.length,o=this;this.options.maxItemsToShow>0&&this.options.maxItemsToShow<s&&(s=this.options.maxItemsToShow);for(var a=0;s>a;a++){var r=e[a];if(r){var l=document.createElement("li");this.options.formatItem?(l.innerHTML=this.options.formatItem(r,a,s),l.selectValue=r[0]):(l.innerHTML=r[0],l.selectValue=r[0]);var d=null;if(r.length>1){d=[];for(var h=1;h<r.length;h++)d[d.length]=r[h]}l.extra=d,n.appendChild(l),t(l).hover(function(){t("li",n).removeClass("ac_over"),t(this).addClass("ac_over"),o.active=i(t("li",n),t(this).get(0))},function(){t(this).removeClass("ac_over")}).click(function(t){t.preventDefault(),t.stopPropagation(),o.selectItem(this)})}}return n},s.fn.requestData=function(e){var i=this;this.options.matchCase||(e=e.toLowerCase());var n=this.options.cacheLength?this.loadFromCache(e):null;n?this.receiveData(e,n):"string"==typeof this.options.url&&this.options.url.length>0?t.get(this.makeUrl(e),function(t){t=i.parseData(t),i.addToCache(e,t),i.receiveData(e,t)}):this.$input.removeClass(this.options.loadingClass)},s.fn.makeUrl=function(t){var e=this.options.url+"?q="+encodeURI(t);for(var i in this.options.extraParams)e+="&"+i+"="+encodeURI(this.options.extraParams[i]);return e},s.fn.loadFromCache=function(t){if(!t)return null;if(this.cache.data[t])return this.cache.data[t];if(this.options.matchSubset)for(var e=t.length-1;e>=this.options.minChars;e--){var i=t.substr(0,e),n=this.cache.data[i];if(n){for(var s=[],o=0;o<n.length;o++){var a=n[o],r=a[0];this.matchSubset(r,t)&&(s[s.length]=a)}return s}}return null},s.fn.matchSubset=function(t,e){this.options.matchCase||(t=t.toLowerCase());var i=t.indexOf(e);return-1==i?!1:0==i||this.options.matchContains},s.fn.addToCache=function(t,e){e&&t&&this.options.cacheLength&&(!this.cache.length||this.cache.length>this.options.cacheLength?(this.flushCache(),this.cache.length++):this.cache[t]||this.cache.length++,this.cache.data[t]=e)};var o=t.fn.autocomplete;t.fn.autocomplete=n,t.fn.autocomplete.Constructor=s,t.fn.autocomplete.noConflict=function(){return t.fn.autocomplete=o,this}}($),+function(t){"use strict";function e(e){if(1==this.length){var n=t(this),s=n.data("u.backtop"),o="object"==typeof e&&e;return s||n.data("u.backtop",s=new i(this,o)),s}}var i=function(e,n){var s=this;this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),t(window).scroll(function(e){t(document).scrollTop()>s.options.toggleHeight?s.$element.addClass("active"):s.$element.removeClass("active")}),this.$element.click(function(){t(document).scrollTop(0)})};i.DEFAULTS={toggleHeight:100},i.fn=i.prototype;var n=t.fn.backtop;t.fn.backtop=e,t.fn.backtop.Constructor=i,t.fn.backtop.noConflict=function(){return t.fn.backtop=n,this}}($),function(t){var e=function(i,n){var s=this;this.$element=i,this.options=t.extend({},e.DEFAULTS,n),this.items=[],this.mutilPks=[],this.oDiv=null,Object.defineProperty(i[0],"value",{get:function(){return this.trueValue},set:function(e){var n=s.items,o=t(s.oDiv).find("li");if("true"==s.options.single||1==s.options.single)for(var a=0,r=n.length;r>a;a++){var l=n[a].pk;if(l==e){this.innerHTML=n[a].name,this.trueValue=e;break}this.trueValue="",this.innerHTML=""}else if("true"==s.options.mutil||1==s.options.mutil){if(!t.isArray(e)){if("string"!=typeof e||""===e)return;e=e.split(","),s.mutilPks=e}0==s.mutilPks.length&&(s.mutilPks=e),t(this).html("");for(var d=[],h=0;h<e.length;h++)for(var a=0,r=o.length;r>a;a++){var l=o[a].item.pk;if(e[h]==l){d.push(e[h]),o[a].style.display="none";var c=t("<i class='fa fa-close'></i>");c.on("mousedown",function(){for(var e=t(this),n=t(s.oDiv).find("li"),o=0,a=n.length;a>o;o++)if(n[o].item.name==e.siblings(".itemName").html()){n[o].style.display="block";for(var r=0;r<s.mutilPks.length;r++)s.mutilPks[r]==n[o].item.pk&&(s.mutilPks.splice(r,1),r--);for(var l=0;l<d.length;l++)d[l]==n[o].item.pk&&(d.splice(l,1),l--)}e.parent().remove(),i[0].trueValue="",i[0].trueValue=d.toString(),t(i).trigger("mutilSelect",d.toString())});var u=t("<i class='itemName'>"+n[a].name+"</i>"),p=t("<div class='mutil-select-div'></div>");p.append(c),p.append(u),t(this).append(p)}}this.trueValue=d.toString()}}}),"readonly"!==this.options.readonly&&("true"!=this.options.single&&1!=this.options.single||this.singleSelect(),"true"!=this.options.mutil&&1!=this.options.mutil||this.mutilSelect(),this.clickEvent(),this.blurEvent(),this.comboFilter(),this.comboFilterClean())};e.DEFAULTS={dataSource:{},mutil:!1,enable:!0,single:!0,onSelect:function(){}},e.fn=e.prototype,e.fn.createDom=function(){var e=this.options.dataSource;if(t.isEmptyObject(e))throw new Error("dataSource为空！");var i=document.createElement("div");i.className="select-list-div",this.oDiv=i;var n=document.createElement("div");n.className="select-search";var s=document.createElement("input");n.appendChild(s),this.options.readchange&&(n.style.display="none");var o=document.createElement("ul");o.className="select-list-ul";for(var a=0;a<e.length;a++){var r={pk:e[a].pk,name:e[a].name};this.items.push(r);var l=document.createElement("li");l.item=r,l.innerHTML=e[a].name,o.appendChild(l)}i.appendChild(o),i.style.display="none",document.body.appendChild(i)},e.fn.focusEvent=function(){var t=this;this.$element.on("click",function(e){if(t.$element.data("enable")||1!=t.options.readchange){var i=t.show();1!==i&&(t.floatLayer(),t.floatLayerEvent(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}})},e.fn.clickEvent=function(){var e=this,i=this.$element.next(".input-group-addon")[0]||this.$element.next(":button")[0];t(i).on("click",function(t){e.show(),e.floatLayer(),e.floatLayerEvent(),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0})},e.fn.blurEvent=function(){var t=this;this.$element.on("keyup",function(e){var i=e.which||e.keyCode;9==i&&t.show()}).on("keydown",function(e){var i=e.which||e.keyCode;9==i&&t.hide()})},e.fn.floatLayer=function(){if(0==t(".select-floatDiv").length){var e=document.createElement("div");e.className="select-floatDiv",document.body.appendChild(e)}},e.fn.floatLayerEvent=function(){var e=this;t(".select-floatDiv").click(function(i){e.hide(),t(this).remove(),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0})},e.fn.show=function(){for(var e=t(this.oDiv).find("li"),i=0,n=0,s=e.length;s>n;n++)"none"==e[n].style.display&&i++;if(i===s)return 1;var o=this.$element.offset().left,a=this.$element.offset().top,r=30*this.options.dataSource.length+10+10,l=a+this.$element.outerHeight()+r-(t(window).height()+t(window).scrollTop()),d=this.oDiv;l>0?(d.style.left=o+"px",d.style.top=a-r+"px"):(d.style.left=o+"px",d.style.top=a+this.$element.outerHeight()+"px"),d.style.display="block"},e.fn.hide=function(){this.oDiv.style.display="none"},e.fn.singleDivValue=function(){for(var e=this,i=t(this.oDiv).find("li"),n=0;n<i.length;n++)t(i[n]).click(function(){var t=this.item;e.$element.val(t.pk),e.oDiv.style.display="none",e.options.onSelect(t),e.$element.trigger("change")})},e.fn.mutilDivValue=function(){for(var e=this,i=t(this.oDiv).find("li"),n=0;n<i.length;n++)t(i[n]).click(function(){var t=this.item.pk,i=e.mutilPks,n=i.length;if(n>0)for(var s=0;n>s;s++)t==i[s]&&(i.splice(s,1),s--);i.push(t),e.$element.val(i),e.$element.trigger("mutilSelect",i.toString()),e.oDiv.style.display="none",this.style.display="none",e.$element.trigger("change")})},e.fn.singleSelect=function(){this.createDom(),this.focusEvent(),this.singleDivValue()},e.fn.mutilSelect=function(){this.createDom(),this.mutilDivValue(),this.focusEvent()},e.fn.comboFilter=function(){t(this.oDiv).on("keyup",function(){for(var e=t(this).find(".select-search input").val(),i=t(this).find("li"),n=0;n<i.length;n++)-1!=i[n].item.name.indexOf(e)?i[n].style.display="block":i[n].style.display="none"})},e.fn.comboFilterClean=function(){var e=this;t(this.$element).on("click",function(){t(e.oDiv).find(".select-search input").val("");var i=t(e.oDiv).find("li");if("true"==e.options.single||1==e.options.single)for(var n=0;n<i.length;n++)i[n].style.display="block";else if("true"==e.options.mutil||1==e.options.mutil){for(var s=[],o=t(this).find(".mutil-select-div .itemName"),n=0;n<o.length;n++)for(var a=0;a<i.length;a++)t(o[n]).html()==i[a].item.name&&s.push(a);for(var r=0;r<i.length;r++){i[r].style.display="block";for(var l=0;l<s.length;l++)r==s[l]&&(i[r].style.display="none")}}})};var i=function(i){var n=t(this),s=n.data("s.select"),o="object"==typeof i&&i;s||n.data("s.select",new e(this,o))};t.fn.setComboData=function(e){var i=t(this).data("s.select");if(i){var n=e;if(t.isArray(n)&&0!=n.length){i.items.length=0;var s=t(i.oDiv).find("li");if(n.length<s.length)for(var o=n.length;o<s.length;o++)t(s[o]).remove();else if(n.length>s.length)for(var a=s[0],r=t(i.oDiv).find("ul"),l=0;l<n.length-s.length;l++)t(a).clone(!0).appendTo(r);s=t(i.oDiv).find("li");for(var d=0;d<n.length;d++){var h={pk:n[d].pk,name:n[d].name};i.items.push(h),s[d].item=h,s[d].innerHTML=n[d].name}}}},t.fn.Combobox=i}($),+function(t){t.dialog=function(e){function i(){m=o[0].clientWidth,v=o[0].clientHeight,o.css({margin:"0px",left:(g-m)/2,top:(_-v)/2})}function n(){o.css({width:o[0].clientWidth,height:o[0].clientHeight})}function s(){m=o[0].clientWidth,v=o[0].clientHeight,o.css({width:"auto",height:"auto",left:o.offset().left,top:o.offset().top,right:g-o.offset().left-m,bottom:_-o.offset().top-v})}var o=t('<div class="move-dialog "><div class="move-alert alert alert-'+e.type+' alert-dismissible"></div></div>'),a=t('<button type="button" class="close"  aria-label="Close"><span aria-hidden="true">&times;</span></button>');e.title=e.title||trans("dialog.info_dialog","提示窗口");var r=t("<h4>"+e.title+"</h4>");if(e.url)var l=t('<p class="dialog_p"><iframe class="dialog_iframe" src='+e.url+"></iframe></p>");else{var l=t('<p style="position: absolute;top: 50px;bottom: 20px;overflow: auto;left: 30px;right: 25px;"></p>');l.append(e.msg)}var d,h,c,u,p,f,m,v,g,_;g=window.innerWidth?window.innerWidth:document.body.clientWidth,_=window.innerHeight?window.innerHeight:document.body.clientHeight,e.width?o.css({width:e.width}):o.css({width:520}),e.height&&o.css({height:e.height}),o.find(".alert").append(a).append(r).append(l).append(d),o.wrap("<div style='padding:5px'></div>"),e.backdrop&&(t(document.body).append('<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),o.on("close.bs.alert",function(e){t('.alert-backdrop[role="alert-dialog-backdrop"]').remove()})),o.find('[data-role="okbtn"]').on("click.alert.ok",e.okfn),e.cancelfn&&"function"==typeof e.cancelfn&&(o.find('[data-role="cancelbtn"]').on("click",e.cancelfn),o.find('[aria-hidden="true"]').on("click",e.cancelfn)),o.css("z-index",99),a.on("click",function(){t.removeDialog()}),e.movable&&(o.on("mousedown.dialog",function(t){m=o[0].clientWidth,v=o[0].clientHeight,c=t.clientX-o.position().left,u=t.clientY-o.position().top,11>p&&12>f?(s(),h=9,o.css({cursor:"se-resize"})):p>m-20&&f>v-10?(s(),h=8,o.css({cursor:"se-resize"})):11>p&&f>v-10?(s(),h=7,o.css({cursor:"ne-resize"})):p>m-20&&12>f?(s(),h=6,o.css({cursor:"ne-resize"})):12>p?(s(),h=5,o.css({cursor:"e-resize"})):p>m-20?(s(),h=4,o.css({cursor:"e-resize"})):11>f?(h=3,s(),o.css({cursor:"n-resize"})):f>v-10?(h=2,s(),o.css({cursor:"n-resize"})):"H4"==t.target.nodeName&&(h=1,n(),o.css({cursor:"auto"}))}),t(document).on("mousemove.dialog",function(t){return m=o[0].clientWidth,v=o[0].clientHeight,p=t.clientX-o.position().left,f=t.clientY-o.position().top,1==h?void o.css({left:t.clientX-c,top:t.clientY-u,cursor:"all-scroll"}):2==h?void o.css({bottom:_-t.clientY-20}):3==h?void o.css({top:t.clientY-20}):4==h?void o.css({right:g-t.clientX-20}):5==h?void o.css({left:t.clientX-20}):6==h?void o.css({top:t.clientY-20,right:g-t.clientX-20}):7==h?void o.css({left:t.clientX-20,bottom:_-t.clientY-20}):8==h?void o.css({bottom:_-t.clientY-20,right:g-t.clientX-20}):9==h?void o.css({top:t.clientY-20,left:t.clientX-20}):void(11>p&&12>f||p>m-20&&f>v-10?o.css({cursor:"se-resize"}):11>p&&f>v-10||p>m-20&&12>f?o.css({cursor:"ne-resize"}):12>p||p>m-20?o.css({cursor:"e-resize"}):11>f||f>v-10?o.css({cursor:"n-resize"}):o.css({cursor:"auto"}))}),t(document).on("mouseup.dialog",function(){h=!1,o.css({cursor:"auto"})})),t(document.body).append(o),i()},t.removeDialog=function(){var e;(e=t(".move-dialog ")).length&&e.remove(),(e=t(".alert-backdrop")).length&&e.remove(),t(document).off("mousemove.dialog").off("mouseup.dialog")}}($)+function(t,e){function i(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function n(t,e){return dt.call(t,e)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){ot.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function a(t,e){var i=!0;return f(function(){return i&&(o(t),i=!1),e.apply(this,arguments)},e)}function r(t,e){Yt[t]||(o(e),Yt[t]=!0)}function l(t,e){return function(i){return g(t.call(this,i),e)}}function d(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function h(t,e){var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(s,"months");return 0>e-o?(i=t.clone().add(s-1,"months"),n=(e-o)/(o-i)):(i=t.clone().add(s+1,"months"),n=(e-o)/(i-o)),-(s+n)}function c(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function u(){}function p(t,e){e!==!1&&D(t),m(this,t),this._d=new Date(+t._d)}function f(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,n,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),_t.length>0)for(i in _t)n=_t[i],s=e[n],"undefined"!=typeof s&&(t[n]=s);return t}function v(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n}function _(t,e){return function(i,n){var s;return null===n||isNaN(+n)||(r(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,C(this,i,n,t),this}}function C(t,e,i,n){"millisecond"==b(i)?t._d.setTime(+t._d+e*n):"second"==b(i)?t._d.setTime(+t._d+1e3*e*n):"minute"==b(i)?t._d.setTime(+t._d+6e4*e*n):"hour"==b(i)?t._d.setTime(+t._d+36e5*e*n):"day"==b(i)?it(t,"Date",et(t,"Date")+e*n):"week"==b(i)?it(t,"Date",et(t,"Date")+7*e*n):"month"==b(i)?tt(t,et(t,"Month")+e*n):"year"==b(i)&&tt(t,et(t,"Month")+12*e*n)}function y(t,e,i){var n,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;s>n;n++)(i&&t[n]!==e[n]||!i&&S(t[n])!==S(e[n]))&&a++;return a+o}function b(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Nt[t]||e}return t}function w(t){var e,i,s={};for(i in t)n(t,i)&&(e=b(i),e&&(s[e]=t[i]));return s}function x(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}ot[e]=function(s,o){var a,r,l=ot._locale[e],d=[];if("number"==typeof s&&(o=s,s=t),r=function(t){var e=ot().utc().set(n,t);return l.call(ot._locale,e,s||"")},null!=o)return r(o);for(a=0;i>a;a++)d.push(r(a));return d}}function S(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function k(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function D(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ct]<0||t._a[ct]>11?ct:t._a[ut]<1||t._a[ut]>k(t._a[ht],t._a[ct])?ut:t._a[pt]<0||t._a[pt]>24||24===t._a[pt]&&(0!==t._a[ft]||0!==t._a[mt]||0!==t._a[vt])?pt:t._a[ft]<0||t._a[ft]>59?ft:t._a[mt]<0||t._a[mt]>59?mt:t._a[vt]<0||t._a[vt]>999?vt:-1,t._pf._overflowDayOfYear&&(ht>e||e>ut)&&(e=ut),t._pf.overflow=e)}function M(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function E(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){for(var e,i,n,s,o=0;o<t.length;){for(s=E(t[o]).split("-"),e=s.length,i=E(t[o+1]),i=i?i.split("-"):null;e>0;){if(n=A(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&y(s,i,!0)>=e-1)break;e--}o++}return null}function A(t){return gt[t]}function I(t,i){var n,s;return i._isUTC?(n=i.clone(),s=(ot.isMoment(t)||e.isDate(t)?+t:+ot(t))-+n,n._d.setTime(+n._d+s),n):ot(t).local()}function L(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function R(t){var e,i,n=t.match(Ct);for(e=0,i=n.length;i>e;e++)qt[n[e]]?n[e]=qt[n[e]]:n[e]=L(n[e]);return function(s){var o="";for(e=0;i>e;e++)o+=n[e]instanceof Function?n[e].call(s,t):n[e];return o}}function $(t,e){return t.isValid()?(e=O(e,t.localeData()),Ft[e]||(Ft[e]=R(e)),Ft[e](t)):t.localeData().invalidDate()}function O(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(yt.lastIndex=0;n>=0&&yt.test(t);)t=t.replace(yt,i),yt.lastIndex=0,n-=1;return t}function N(t,e){var i,n=e._strict;switch(t){case"Q":return Mt;case"YYYY":return n?Tt:wt;case"Y":case"G":case"g":return At;case"S":if(n)return Mt;break;case"SS":if(n)return Et;break;case"MMM":case"MMMM":case"dd":return parseTokenWord;case"a":case"A":return e._locale._meridiemParse;case"x":return kt;case"X":return Dt;case"Z":case"ZZ":return xt;case"T":return St;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Et:bt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return bt;case"Do":return n?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(j(B(t.replace("\\",""))))}}function F(t){t=t||"";var e=t.match(xt)||[],i=e[e.length-1]||[],n=(i+"").match(Ot)||["-",0,0],s=+(60*n[1])+S(n[2]);return"+"===n[0]?s:-s}function H(t,e,i){var n,s=i._a;switch(t){case"M":case"MM":null!=e&&(s[ct]=S(e)-1);break;case"MMM":case"MMMM":n=i._locale.monthsParse(e,t,i._strict),null!=n?s[ct]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[ut]=S(e));break;case"Do":null!=e&&(s[ut]=S(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"YY":s[ht]=S(e)+(S(e)>68?1900:2e3);break;case"YYYY":s[ht]=S(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;break;case"H":case"HH":s[pt]=S(e);break;case"m":case"mm":s[ft]=S(e);break;case"s":case"ss":s[mt]=S(e);break;case"S":case"SS":case"x":i._d=new Date(S(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=F(e);break;case"dd":case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1)}}function P(t){var e,n,s,o,a=[];if(!t._d){for(s=Y(t),t._w&&null==t._a[ut]&&null==t._a[ct]&&dayOfYearFromWeekInfo(t),t._dayOfYear&&(o=i(t._a[ht],s[ht]),t._dayOfYear>daysInYear(o)&&(t._pf._overflowDayOfYear=!0),n=J(o,0,t._dayOfYear),t._a[ct]=n.getUTCMonth(),t._a[ut]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=a[e]=s[e];for(;7>e;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[pt]&&0===t._a[ft]&&0===t._a[mt]&&0===t._a[vt]&&(t._nextDay=!0,t._a[pt]=0),t._d=(t._useUTC?J:K).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[pt]=24)}}function q(t){var e;t._d||(e=w(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],P(t))}function Y(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function W(e){if(e._f===ot.ISO_8601)return void U(e);e._a=[],e._pf.empty=!0;var i,n,s,o,a,r=""+e._i,l=r.length,d=0;for(s=O(e._f,e._locale).match(Ct)||[],i=0;i<s.length;i++)o=s[i],n=(r.match(N(o,e))||[])[0],n&&(a=r.substr(0,r.indexOf(n)),a.length>0&&e._pf.unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),d+=n.length),qt[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),H(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=l-d,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[pt]<=12&&(e._pf.bigHour=t),e._a[pt]=c(e._locale,e._a[pt],e._meridiem),P(e),D(e)}function B(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})}function j(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(t){var e,i,n,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=s(),e._f=t._f[o],W(e),M(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==n||n>a)&&(n=a,i=e));f(t,i||e)}function U(t){var e,i,n=t._i,s=It.exec(n);if(s){for(t._pf.iso=!0,e=0,i=Rt.length;i>e;e++)if(Rt[e][1].exec(n)){t._f=Rt[e][0]+(s[6]||" ");break}for(e=0,i=$t.length;i>e;e++)if($t[e][1].exec(n)){t._f+=$t[e][0];break}n.match(xt)&&(t._f+="Z"),W(t)}else t._isValid=!1}function z(t){U(t),t._isValid===!1&&(delete t._isValid,ot.createFromInputFallback(t))}function G(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i]));return n}function X(i){var n=i._i;n===t?i._d=new Date:e.isDate(n)?i._d=new Date(+n):"string"==typeof n?z(i):e.isArray(n)?(i._a=G(n.slice(0),function(t){return parseInt(t,10)}),P(i)):"object"==typeof n?q(i):"number"==typeof n?i._d=new Date(n):ot.createFromInputFallback(i)}function K(t,e,i,n,s,o,a){var r=new Date(t,e,i,n,s,o,a);return 1970>t&&r.setFullYear(t),r}function J(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function Z(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Q(i){var n,s=i._i,o=i._f;return i._locale=i._locale||ot.localeData(i._l),null===s||o===t&&""===s?ot.invalid({nullInput:!0}):("string"==typeof s&&(i._i=s=i._locale.preparse(s)),ot.isMoment(s)?new p(s,!0):(o?e.isArray(o)?V(i):W(i):X(i),n=new p(i),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function tt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),k(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function et(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function it(t,e,i){return"Month"===e?tt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function nt(t,e){return function(e){return null!=e?(it(this,t,e),this):et(this,t)}}function st(t){lt=window,"undefined"==typeof ender&&(at=lt.moment,t?lt.moment=a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ot):lt.moment=ot)}for(var ot,at,rt,lt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,dt=Object.prototype.hasOwnProperty,ht=0,ct=1,ut=2,pt=3,ft=4,mt=5,vt=6,gt={},_t=[],Ct=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,yt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,wt=/\d{1,4}/,xt=/Z|[\+\-]\d\d:?\d\d/gi,St=/T/i,kt=/[\+\-]?\d+/,Dt=/[\+\-]?\d+(\.\d{1,3})?/,Mt=/\d/,Et=/\d\d/,Tt=/\d{4}/,At=/[+-]?\d+/,It=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lt="YYYY-MM-DDTHH:mm:ssZ",Rt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],$t=[["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ot=/([\+\-]|\d\d)/gi,Nt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",M:"month",y:"year",e:"weekday"},Ft={},Ht="DDD w W M D d".split(" "),Pt="M D H h m s w W".split(" "),qt={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},w:function(){return this.week()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},e:function(){return this.weekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return g(S(this.milliseconds()/10),2)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+":"+g(S(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+g(S(t/60),2)+g(S(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()}},Yt={},Wt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ht.length;)rt=Ht.pop(),qt[rt+"o"]=d(qt[rt],rt);for(;Pt.length;)rt=Pt.pop(),qt[rt+rt]=l(qt[rt],2);for(qt.DDDD=l(qt.DDD,3),f(u.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var n,s,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=ot.utc([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=ot([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.apply(e,[i]):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return weekOfYear(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"",invalidDate:function(){return this._invalidDate}}),ot=function(e,i,n,o){var a;return"boolean"==typeof n&&(o=n,n=t),a={},a._isAMomentObject=!0,a._i=e,a._f=i,a._l=n,a._strict=o,a._isUTC=!1,a._pf=s(),Q(a)},ot.suppressDeprecationWarnings=!1,ot.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),ot.utc=function(e,i,n,o){var a;return"boolean"==typeof n&&(o=n,n=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=n,a._i=e,a._f=i,a._strict=o,a._pf=s(),Q(a).utc()},ot.unix=function(t){return ot(1e3*t)},ot.defaultFormat=Lt,ot.ISO_8601=function(){},ot.momentProperties=_t,ot.lang=a("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return ot.locale(t,e)}),ot.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?ot.defineLocale(t,e):ot.localeData(t),i&&(ot._locale=i)),ot._locale._abbr},ot.defineLocale=function(t,e){return null!==e?(e.abbr=t,gt[t]||(gt[t]=new u),gt[t].set(e),ot.locale(t),gt[t]):(delete gt[t],null)},ot.langData=a("moment.langData is deprecated. Use moment.localeData instead.",function(t){return ot.localeData(t)}),ot.localeData=function(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ot._locale;if(!e.isArray(t)){if(i=A(t))return i;t=[t]}return T(t)},ot.isMoment=function(t){return t instanceof p||null!=t&&n(t,"_isAMomentObject")},rt=Wt.length-1;rt>=0;--rt)x(Wt[rt]);ot.normalizeUnits=function(t){return b(t)},ot.invalid=function(t){var e=ot.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},ot.parseZone=function(){return ot.apply(null,arguments).parseZone()},f(ot.fn=p.prototype,{clone:function(){return ot(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=ot(this).utc();return"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():$(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return M(this)},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=$(this,t||ot.defaultFormat);return this.localeData().postformat(e)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(t,e,i){var n,s,o=I(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=b(e),"year"===e||"month"===e?(s=h(this,o),"year"===e&&(s/=12)):(n=this-o,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-a)/864e5:"week"===e?(n-a)/6048e5:n),i?s:v(s)},calendar:function(t){var e=t||ot(),i=I(e,this).startOf("day"),n=this.diff(i,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,ot(e)));
},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Z(t,this.localeData()),this.add(t-e,"d")):e},month:nt("Month",!0),startOf:function(t){switch(t=b(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(e){return e=b(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=b("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+this>+t):(i=ot.isMoment(t)?+t:+ot(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=b("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+t>+this):(i=ot.isMoment(t)?+t:+ot(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=b(e||"millisecond"),"millisecond"===e?(t=ot.isMoment(t)?t:ot(t),+this===+t):(i=+ot(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=ot.apply(null,arguments),this>t?this:t}),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=ot.apply(null,arguments),t>this?this:t}),zone:a("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,n=this._offset||0;return null!=t?("string"==typeof t&&(t=F(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?C(this,t-n,"m",!1):this._changeInProgress||(this._changeInProgress=!0,this._changeInProgress=null)),this):this._isUTC?n:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(F(this._i)),this},daysInMonth:function(){return k(this.year(),this.month())},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},get:function(t){return t=b(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=b(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=ot.localeData(e),null!=i&&(this._locale=i),this)},lang:a("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),ot.fn.millisecond=ot.fn.milliseconds=nt("Milliseconds",!1),ot.fn.second=ot.fn.seconds=nt("Seconds",!1),ot.fn.minute=ot.fn.minutes=nt("Minutes",!1),ot.fn.hour=ot.fn.hours=nt("Hours",!0),ot.fn.date=nt("Date",!0),ot.fn.dates=a("dates accessor is deprecated. Use date instead.",nt("Date",!0)),ot.fn.year=nt("FullYear",!0),ot.fn.years=a("years accessor is deprecated. Use year instead.",nt("FullYear",!0)),ot.fn.days=ot.fn.day,ot.fn.months=ot.fn.month,ot.fn.weeks=ot.fn.week,ot.fn.toJSON=ot.fn.toISOString,ot.fn.isUTC=ot.fn.isUtc,ot.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===S(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),function(t){t(ot)}(function(t){return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return 12>t?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(t){t(ot)}(function(t){return t.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",LTS:"Ah点m分s秒",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"下午"===e||"晚上"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return 600>n?"凌晨":900>n?"早上":1130>n?"上午":1230>n?"中午":1800>n?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()-e.unix()>=604800?"[下]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},lastWeek:function(){var e,i;return e=t().startOf("week"),i=this.unix()<e.unix()?"[上]":"[本]",0===this.minutes()?i+"dddAh点整":i+"dddAh点mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(日|月|周)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),ot.locale("en"),st()}.call(this,void 0,$),+function(t,e){"use strict";if("function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i=e,n=0,s=this.length;if("undefined"==typeof e&&(i=this[0],n=1),"function"==typeof t)for(n;s>n;n++)this.hasOwnProperty(n)&&(i=t(i,this[n],n,this));return i}),t.app)return t.fn.datetimepicker=function(e){var i,n,s,o,a,e=e?e:{};t(this).data("create")||(t(this).data("create",!0),i=t(this).find("input").val(),i?i=t.getPickerArray(i):(n=new Date,i=[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()<10?"0"+n.getHours():n.getHours(),n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()]),a=e.picker_type?e.picker_type:"datetime","datetime"==a?(s=function(t,e,i){return e[0]+"-"+e[1]+"-"+e[2]+" "+e[3]+":"+e[4]},o=[{values:function(){for(var t=[],e=1950;2030>=e;e++)t.push(e);return t}(),textAlign:"left",width:100},{divider:!0,content:"-"},{values:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),textAlign:"left"},{divider:!0,content:"-"},{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],textAlign:"left"},{divider:!0,content:"  "},{values:function(){for(var t=[],e=0;23>=e;e++)t.push(10>e?"0"+e:e);return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;59>=e;e++)t.push(10>e?"0"+e:e);return t}()}]):(s=function(t,e,i){return e[0]+"-"+e[1]+"-"+e[2]},o=[{values:function(){for(var t=[],e=1950;2030>=e;e++)t.push(e);return t}(),textAlign:"left",width:100},{divider:!0,content:"-"},{values:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),textAlign:"left"},{divider:!0,content:"-"},{values:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],textAlign:"left"}]),t(this).addClass("moblie_input").find("input").attr("readonly","readonly"),t("#picker-date-container").html(""),t.app.picker_mobile({input:this,convertToPopover:!1,cssClass:e.cssClass,toolbar:!0,refer:e.refer,rotateEffect:!0,value:i,formatValue:s,cols:o,pickerType:a}))},void t("[data-provide='datetimepicker']").each(function(e,i){t(i).datetimepicker()});if(!e)throw new Error("datetimepicker requires Moment.js to be loaded first");var i="input,div[contenteditable=true]",n=function(n,s){var o,a,r,l,d,h={},c=e().startOf("d"),u=c.clone(),p=!0,f=!1,m=!1,v=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],_=["days","months","years"],C=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==r.indexOf("Y");case"M":return-1!==r.indexOf("M");case"d":return-1!==r.toLowerCase().indexOf("d");case"h":case"H":return-1!==r.toLowerCase().indexOf("h");case"m":return-1!==r.indexOf("m");case"s":return-1!==r.indexOf("s");default:return!1}},y=function(){return C("h")||C("m")||C("s")},b=function(){return C("y")||C("M")||C("d")},w=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(s.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan","5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(s.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan","7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},x=function(){var e=t("<tr>"),i=t("<tr>"),n=t("<tr>");return C("h")&&(e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(s.icons.down))))),C("m")&&(C("h")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(s.icons.down))))),C("s")&&(C("m")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),n.append(t("<td>").append(t("<a>").attr({tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(s.icons.down))))),a||(e.append(t("<td>").addClass("separator")),i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),n.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,n]))},S=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),s=[x()];return C("h")&&s.push(e),C("m")&&s.push(i),C("s")&&s.push(n),s},k=function(){var e=[];return s.showTodayButton&&e.push(t("<td>").append(t("<a>").attr("data-action","today").attr("title","当前时间").append(t("<span>").addClass(s.icons.today)))),!s.sideBySide&&b()&&y()&&e.push(t("<td>").append(t("<a>").attr("data-action","togglePicker").attr("title","时间选择").append(t("<span>").addClass(s.icons.time)))),s.showClear&&e.push(t("<td>").append(t("<a>").attr("data-action","clear").attr("title","清除当前选择").append(t("<span>").addClass(s.icons.clear)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},D=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(w()),n=t("<div>").addClass("timepicker").append(S()),o=t("<ul>").addClass("list-unstyled"),r=t("<li>").addClass("picker-switch accordion-toggle").append(k());return a&&e.addClass("usetwentyfour"),s.sideBySide&&b()&&y()?(e.addClass("timepicker-sbs"),e.append(t("<div>").addClass("row").append(i.addClass("col-sm-6")).append(n.addClass("col-sm-6"))),e.append(r),e):(b()&&o.append(t("<li>").addClass(y()?"collapse in":"").append(i)),o.append(r),y()&&o.append(t("<li>").addClass(b()?"collapse":"").append(n)),e.append(o))},M=function(){var e,o={};return e=n.is(i)?n.data():n.find(i).data(),e.dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(s,function(t){var i="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[i]&&(o[t]=e[i])}),o},E=function(){var e,o=(f||n).position(),a=(f||n).offset(),r="auto",l="auto";if(s.widgetParent?e=s.widgetParent.append(m):n.is(i)?e=n.parent().append(m):(e=n,n.children().first().after(m)),r=a.top+1.5*m.height()>=t(window).height()+t(window).scrollTop()&&m.height()+n.outerHeight()<a.top?"top":"bottom",l=e.width()<a.left+m.outerWidth()/2&&a.left+m.outerWidth()>t(window).width()?"right":"left","top"===r?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===l?m.addClass("pull-right"):m.removeClass("pull-right"),"relative"!==e.css("position")&&"BODY"!==e[0].nodeName&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first(),0===e.length&&(e=t("body"))),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");m.css({top:"top"===r?"auto":o.top+n.outerHeight(),bottom:"top"===r?o.top+n.outerHeight():"auto",left:"left"===l?e.css("padding-left"):"auto",right:"left"===l?"auto":e.width()-n.outerWidth()}),s.widgetParent&&("top"===r?m.css({top:n.offset().top-m.outerHeight(),left:n.offset().left,bottom:"auto",right:"auto"}):m.css({top:n.offset().top+n.outerHeight(),left:n.offset().left,bottom:"auto",right:"auto"}))},T=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},A=function(t){m&&(t&&(d=Math.max(v,Math.min(2,d+t))),m.find(".datepicker > div").hide().filter(".datepicker-"+g[d].clsName).show())},I=function(){for(var e=t("<tr>"),i=u.clone().startOf("w").subtract(1,"d");i.isBefore(u.clone().endOf("w").subtract(1,"d"));)e.append(t("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");m.find(".datepicker-days thead").append(e)},L=function(t,e){return t.isValid()?s.minDate&&t.isBefore(s.minDate,e)?!1:!s.maxDate||!t.isAfter(s.maxDate,e):!1},R=function(){for(var e=[],i=u.clone().startOf("y").hour(12);i.isSame(u,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");m.find(".datepicker-months td").empty().append(e)},$=function(){var e=m.find(".datepicker-months"),i=e.find("th"),n=e.find("tbody").find("span");e.find(".disabled").removeClass("disabled"),L(u.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(u.year()),L(u.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),n.removeClass("active"),c.isSame(u,"y")&&n.eq(c.month()).addClass("active"),n.each(function(e){L(u.clone().month(e),"M")||t(this).addClass("disabled")})},O=function(){var t=m.find(".datepicker-years"),e=t.find("th"),i=u.clone().subtract(5,"y"),n=u.clone().add(6,"y"),o="";for(t.find(".disabled").removeClass("disabled"),s.minDate&&s.minDate.isAfter(i,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(i.year()+"-"+n.year()),s.maxDate&&s.maxDate.isBefore(n,"y")&&e.eq(2).addClass("disabled");!i.isAfter(n,"y");)o+='<span data-action="selectYear" class="year'+(i.isSame(c,"y")?" active":"")+(L(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");t.find("td").html(o)},N=function(){var i,n,s,o,a=m.find(".datepicker-days"),r=a.find("th"),l=[];if(b()){for(a.find(".disabled").removeClass("disabled"),r.eq(1).text(u.format("YYYY MMMM")),L(u.clone().subtract(1,"M"),"M")||r.eq(0).addClass("disabled"),L(u.clone().add(1,"M"),"M")||r.eq(2).addClass("disabled"),i=u.clone().startOf("M").startOf("week").subtract(1,"day"),6==u.clone().startOf("M").weekday()&&(i=u.clone().startOf("M")),n=u.clone().endOf("M").endOf("w").subtract(1,"day"),6==u.clone().endOf("M").weekday()&&(n=n.add(1,"w"));!n.isBefore(i,"d");)6===i.weekday()&&(s=t("<tr>"),l.push(s)),o="",i.isBefore(u,"M")&&(o+=" old"),i.isAfter(u,"M")&&(o+=" new"),i.isSame(c,"d")&&!p&&(o+=" active"),L(i,"d")||(o+=" disabled"),i.isSame(e(),"d")&&(o+=" today"),0!==i.day()&&6!==i.day()||(o+=" weekend"),s.append('<td data-action="selectDay" class="day'+o+'">'+i.date()+"</td>"),i.add(1,"d");a.find("tbody").empty().append(l),$(),O()}},F=function(){var e=m.find(".timepicker-hours table"),i=u.clone().startOf("d"),n=[],s=t("<tr>");for(u.hour()>11&&!a&&i.hour(12);i.isSame(u,"d")&&(a||u.hour()<12&&i.hour()<12||u.hour()>11);)i.hour()%4===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectHour" class="hour'+(L(i,"h")?"":" disabled")+'">'+i.format(a?"HH":"hh")+"</td>"),i.add(1,"h");e.empty().append(n)},H=function(){for(var e=m.find(".timepicker-minutes table"),i=u.clone().startOf("h"),n=[],s=t("<tr>"),o=5;u.isSame(i,"h");)i.minute()%(4*o)===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectMinute" class="minute'+(L(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(o,"m");e.empty().append(n)},P=function(){for(var e=m.find(".timepicker-seconds table"),i=u.clone().startOf("m"),n=[],s=t("<tr>");u.isSame(i,"m");)i.second()%20===0&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectSecond" class="second'+(L(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");e.empty().append(n)},q=function(){var t=m.find(".timepicker span[data-time-component]");a||m.find(".timepicker [data-action=togglePeriod]").text(c.format("A")),t.filter("[data-time-component=hours]").text(c.format(a?"HH":"hh")),t.filter("[data-time-component=minutes]").text(c.format("mm")),t.filter("[data-time-component=seconds]").text(c.format("ss")),F(),H(),P()},Y=function(){m&&(N(),q())},W=function(t){var e=p?null:c;return t?(t=t.clone().locale(s.locale),void(L(t)?(c=t,u=c.clone(),et(o,c.format(r)),n.data("date",c.format(r)),Y(),p=!1,T({type:"dp.change",date:c.clone(),oldDate:e})):(et(o,p?"":c.format(r)),T({type:"dp.error",date:t})))):(p=!0,et(o,""),n.data("date",""),T({type:"dp.change",date:null,oldDate:e}),void Y())},B=function(){var e=!1;return o.trigger("change.date"),m?(m.find(".collapse").each(function(){var i=t(this).data("collapse");return i&&i.transitioning?(e=!0,!1):!0}),e?h:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),t(window).off("resize",E),m.off("mousedown","[data-action]"),m.off("mouseenter"),m.off("mouseleave"),m.remove(),m=!1,T({type:"dp.hide",date:c.clone()}),h)):h},j=function(){W(null)},V={next:function(){u.add(g[d].navStep,g[d].navFnc),N()},previous:function(){u.subtract(g[d].navStep,g[d].navFnc),N()},pickerSwitch:function(){A(1)},selectMonth:function(e){var i=t(e.target).closest("tbody").find("span").index(t(e.target));u.month(i),d===v?(W(c.clone().year(u.year()).month(u.month())),B()):(A(-1),N())},selectYear:function(e){var i=parseInt(t(e.target).text(),10)||0;u.year(i),d===v?(W(c.clone().year(u.year())),B()):(A(-1),N())},selectDay:function(e){var i=u.clone();t(e.target).is(".old")&&i.subtract(1,"M"),t(e.target).is(".new")&&i.add(1,"M"),W(i.date(parseInt(t(e.target).text(),10))),o.blur(),B()},incrementHours:function(){W(c.clone().add(1,"h"))},incrementMinutes:function(){W(c.clone().add(1,"m"))},incrementSeconds:function(){W(c.clone().add(1,"s"))},decrementHours:function(){W(c.clone().subtract(1,"h"))},decrementMinutes:function(){W(c.clone().subtract(1,"m"))},decrementSeconds:function(){W(c.clone().subtract(1,"s"))},togglePeriod:function(){W(c.clone().add(c.hours()>=12?-12:12,"h"))},togglePicker:function(e){var i,n=t(e.target),o=n.closest("ul"),a=o.find(".in"),r=o.find(".collapse:not(.in)");if(a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse?(a.collapse("hide"),r.collapse("show")):(a.removeClass("in"),r.addClass("in")),n.is("span")?n.toggleClass(s.icons.time+" "+s.icons.date):n.find("span").toggleClass(s.icons.time+" "+s.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=parseInt(t(e.target).text(),10);a||(c.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),W(c.clone().hours(i)),V.showPicker.call(h)},selectMinute:function(e){W(c.clone().minutes(parseInt(t(e.target).text(),10))),V.showPicker.call(h)},selectSecond:function(e){W(c.clone().seconds(parseInt(t(e.target).text(),10))),V.showPicker.call(h)},clear:j,today:function(){W(e())},close:B},U=function(e){return t(e.currentTarget).is(".disabled")?!1:(V[t(e.currentTarget).data("action")].apply(h,arguments),!1)},z=function(){return o.prop("disabled")||!s.ignoreReadonly&&o.prop("readonly")||0==o.prop("contenteditable")||m||o.closest("fieldset").prop("disabled")?h:(p&&o.is(i)&&0===tt(o).trim().length,m=D(),I(),R(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),Y(),A(),t(window).on("resize",E),m.on("mousedown","[data-action]",U),m.on("mouseenter",function(){o.off("blur.picker")}),m.on("mouseleave",function(){o.focus().on("blur.picker",B)}),f&&f.hasClass("btn")&&f.toggleClass("active"),m.show(),E(),o.is(":focus")||o.focus(),T({type:"dp.show"}),h)},G=function(){return m?B():z()},X=function(t){return t=e.isMoment(t)||t instanceof Date?e(t):e(t,l),t.locale(s.locale),t},K=function(e){var i=tt(t(e.target)).trim(),n=i?X(i):null;return W(n),e.stopImmediatePropagation(),!1},J=function(){o.on({change:K,"blur.picker":B}),o.on({focus:z}),f&&(f.on("click",G),f.on("mousedown",!1))},Z=function(){o.off({change:K,blur:B}),o.off({focus:z}),f&&(f.off("click",G),f.off("mousedown",!1))},Q=function(){var t=s.format||"L LT";r=s.format||"YYYY-M-D  HH:mm",l=s.extraFormats?s.extraFormats.slice():[],l.indexOf(t)<0&&l.indexOf(r)<0&&l.push(r),a=r.toLowerCase().indexOf("a")<1&&r.indexOf("h")<1,C("y")&&(v=2),C("M")&&(v=1),C("d")&&(v=0),d=Math.max(v,d),p||W(c)},tt=function(t){var e;if(t.is("input"))e=t.val();else{if(!t.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");e=t.html()}return e},et=function(t,e){if(t.is("input"))t.val(e);else{if(!t.is("div[contenteditable=true]"))throw new Error("Must be a input or contenteditable div");t[0].value=e}};if(h.destroy=function(){B(),Z(),n.removeData("DateTimePicker"),n.removeData("date")},h.toggle=G,h.show=z,h.hide=B,h.ignoreReadonly=function(t){if(0===arguments.length)return s.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return s.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},s);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,s,e),t.each(s,function(t,e){void 0!==h[t]&&h[t](e)}),h},h.getLong=function(){return c.valueOf()},h.date=function(t){if(0===arguments.length)return p?null:c.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date)){if(t=parseFloat(t),isNaN(t))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");t=new Date(t)}return W(null===t?null:X(t)),h},h.format=function(t){if(0===arguments.length)return s.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return s.format=t,r&&Q(),h},h.extraFormats=function(t){if(0===arguments.length)return s.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return s.extraFormats=t,l&&Q(),h},h.maxDate=function(t){if(0===arguments.length)return s.maxDate?s.maxDate.clone():s.maxDate;if("boolean"==typeof t&&t===!1)return s.maxDate=!1,Y(),h;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(s.minDate&&i.isBefore(s.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+i.format(r));return s.maxDate=i,s.maxDate.isBefore(t)&&W(s.maxDate),u.isAfter(i)&&(u=i.clone()),Y(),h},h.minDate=function(t){if(0===arguments.length)return s.minDate?s.minDate.clone():s.minDate;if("boolean"==typeof t&&t===!1)return s.minDate=!1,Y(),h;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(s.maxDate&&i.isAfter(s.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+i.format(r));return s.minDate=i,s.minDate.isAfter(t)&&W(s.minDate),u.isBefore(i)&&(u=i.clone()),Y(),h},h.defaultDate=function(t){if(0===arguments.length)return s.defaultDate?s.defaultDate.clone():s.defaultDate;if(!t)return s.defaultDate=!1,h;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=e()));var i=X(t);if(!i.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!L(i))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return s.defaultDate=i,s.defaultDate&&""===tt(o).trim()&&void 0===o.attr("placeholder")&&W(s.defaultDate),h},h.locale=function(t){if(0===arguments.length)return s.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return s.locale=t,c.locale(s.locale),u.locale(s.locale),r&&Q(),m&&(B(),z()),h},h.sideBySide=function(t){if(0===arguments.length)return s.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return s.sideBySide=t,m&&(B(),z()),h},h.viewMode=function(t){if(0===arguments.length)return s.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===_.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+_.join(", ")+") value");return s.viewMode=t,d=Math.max(_.indexOf(t),v),A(),h},h.showTodayButton=function(t){if(0===arguments.length)return s.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return s.showTodayButton=t,m&&(B(),z()),h},h.showClear=function(t){if(0===arguments.length)return s.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return s.showClear=t,m&&(B(),z()),h},h.clear=function(){return j(),h},o=n.is(i)?n:n.find(i),n.hasClass("input-group")&&(f=0===n.find(".datepickerbutton").size()?n.find('[class^="input-group-"]'):n.find(".datepickerbutton")),!o.is(i))throw new Error("Could not initialize DateTimePicker without an input element");return t.extend(!0,s,M()),h.options(s),Q(),J(),o.is(i)&&0!==tt(o).trim().length?W(X(tt(o).trim())):s.defaultDate&&void 0===o.attr("placeholder")&&W(s.defaultDate),h};t.fn.datetimepicker=function(e){return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))})},t.fn.datetimepicker.defaults={format:!1,extraFormats:!1,minDate:!1,maxDate:!1,locale:e.locale("zh-cn"),defaultDate:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash"},sideBySide:!1,viewMode:"days",showTodayButton:!0,showClear:!0,ignoreReadonly:!1},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var i=t(this);if(!i.data("DateTimePicker")){e.preventDefault();var n=JSON.parse(i.attr("data-options")||null);i.datetimepicker(n||{}),i.data("DateTimePicker").show(),i.on("dp.change",function(){t(this).find("input").trigger("change")})}})}($,moment),+function(t,e){"use strict";function i(t){this.precision=t}function n(t){this.pattern=t}i.prototype.update=function(t){this.precision=t},i.prototype.format=function(e){if(!t.isNumeric(e))return"";for(;"0"==(e+"").charAt(0)&&e.length>1;)e=e.substring(1);var i=e;if(t.isNumeric(this.precision)){if(window.BigNumber)i=new BigNumber(e).toFixed(this.precision);else{var n=parseFloat(e);i=(Math.round(n*Math.pow(10,this.precision))/Math.pow(10,this.precision)).toFixed(this.precision)}if("NaN"==i)return""}return i},n.prototype.update=function(t){this.pattern=t},n.prototype.format=function(t){return e(t).format(this.pattern)},window.DataPlugins=window.DataPlugins?window.DataPlugins:{},window.DataPlugins.formater={getter:function(t){},setter:function(e,s){var o=JSON.parse(t(this).attr("data-plugin")),a=window.DataPlugins.formater[e.type];"number"==e.type?a=a?a.update(o.formater.precision):new i(o.formater.precision):"date"==e.type&&(a=a?a.update(o.formater.pattern):new n(o.formater.pattern)),this.showValue=a.format(s),this.trueValue=this.showValue}},t.NumberFormater=i,t.DateFormater=n}($,moment),+function(t){"use strict";function e(t){return t.toString().length>1?t.toString():"0"+t.toString()}String.prototype.trim=function(){return this.replace(/^\s*(\b.*\b|)\s*$/,"$1")},String.prototype.replaceStr=function(t,e){var i=this.split(t);return new String(i.join(e))},String.prototype.lengthb=function(){var t=this.replace(/[^\x00-\xff]/g,"**");return t.length},String.prototype.replaceAll=function(t,e){var i=new RegExp(t,"g");return this.replace(i,e)},String.prototype.substrCH=function(t){for(var e=0,i=0;t>e&&i<this.length;){var n=this.charCodeAt(i);if(n>256&&e==t-1)break;e+=n>256?2:1,i+=1}return this.substr(0,i)},String.prototype.startWith=function(t){return 0==this.indexOf(t)},String.prototype.endWith=function(t){var e=this.indexOf(t);return-1==e?void 0:e==this.length-t.length},String.prototype.format=function(t){if(null!=t){var e=this;for(var i in t){var n=new RegExp("\\<\\#\\="+i+"\\#\\>","gi");e=e.replace(n,t[i]?"null"==t[i]?"":t[i]:"");
}}return e},Date.prototype.format=function(t){var i=this.getFullYear(),n=this.getMonth()+1,s=this.getDate(),o=this.getHours(),a=this.getMinutes(),r=this.getSeconds();return t=t||"yyyy-MM-dd hh:mm:ss",t.replace(/yyyy/,i).replace(/yy/,i.toString().substr(2,2)).replace(/MM/,e(n)).replace(/M/,n).replace(/dd/,e(s)).replace(/d/,s).replace(/hh/,e(o)).replace(/h/,o).replace(/mm/,e(a)).replace(/m/,a).replace(/ss/,e(r)).replace(/s/,r)},Date.prototype.getAAAAMMJJ=function(){var t=this.getDate();10>t&&(t="0"+t);var e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getFullYear();return i+""+e+t},Date.prototype.getFomatDate=function(){var t=this.getFullYear(),e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getDate();return 10>i&&(i="0"+i),t+"-"+e+"-"+i},Date.prototype.getFomatDateTime=function(){var t=this.getFullYear(),e=this.getMonth()+1;10>e&&(e="0"+e);var i=this.getDate();10>i&&(i="0"+i);var n=this.getHours();10>n&&(n="0"+n);var s=this.getMinutes();10>s&&(s="0"+s);var o=this.getSeconds();return 10>o&&(o="0"+o),t+"-"+e+"-"+i+" "+n+":"+s+":"+o},Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,1)},Array.prototype.removeEle=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return void this.splice(e,1)},Math.UUID=function(){return((new Date).getTime()+"").substr(9)},String.UUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},Array.prototype.insert=function(t,e){return 0>t||t>this.length?void alert("index out of bound"):void this.splice(t,0,e)},Array.prototype.values=function(t){if(null==t)return null;for(var e=new Array,i=0;i<t.length;i++)e.push(this[t[i]]);return e},Array.prototype.clear=function(){this.splice(0,this.length)},Number.isNaN=Number.isNaN||function(t){return t!==t},window.getRequest=function(t){t||(t=document.location.search);var e=new Object;if(-1!=t.indexOf("?"))for(var i=t.substring(t.indexOf("?")+1),n=i.split("&"),s=0;s<n.length;s++)e[n[s].split("=")[0]]=unescape(n[s].split("=")[1]);return e},window.setCookie=function(t,e,i,n,s,o){var a=t+"="+encodeURIComponent(e);i&&(a+="; expires="+i.toGMTString()),n&&(a+="; path="+n),s&&(a+="; domain="+s),o&&(a+="; secure="+o),document.cookie=a},window.getCookie=function(t){var e="(?:; )?"+t+"=([^;]*);?",i=new RegExp(e);return i.test(document.cookie)?decodeURIComponent(RegExp.$1):null},window.deleteCookie=function(t,e,i){setCookie(t,"",new Date(0),e,i)},window.execIgnoreError=function(t,e,i){try{t.call(e,i)}catch(n){}},window.encodeBase64=function(t){for(var e,i,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=t.length,r="";a>o;){if(e=255&t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4),r+="==";break}if(i=t[o++],o==a){r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2),r+="=";break}n=t[o++],r+=s.charAt(e>>2),r+=s.charAt((3&e)<<4|(240&i)>>4),r+=s.charAt((15&i)<<2|(192&n)>>6),r+=s.charAt(63&n)}return r},t.getFunction=function(e,i){if(!i||"function"==typeof i)return i;if("function"==typeof e[i])return e[i];if("function"==typeof window[i])return window[i];if(-1!=i.indexOf(".")){var n=t.getJSObject(e,i);if("function"==typeof n)return n;if(n=t.getJSObject(window,i),"function"==typeof n)return n}return i},t.getJSObject=function(t,e){if(e){if("object"==typeof e)return e;for(var i=e.split("."),n=t,s=0;s<i.length;s++)if(n=n[i[s]],!n)return null;return n}},t.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},window.getCurrentJsPath=function(){var t=document,e={},i=+new Date,n=/((?:http|https|file):\/\/.*?\/[^:]+)(?::\d+)?:\d+/,s=-1===(""+t.querySelector).indexOf("[native code]");if(t.currentScript)return t.currentScript.src;var o;try{e.b()}catch(a){o=a.fileName||a.sourceURL||a.stack||a.stacktrace}if(o){var r=n.exec(o)[1];if(r)return r}for(var l,d=t.scripts,h=d.length-1;l=d[h--];)if(l.className!==i&&"interactive"===l.readyState)return l.className=i,s?l.getAttribute("src",4):l.src}}($),$.showLoading=u.showLoading,$.hideLoading=u.hideLoading,$.showWaiting=$.showLoading,$.removeWaiting=$.hideLoading,+function(t){"use strict";t.showMessage=function(e){var i=t('<div class="alert alert-'+e.type+' alert-dismissible"></div>'),n=t('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');i.append(n).append(e.msg),i.css({position:"fixed",display:"block"}),e.pos?e.pos.top&&e.pos.left?i.css({top:e.pos.top,left:e.pos.left}):e.pos.top&&e.pos.right?i.css({top:e.pos.top,right:e.pos.right}):e.pos.bottom&&e.pos.left?i.css({bottom:e.pos.bottom,left:e.pos.left}):e.pos.bottom&&e.pos.right?i.css({bottom:e.pos.bottom,right:e.pos.right}):e.pos.top?i.css({left:e.pos.left,top:10}):e.pos.bottom?i.css({bottom:e.pos.bottom,left:10}):e.pos.left?i.css({left:e.pos.left,top:10}):e.pos.right&&i.css({right:e.pos.right,top:10}):i.css({bottom:10,right:10}),i.css("z-index",99),setTimeout(function(){i.fadeOut("slow")},3e3),t(document.body).append(i),n.focus()},t.showMessageDialog=function(e){function i(){var t=n[0].offsetWidth||500,e=n[0].offsetHeight;n.css({margin:"0px",left:((window.innerWidth?window.innerWidth:document.body.clientWidth)-t)/2,top:((window.innerHeight?window.innerHeight:document.body.clientHeight)-e)/2})}if(e.type)var n=t('<div class="alert alert-'+e.type+' alert-dismissible alert-dialog"></div>');else var n=t('<div class="alert alert-warning alert-dismissible alert-dialog"></div>');var s=t('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>');if(e.title)var o=t("<h4>"+e.title+"</h4>");else var o=t("<h4>提示</h4>");e.msg=e.msg.replace(/&lt;br&gt;/g,"<br>");var a,r=t('<div class="alert-content"><p>'+e.msg+"</p></div>");a=t("danger"==e.type||"warning"==e.type?'<div class="alert-dialog-footer"><div class="col-md-4 diag_detail" ></div><div class="col-md-4" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn btn-danger btn-block">确定</button></div><div class="col-md-4"><button type="button" data-dismiss="alert" data-role="cancelbtn" class="btn btn-default btn-block">取消</button></div></div>':'<div class="alert-dialog-footer"><div class="col-md-4"  ></div><div class="col-md-4 diag_detail" ></div><div class="col-md-4" ><button type="button" data-role="okbtn" data-dismiss="alert" class="btn  btn-block">确定</button></div>'),n.append(s).append(o).append(r).append(a),e.width&&n.css({width:e.width}),e.height&&n.css({height:e.height}),e.detail&&(t(n).find(".diag_detail").append('<button type="button"  class="btn btn-block">详细</button>'),n.on("click",".diag_detail",function(){t(".detail_p").length>0?t(".detail_p").remove():n.append("<p class='detail_p'>"+e.detail+"</p>")})),e.backdrop&&(t(document.body).append('<div class="alert-backdrop" role="alert-dialog-backdrop"></div>'),n.on("close.bs.alert",function(){t('.alert-backdrop[role="alert-dialog-backdrop"]').remove()})),n.find('[data-role="okbtn"]').on("click.alert.ok",e.okfn),e.cancelfn&&"function"==typeof e.cancelfn&&(n.find('[data-role="cancelbtn"]').on("click",e.cancelfn),n.find('[aria-hidden="true"]').on("click",e.cancelfn)),n.css("z-index",e.zIndex||99),t(document.body).append(n),n.find('[data-role="okbtn"]').focus(),i()},t.removeAlert=function(){var e;(e=t(".alert")).length&&e.remove(),(e=t(".alert-backdrop")).length&&e.remove()}}($);